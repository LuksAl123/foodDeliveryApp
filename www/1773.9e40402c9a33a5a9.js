"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1773],{1773:(S,c,t)=>{t.r(c),t.d(c,{AddBannerPageModule:()=>Z});var g=t(4755),p=t(5030),r=t(6794),u=t(4517),h=t(5861),B=t(8746),n=t(2223),v=t(9097),A=t(2158),P=t(7020);function b(a,i){if(1&a&&n._UZ(0,"img",7),2&a){const e=n.oxw();n.Q6J("src",e.bannerImage,n.LSH)}}const y=[{path:"",component:(()=>{class a{constructor(e,o,s){this.afStorage=e,this.apiService=o,this.global=s}ngOnInit(){}preview(e){console.log(e);const o=e.target.files;if(0==o.length||null==o[0].type.match(/image\/*/))return;const l=o[0],m="banner/"+Date.now()+"_"+l.name,I=this.afStorage.ref(m);this.afStorage.upload(m,l).snapshotChanges().pipe((0,B.x)(()=>{I.getDownloadURL().subscribe(d=>{console.log("url: ",d),d&&(this.bannerImage=d)})})).subscribe(f=>{console.log("data: ",f)})}saveBanner(){var e=this;return(0,h.Z)(function*(){try{if(""==e.bannerImage||!e.bannerImage)return;e.global.showLoader();const o={banner:e.bannerImage,status:"active"};yield e.apiService.addBanner(o),e.global.hideLoader(),e.global.successToast("Banner Created!")}catch{e.global.errorToast()}})()}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(v.Q1),n.Y36(A.s),n.Y36(P.U))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-add-banner"]],decls:13,vars:1,consts:[["color","primary"],["slot","start"],["defaultHref","/admin"],["lines","none"],["type","file",3,"change"],[3,"src",4,"ngIf"],["expand","block","color","primary",1,"ion-margin",3,"click"],[3,"src"]],template:function(e,o){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Add Banner"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-list",3)(8,"ion-item")(9,"input",4),n.NdJ("change",function(l){return o.preview(l)}),n.qZA(),n.YNc(10,b,1,1,"img",5),n.qZA()(),n.TgZ(11,"ion-button",6),n.NdJ("click",function(){return o.saveBanner()}),n._uU(12,"Save"),n.qZA()()),2&e&&(n.xp6(10),n.Q6J("ngIf",o.bannerImage))},dependencies:[g.O5,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.Ie,r.q_,r.wd,r.sr,r.cs],styles:["img[_ngcontent-%COMP%]{height:10vh;width:10vh;float:right}"]}),a})()}];let T=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[u.Bz.forChild(y),u.Bz]}),a})(),Z=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[g.ez,p.u5,r.Pc,T]}),a})()}}]);