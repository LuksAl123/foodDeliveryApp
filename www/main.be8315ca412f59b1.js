(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7423:(ln,gt,P)=>{"use strict";P.d(gt,{Uw:()=>Ce,dV:()=>Ie,fo:()=>ce});var c=P(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var qe=(()=>((qe=qe||{}).Unimplemented="UNIMPLEMENTED",qe.Unavailable="UNAVAILABLE",qe))();class Qe extends Error{constructor($e,xe,lt){super($e),this.message=$e,this.code=xe,this.data=lt}}const ae=Xe=>{var $e,xe,lt,be,he;const Z=Xe.CapacitorCustomPlatform||null,M=Xe.Capacitor||{},A=M.Plugins=M.Plugins||{},j=Xe.CapacitorPlatforms,pe=(null===($e=j?.currentPlatform)||void 0===$e?void 0:$e.getPlatform)||(()=>null!==Z?Z.name:(Xe=>{var $e,xe;return Xe?.androidBridge?"android":null!==(xe=null===($e=Xe?.webkit)||void 0===$e?void 0:$e.messageHandlers)&&void 0!==xe&&xe.bridge?"ios":"web"})(Xe)),We=(null===(xe=j?.currentPlatform)||void 0===xe?void 0:xe.isNativePlatform)||(()=>"web"!==pe()),it=(null===(lt=j?.currentPlatform)||void 0===lt?void 0:lt.isPluginAvailable)||(xt=>{const Ht=Tt.get(xt);return!(!Ht?.platforms.has(pe())&&!at(xt))}),at=(null===(be=j?.currentPlatform)||void 0===be?void 0:be.getPluginHeader)||(xt=>{var Ht;return null===(Ht=M.PluginHeaders)||void 0===Ht?void 0:Ht.find(kt=>kt.name===xt)}),Tt=new Map,yn=(null===(he=j?.currentPlatform)||void 0===he?void 0:he.registerPlugin)||((xt,Ht={})=>{const kt=Tt.get(xt);if(kt)return console.warn(`Capacitor plugin "${xt}" already registered. Cannot register plugins twice.`),kt.proxy;const cn=pe(),xn=at(xt);let On;const Jt=function(){var Dn=(0,c.Z)(function*(){return!On&&cn in Ht?On=On="function"==typeof Ht[cn]?yield Ht[cn]():Ht[cn]:null!==Z&&!On&&"web"in Ht&&(On=On="function"==typeof Ht.web?yield Ht.web():Ht.web),On});return function(){return Dn.apply(this,arguments)}}(),wn=Dn=>{let nr;const yr=(...In)=>{const sr=Jt().then(jn=>{const rr=((Dn,nr)=>{var yr,In;if(!xn){if(Dn)return null===(In=Dn[nr])||void 0===In?void 0:In.bind(Dn);throw new Qe(`"${xt}" plugin is not implemented on ${cn}`,qe.Unimplemented)}{const sr=xn?.methods.find(jn=>nr===jn.name);if(sr)return"promise"===sr.rtype?jn=>M.nativePromise(xt,nr.toString(),jn):(jn,rr)=>M.nativeCallback(xt,nr.toString(),jn,rr);if(Dn)return null===(yr=Dn[nr])||void 0===yr?void 0:yr.bind(Dn)}})(jn,Dn);if(rr){const Dr=rr(...In);return nr=Dr?.remove,Dr}throw new Qe(`"${xt}.${Dn}()" is not implemented on ${cn}`,qe.Unimplemented)});return"addListener"===Dn&&(sr.remove=(0,c.Z)(function*(){return nr()})),sr};return yr.toString=()=>`${Dn.toString()}() { [capacitor code] }`,Object.defineProperty(yr,"name",{value:Dn,writable:!1,configurable:!1}),yr},En=wn("addListener"),Zn=wn("removeListener"),Nn=(Dn,nr)=>{const yr=En({eventName:Dn},nr),In=function(){var jn=(0,c.Z)(function*(){const rr=yield yr;Zn({eventName:Dn,callbackId:rr},nr)});return function(){return jn.apply(this,arguments)}}(),sr=new Promise(jn=>yr.then(()=>jn({remove:In})));return sr.remove=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield In()}),sr},wr=new Proxy({},{get(Dn,nr){switch(nr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return xn?Nn:En;case"removeListener":return Zn;default:return wn(nr)}}});return A[xt]=wr,Tt.set(xt,{name:xt,proxy:wr,platforms:new Set([...Object.keys(Ht),...xn?[cn]:[]])}),wr});return M.convertFileSrc||(M.convertFileSrc=xt=>xt),M.getPlatform=pe,M.handleError=xt=>Xe.console.error(xt),M.isNativePlatform=We,M.isPluginAvailable=it,M.pluginMethodNoop=(xt,Ht,kt)=>Promise.reject(`${kt} does not have an implementation of "${Ht}".`),M.registerPlugin=yn,M.Exception=Qe,M.DEBUG=!!M.DEBUG,M.isLoggingEnabled=!!M.isLoggingEnabled,M.platform=M.getPlatform(),M.isNative=M.isNativePlatform(),M},Ie=(Xe=>Xe.Capacitor=ae(Xe))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ce=Ie.registerPlugin;class Ce{constructor($e){this.listeners={},this.windowListeners={},$e&&(console.warn(`Capacitor WebPlugin "${$e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=$e)}addListener($e,xe){var lt=this;this.listeners[$e]||(this.listeners[$e]=[]),this.listeners[$e].push(xe);const he=this.windowListeners[$e];he&&!he.registered&&this.addWindowListener(he);const Z=function(){var A=(0,c.Z)(function*(){return lt.removeListener($e,xe)});return function(){return A.apply(this,arguments)}}(),M=Promise.resolve({remove:Z});return Object.defineProperty(M,"remove",{value:(A=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Z()}),function(){return A.apply(this,arguments)})}),M;var A}removeAllListeners(){var $e=this;return(0,c.Z)(function*(){$e.listeners={};for(const xe in $e.windowListeners)$e.removeWindowListener($e.windowListeners[xe]);$e.windowListeners={}})()}notifyListeners($e,xe){const lt=this.listeners[$e];lt&&lt.forEach(be=>be(xe))}hasListeners($e){return!!this.listeners[$e].length}registerWindowListener($e,xe){this.windowListeners[xe]={registered:!1,windowEventName:$e,pluginEventName:xe,handler:lt=>{this.notifyListeners(xe,lt)}}}unimplemented($e="not implemented"){return new Ie.Exception($e,qe.Unimplemented)}unavailable($e="not available"){return new Ie.Exception($e,qe.Unavailable)}removeListener($e,xe){var lt=this;return(0,c.Z)(function*(){const be=lt.listeners[$e];if(!be)return;const he=be.indexOf(xe);lt.listeners[$e].splice(he,1),lt.listeners[$e].length||lt.removeWindowListener(lt.windowListeners[$e])})()}addWindowListener($e){window.addEventListener($e.windowEventName,$e.handler),$e.registered=!0}removeWindowListener($e){$e&&(window.removeEventListener($e.windowEventName,$e.handler),$e.registered=!1)}}const ot=Xe=>encodeURIComponent(Xe).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),yt=Xe=>Xe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class De extends Ce{getCookies(){return(0,c.Z)(function*(){const $e=document.cookie,xe={};return $e.split(";").forEach(lt=>{if(lt.length<=0)return;let[be,he]=lt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");be=yt(be).trim(),he=yt(he).trim(),xe[be]=he}),xe})()}setCookie($e){return(0,c.Z)(function*(){try{const xe=ot($e.key),lt=ot($e.value),be=`; expires=${($e.expires||"").replace("expires=","")}`,he=($e.path||"/").replace("path=",""),Z=null!=$e.url&&$e.url.length>0?`domain=${$e.url}`:"";document.cookie=`${xe}=${lt||""}${be}; path=${he}; ${Z};`}catch(xe){return Promise.reject(xe)}})()}deleteCookie($e){return(0,c.Z)(function*(){try{document.cookie=`${$e.key}=; Max-Age=0`}catch(xe){return Promise.reject(xe)}})()}clearCookies(){return(0,c.Z)(function*(){try{const $e=document.cookie.split(";")||[];for(const xe of $e)document.cookie=xe.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch($e){return Promise.reject($e)}})()}clearAllCookies(){var $e=this;return(0,c.Z)(function*(){try{yield $e.clearCookies()}catch(xe){return Promise.reject(xe)}})()}}ce("CapacitorCookies",{web:()=>new De});const Ge=function(){var Xe=(0,c.Z)(function*($e){return new Promise((xe,lt)=>{const be=new FileReader;be.onload=()=>{const he=be.result;xe(he.indexOf(",")>=0?he.split(",")[1]:he)},be.onerror=he=>lt(he),be.readAsDataURL($e)})});return function(xe){return Xe.apply(this,arguments)}}();class oe extends Ce{request($e){return(0,c.Z)(function*(){const xe=((Xe,$e={})=>{const xe=Object.assign({method:Xe.method||"GET",headers:Xe.headers},$e),be=((Xe={})=>{const $e=Object.keys(Xe);return Object.keys(Xe).map(be=>be.toLocaleLowerCase()).reduce((be,he,Z)=>(be[he]=Xe[$e[Z]],be),{})})(Xe.headers)["content-type"]||"";if("string"==typeof Xe.data)xe.body=Xe.data;else if(be.includes("application/x-www-form-urlencoded")){const he=new URLSearchParams;for(const[Z,M]of Object.entries(Xe.data||{}))he.set(Z,M);xe.body=he.toString()}else if(be.includes("multipart/form-data")){const he=new FormData;if(Xe.data instanceof FormData)Xe.data.forEach((M,A)=>{he.append(A,M)});else for(const M of Object.keys(Xe.data))he.append(M,Xe.data[M]);xe.body=he;const Z=new Headers(xe.headers);Z.delete("content-type"),xe.headers=Z}else(be.includes("application/json")||"object"==typeof Xe.data)&&(xe.body=JSON.stringify(Xe.data));return xe})($e,$e.webFetchExtra),lt=((Xe,$e=!0)=>Xe?Object.entries(Xe).reduce((lt,be)=>{const[he,Z]=be;let M,A;return Array.isArray(Z)?(A="",Z.forEach(j=>{M=$e?encodeURIComponent(j):j,A+=`${he}=${M}&`}),A.slice(0,-1)):(M=$e?encodeURIComponent(Z):Z,A=`${he}=${M}`),`${lt}&${A}`},"").substr(1):null)($e.params,$e.shouldEncodeUrlParams),be=lt?`${$e.url}?${lt}`:$e.url,he=yield fetch(be,xe),Z=he.headers.get("content-type")||"";let A,j,{responseType:M="text"}=he.ok?$e:{};switch(Z.includes("application/json")&&(M="json"),M){case"arraybuffer":case"blob":j=yield he.blob(),A=yield Ge(j);break;case"json":A=yield he.json();break;default:A=yield he.text()}const Oe={};return he.headers.forEach((pe,He)=>{Oe[He]=pe}),{data:A,headers:Oe,status:he.status,url:he.url}})()}get($e){var xe=this;return(0,c.Z)(function*(){return xe.request(Object.assign(Object.assign({},$e),{method:"GET"}))})()}post($e){var xe=this;return(0,c.Z)(function*(){return xe.request(Object.assign(Object.assign({},$e),{method:"POST"}))})()}put($e){var xe=this;return(0,c.Z)(function*(){return xe.request(Object.assign(Object.assign({},$e),{method:"PUT"}))})()}patch($e){var xe=this;return(0,c.Z)(function*(){return xe.request(Object.assign(Object.assign({},$e),{method:"PATCH"}))})()}delete($e){var xe=this;return(0,c.Z)(function*(){return xe.request(Object.assign(Object.assign({},$e),{method:"DELETE"}))})()}}ce("CapacitorHttp",{web:()=>new oe})},8966:(ln,gt,P)=>{"use strict";P.d(gt,{$:()=>Y,A:()=>ae,G:()=>ce,K:()=>er,L:()=>Zr,N:()=>nt,P:()=>fa,R:()=>Ju,U:()=>St,V:()=>Zi,W:()=>Ao,X:()=>Lo,Y:()=>qs,Z:()=>mi,_:()=>I,a:()=>la,a0:()=>Nr,a1:()=>Oi,a2:()=>Ri,a3:()=>Zo,a4:()=>Xo,a5:()=>ks,a6:()=>kl,a7:()=>Fl,a8:()=>Ta,a9:()=>Ll,aA:()=>Tr,aB:()=>Ke,aC:()=>oe,aD:()=>ql,aE:()=>de,aF:()=>Ot,aG:()=>ds,aH:()=>ol,aI:()=>pd,aJ:()=>Mr,aN:()=>cs,aQ:()=>v,aa:()=>Eu,ab:()=>$a,ac:()=>wa,ad:()=>Fs,ae:()=>Ss,af:()=>wo,ag:()=>x,ah:()=>L,ak:()=>Qt,al:()=>oi,am:()=>si,ap:()=>_i,aq:()=>Ko,as:()=>ua,at:()=>ls,au:()=>Xe,av:()=>Pr,aw:()=>ni,ax:()=>De,ay:()=>$u,az:()=>Mo,b:()=>Du,c:()=>$l,d:()=>Do,e:()=>xu,f:()=>nu,g:()=>uh,h:()=>Pa,i:()=>ca,j:()=>Fu,k:()=>Nc,l:()=>eo,m:()=>cu,o:()=>Na,p:()=>qe,r:()=>Ja,s:()=>el,u:()=>da});var c=P(5861),d=P(9681),G=P(2090),ue=P(1877),Ae=P(7582),Fe=P(4859);const qe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ye=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ue.Yd("@firebase/auth");function yt(b,...h){Pe.logLevel<=ue.in.ERROR&&Pe.error(`Auth (${d.SDK_VERSION}): ${b}`,...h)}function De(b,...h){throw Me(b,...h)}function Ke(b,...h){return Me(b,...h)}function Ge(b,h,g){const w=Object.assign(Object.assign({},ye()),{[h]:g});return new G.LL("auth","Firebase",w).create(h,{appName:b.name})}function Je(b){return Ge(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ye(b,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&De(b,"argument-error"),Ge(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(b,...h){if("string"!=typeof b){const g=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(g,...w)}return Ve.create(b,...h)}function oe(b,h,...g){if(!b)throw Me(h,...g)}function ze(b){const h="INTERNAL ASSERTION FAILED: "+b;throw yt(h),new Error(h)}function Xe(b,h){b||ze(h)}function $e(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function xe(){return"http:"===lt()||"https:"===lt()}function lt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Z{constructor(h,g){this.shortDelay=h,this.longDelay=g,Xe(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M(b,h){Xe(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class A{static initialize(h,g,w){this.fetchImpl=h,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oe=new Z(3e4,6e4);function pe(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function He(b,h,g,w){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(b,h,g,w,ne={}){return Ue(b,ne,(0,c.Z)(function*(){let Te={},vt={};w&&("GET"===h?vt=w:Te={body:JSON.stringify(w)});const Bt=(0,G.xO)(Object.assign({key:b.config.apiKey},vt)).slice(1),hn=yield b._getAdditionalHeaders();hn["Content-Type"]="application/json",b.languageCode&&(hn["X-Firebase-Locale"]=b.languageCode);const Un=Object.assign({method:h,headers:hn},Te);return(0,G.L_)()||(Un.referrerPolicy="no-referrer"),A.fetch()(Ct(b,b.config.apiHost,g,Bt),Un)}))})).apply(this,arguments)}function Ue(b,h,g){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(b,h,g){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},j),h);try{const ne=new Tt(b),Te=yield Promise.race([g(),ne.promise]);ne.clearNetworkTimeout();const vt=yield Te.json();if("needConfirmation"in vt)throw gn(b,"account-exists-with-different-credential",vt);if(Te.ok&&!("errorMessage"in vt))return vt;{const Bt=Te.ok?vt.errorMessage:vt.error.message,[hn,Un]=Bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===hn)throw gn(b,"credential-already-in-use",vt);if("EMAIL_EXISTS"===hn)throw gn(b,"email-already-in-use",vt);if("USER_DISABLED"===hn)throw gn(b,"user-disabled",vt);const $n=w[hn]||hn.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw Ge(b,$n,Un);De(b,$n)}}catch(ne){if(ne instanceof G.ZR)throw ne;De(b,"network-request-failed",{message:String(ne)})}})).apply(this,arguments)}function st(b,h,g,w){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(b,h,g,w,ne={}){const Te=yield He(b,h,g,w,ne);return"mfaPendingCredential"in Te&&De(b,"multi-factor-auth-required",{_serverResponse:Te}),Te})).apply(this,arguments)}function Ct(b,h,g,w){const ne=`${h}${g}?${w}`;return b.config.emulator?M(b.config,ne):`${b.config.apiScheme}://${ne}`}function Kt(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ke(this.auth,"network-request-failed")),Oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(b,h,g){const w={appName:b.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const ne=Ke(b,h,w);return ne.customData._tokenResponse=g,ne}function yn(b){return void 0!==b&&void 0!==b.getResponse}function xt(b){return void 0!==b&&void 0!==b.enterprise}class Ht{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Kt(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function cn(){return(cn=(0,c.Z)(function*(b){return(yield He(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(b,h){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(b,h){return He(b,"GET","/v2/recaptchaConfig",pe(b,h))})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(b,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function wr(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function yr(){return(yr=(0,c.Z)(function*(b,h=!1){const g=(0,G.m9)(b),w=yield g.getIdToken(h),ne=sr(w);oe(ne&&ne.exp&&ne.auth_time&&ne.iat,g.auth,"internal-error");const Te="object"==typeof ne.firebase?ne.firebase:void 0,vt=Te?.sign_in_provider;return{claims:ne,token:w,authTime:wr(In(ne.auth_time)),issuedAtTime:wr(In(ne.iat)),expirationTime:wr(In(ne.exp)),signInProvider:vt||null,signInSecondFactor:Te?.sign_in_second_factor||null}})).apply(this,arguments)}function In(b){return 1e3*Number(b)}function sr(b){const[h,g,w]=b.split(".");if(void 0===h||void 0===g||void 0===w)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,G.tV)(g);return ne?JSON.parse(ne):(yt("Failed to decode base64 JWT payload"),null)}catch(ne){return yt("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function jn(b){const h=sr(b);return oe(h,"internal-error"),oe(typeof h.exp<"u","internal-error"),oe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function rr(b,h){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(b,h,g=!1){if(g)return h;try{return yield h}catch(w){throw w instanceof G.ZR&&function fi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class wt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const ne=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class cr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(b){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(b){var h;const g=b.auth,w=yield b.getIdToken(),ne=yield rr(b,Zn(g,{idToken:w}));oe(ne?.users.length,g,"internal-error");const Te=ne.users[0];b._notifyReloadListener(Te);const vt=null!==(h=Te.providerUserInfo)&&void 0!==h&&h.length?Cr(Te.providerUserInfo):[],Bt=function vr(b,h){return[...b.filter(w=>!h.some(ne=>ne.providerId===w.providerId)),...h]}(b.providerData,vt),$n=!!b.isAnonymous&&!(b.email&&Te.passwordHash||Bt?.length),Jr={uid:Te.localId,displayName:Te.displayName||null,photoURL:Te.photoUrl||null,email:Te.email||null,emailVerified:Te.emailVerified||!1,phoneNumber:Te.phoneNumber||null,tenantId:Te.tenantId||null,providerData:Bt,metadata:new cr(Te.createdAt,Te.lastLoginAt),isAnonymous:$n};Object.assign(b,Jr)})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(b){const h=(0,G.m9)(b);yield pr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Cr(b){return b.map(h=>{var{providerId:g}=h,w=(0,Ae._T)(h,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function dn(){return(dn=(0,c.Z)(function*(b,h){const g=yield Ue(b,{},(0,c.Z)(function*(){const w=(0,G.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:ne,apiKey:Te}=b.config,vt=Ct(b,ne,"/v1/token",`key=${Te}`),Bt=yield b._getAdditionalHeaders();return Bt["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(vt,{method:"POST",headers:Bt,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(b,h){return He(b,"POST","/v2/accounts:revokeToken",pe(b,h))})).apply(this,arguments)}class S{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){oe(h.idToken,"internal-error"),oe(typeof h.idToken<"u","internal-error"),oe(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):jn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){oe(0!==h.length,"internal-error");const g=jn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var w=this;return(0,c.Z)(function*(){return g||!w.accessToken||w.isExpired?(oe(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var w=this;return(0,c.Z)(function*(){const{accessToken:ne,refreshToken:Te,expiresIn:vt}=yield function Kn(b,h){return dn.apply(this,arguments)}(h,g);w.updateTokensAndExpiration(ne,Te,Number(vt))})()}updateTokensAndExpiration(h,g,w){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,g){const{refreshToken:w,accessToken:ne,expirationTime:Te}=g,vt=new S;return w&&(oe("string"==typeof w,"internal-error",{appName:h}),vt.refreshToken=w),ne&&(oe("string"==typeof ne,"internal-error",{appName:h}),vt.accessToken=ne),Te&&(oe("number"==typeof Te,"internal-error",{appName:h}),vt.expirationTime=Te),vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new S,this.toJSON())}_performRefresh(){return ze("not implemented")}}function $(b,h){oe("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class K{constructor(h){var{uid:g,auth:w,stsTokenManager:ne}=h,Te=(0,Ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=Te.displayName||null,this.email=Te.email||null,this.emailVerified=Te.emailVerified||!1,this.phoneNumber=Te.phoneNumber||null,this.photoURL=Te.photoURL||null,this.isAnonymous=Te.isAnonymous||!1,this.tenantId=Te.tenantId||null,this.providerData=Te.providerData?[...Te.providerData]:[],this.metadata=new cr(Te.createdAt||void 0,Te.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,c.Z)(function*(){const w=yield rr(g,g.stsTokenManager.getToken(g.auth,h));return oe(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(h){return function nr(b){return yr.apply(this,arguments)}(this,h)}reload(){return function qr(b){return ti.apply(this,arguments)}(this)}_assign(h){this!==h&&(oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new K(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var w=this;return(0,c.Z)(function*(){let ne=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),ne=!0),g&&(yield pr(w)),yield w.auth._persistUserIfCurrent(w),ne&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,c.Z)(function*(){if((0,d._isFirebaseServerApp)(h.auth.app))return Promise.reject(Je(h.auth));const g=yield h.getIdToken();return yield rr(h,function Jt(b,h){return un.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var w,ne,Te,vt,Bt,hn,Un,$n;const Jr=null!==(w=g.displayName)&&void 0!==w?w:void 0,xo=null!==(ne=g.email)&&void 0!==ne?ne:void 0,na=null!==(Te=g.phoneNumber)&&void 0!==Te?Te:void 0,ka=null!==(vt=g.photoURL)&&void 0!==vt?vt:void 0,Ql=null!==(Bt=g.tenantId)&&void 0!==Bt?Bt:void 0,hl=null!==(hn=g._redirectEventId)&&void 0!==hn?hn:void 0,Id=null!==(Un=g.createdAt)&&void 0!==Un?Un:void 0,bd=null!==($n=g.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:ts,emailVerified:Jl,isAnonymous:Bc,providerData:_a,stsTokenManager:Bo}=g;oe(ts&&Bo,h,"internal-error");const Is=S.fromJSON(this.name,Bo);oe("string"==typeof ts,h,"internal-error"),$(Jr,h.name),$(xo,h.name),oe("boolean"==typeof Jl,h,"internal-error"),oe("boolean"==typeof Bc,h,"internal-error"),$(na,h.name),$(ka,h.name),$(Ql,h.name),$(hl,h.name),$(Id,h.name),$(bd,h.name);const Ms=new K({uid:ts,auth:h,email:xo,emailVerified:Jl,displayName:Jr,isAnonymous:Bc,photoURL:ka,phoneNumber:na,tenantId:Ql,stsTokenManager:Is,createdAt:Id,lastLoginAt:bd});return _a&&Array.isArray(_a)&&(Ms.providerData=_a.map(fl=>Object.assign({},fl))),hl&&(Ms._redirectEventId=hl),Ms}static _fromIdTokenResponse(h,g,w=!1){return(0,c.Z)(function*(){const ne=new S;ne.updateFromServerResponse(g);const Te=new K({uid:g.localId,auth:h,stsTokenManager:ne,isAnonymous:w});return yield pr(Te),Te})()}static _fromGetAccountInfoResponse(h,g,w){return(0,c.Z)(function*(){const ne=g.users[0];oe(void 0!==ne.localId,"internal-error");const Te=void 0!==ne.providerUserInfo?Cr(ne.providerUserInfo):[],vt=!(ne.email&&ne.passwordHash||Te?.length),Bt=new S;Bt.updateFromIdToken(w);const hn=new K({uid:ne.localId,auth:h,stsTokenManager:Bt,isAnonymous:vt}),Un={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Te,metadata:new cr(ne.createdAt,ne.lastLoginAt),isAnonymous:!(ne.email&&ne.passwordHash||Te?.length)};return Object.assign(hn,Un),hn})()}}const z=new Map;function de(b){Xe(b instanceof Function,"Expected a class definition");let h=z.get(b);return h?(Xe(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,z.set(b,h),h)}const St=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var ne=this;return(0,c.Z)(function*(){ne.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const ne=w.storage[g];return void 0===ne?null:ne})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return b.type="NONE",b})();function Ot(b,h,g){return`firebase:${b}:${h}:${g}`}class Gt{constructor(h,g,w){this.persistence=h,this.auth=g,this.userKey=w;const{config:ne,name:Te}=this.auth;this.fullUserKey=Ot(this.userKey,ne.apiKey,Te),this.fullPersistenceKey=Ot("persistence",ne.apiKey,Te),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?K._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,c.Z)(function*(){if(g.persistence===h)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Gt(de(St),h,w);const ne=(yield Promise.all(g.map(function(){var Un=(0,c.Z)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let Te=ne[0]||de(St);const vt=Ot(w,h.config.apiKey,h.name);let Bt=null;for(const Un of g)try{const $n=yield Un._get(vt);if($n){const Jr=K._fromJSON(h,$n);Un!==Te&&(Bt=Jr),Te=Un;break}}catch{}const hn=ne.filter(Un=>Un._shouldAllowMigration);return Te._shouldAllowMigration&&hn.length?(Te=hn[0],Bt&&(yield Te._set(vt,Bt.toJSON())),yield Promise.all(g.map(function(){var Un=(0,c.Z)(function*($n){if($n!==Te)try{yield $n._remove(vt)}catch{}});return function($n){return Un.apply(this,arguments)}}())),new Gt(Te,h,w)):new Gt(Te,h,w)})()}}function Hn(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if($r(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(en(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ai(h))return"Blackberry";if(Si(h))return"Webos";if(ir(h))return"Safari";if((h.includes("chrome/")||fr(h))&&!h.includes("edge/"))return"Chrome";if(ni(h))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function en(b=(0,G.z$)()){return/firefox\//i.test(b)}function ir(b=(0,G.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function fr(b=(0,G.z$)()){return/crios\//i.test(b)}function $r(b=(0,G.z$)()){return/iemobile/i.test(b)}function ni(b=(0,G.z$)()){return/android/i.test(b)}function Ai(b=(0,G.z$)()){return/blackberry/i.test(b)}function Si(b=(0,G.z$)()){return/webos/i.test(b)}function Pr(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Tr(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Wr(b=(0,G.z$)()){return Pr(b)||ni(b)||Si(b)||Ai(b)||/windows phone/i.test(b)||$r(b)}function gr(b,h=[]){let g;switch(b){case"Browser":g=Hn((0,G.z$)());break;case"Worker":g=`${Hn((0,G.z$)())}-${b}`;break;default:g=b}const w=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${d.SDK_VERSION}/${w}`}class dr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const w=Te=>new Promise((vt,Bt)=>{try{vt(h(Te))}catch(hn){Bt(hn)}});w.onAbort=g,this.queue.push(w);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===h)return;const w=[];try{for(const ne of g.queue)yield ne(h),ne.onAbort&&w.push(ne.onAbort)}catch(ne){w.reverse();for(const Te of w)try{Te()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}function pi(){return(pi=(0,c.Z)(function*(b,h={}){return He(b,"GET","/v2/passwordPolicy",pe(b,h))})).apply(this,arguments)}class No{constructor(h){var g,w,ne,Te;const vt=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=vt.minPasswordLength)&&void 0!==g?g:6,vt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=vt.maxPasswordLength),void 0!==vt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=vt.containsLowercaseCharacter),void 0!==vt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=vt.containsUppercaseCharacter),void 0!==vt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=vt.containsNumericCharacter),void 0!==vt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=vt.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ne=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==ne?ne:"",this.forceUpgradeOnSignin=null!==(Te=h.forceUpgradeOnSignin)&&void 0!==Te&&Te,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,w,ne,Te,vt,Bt;const hn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,hn),this.validatePasswordCharacterOptions(h,hn),hn.isValid&&(hn.isValid=null===(g=hn.meetsMinPasswordLength)||void 0===g||g),hn.isValid&&(hn.isValid=null===(w=hn.meetsMaxPasswordLength)||void 0===w||w),hn.isValid&&(hn.isValid=null===(ne=hn.containsLowercaseLetter)||void 0===ne||ne),hn.isValid&&(hn.isValid=null===(Te=hn.containsUppercaseLetter)||void 0===Te||Te),hn.isValid&&(hn.isValid=null===(vt=hn.containsNumericCharacter)||void 0===vt||vt),hn.isValid&&(hn.isValid=null===(Bt=hn.containsNonAlphanumericCharacter)||void 0===Bt||Bt),hn}validatePasswordLengthOptions(h,g){const w=this.customStrengthOptions.minPasswordLength,ne=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=h.length>=w),ne&&(g.meetsMaxPasswordLength=h.length<=ne)}validatePasswordCharacterOptions(h,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let ne=0;ne<h.length;ne++)w=h.charAt(ne),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,g,w,ne,Te){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=ne)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Te))}}class Ki{constructor(h,g,w,ne){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(h,g){var w=this;return g&&(this._popupRedirectResolver=de(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var ne,Te;if(!w._deleted&&(w.persistenceManager=yield Gt.create(w,h),!w._deleted)){if(null!==(ne=w._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(Te=w.currentUser)||void 0===Te?void 0:Te.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,c.Z)(function*(){try{const w=yield Zn(g,{idToken:h}),ne=yield K._fromGetAccountInfoResponse(g,w,h);yield g.directlySetCurrentUser(ne)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,c.Z)(function*(){var w;if((0,d._isFirebaseServerApp)(g.app)){const Bt=g.app.settings.authIdToken;return Bt?new Promise(hn=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(Bt).then(hn,hn))}):g.directlySetCurrentUser(null)}const ne=yield g.assertedPersistence.getCurrentUser();let Te=ne,vt=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Bt=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,hn=Te?._redirectEventId,Un=yield g.tryRedirectSignIn(h);(!Bt||Bt===hn)&&Un?.user&&(Te=Un.user,vt=!0)}if(!Te)return g.directlySetCurrentUser(null);if(!Te._redirectEventId){if(vt)try{yield g.beforeStateQueue.runMiddleware(Te)}catch(Bt){Te=ne,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Bt))}return Te?g.reloadAndSetCurrentUserOrClear(Te):g.directlySetCurrentUser(null)}return oe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Te._redirectEventId?g.directlySetCurrentUser(Te):g.reloadAndSetCurrentUserOrClear(Te)})()}tryRedirectSignIn(h){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,c.Z)(function*(){try{yield pr(h)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function he(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,c.Z)(function*(){if((0,d._isFirebaseServerApp)(g.app))return Promise.reject(Je(g));const w=h?(0,G.m9)(h):null;return w&&oe(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(h,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return h&&oe(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return(0,d._isFirebaseServerApp)(h.app)?Promise.reject(Je(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,d._isFirebaseServerApp)(this.app)?Promise.reject(Je(this)):this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(de(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,c.Z)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.Z)(function*(){const g=yield function Oo(b){return pi.apply(this,arguments)}(h),w=new No(g);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new G.LL("auth","Firebase",h())}onAuthStateChanged(h,g,w){return this.registerStateListener(this.authStateSubscription,h,g,w)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,w){return this.registerStateListener(this.idTokenSubscription,h,g,w)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,c.Z)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),ne={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=g.tenantId&&(ne.tenantId=g.tenantId),yield function et(b,h){return F.apply(this,arguments)}(g,ne)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var w=this;return(0,c.Z)(function*(){const ne=yield w.getOrInitRedirectPersistenceManager(g);return null===h?ne.removeCurrentUser():ne.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=h&&de(h)||g._popupRedirectResolver;oe(w,g,"argument-error"),g.redirectPersistenceManager=yield Gt.create(g,[de(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,c.Z)(function*(){var w,ne;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===h?g._currentUser:(null===(ne=g.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,c.Z)(function*(){if(h===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,w,ne){if(this._deleted)return()=>{};const Te="function"==typeof g?g:g.next.bind(g);let vt=!1;const Bt=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(Bt,this,"internal-error"),Bt.then(()=>{vt||Te(this.currentUser)}),"function"==typeof g){const hn=h.addObserver(g,w,ne);return()=>{vt=!0,hn()}}{const hn=h.addObserver(g);return()=>{vt=!0,hn()}}}directlySetCurrentUser(h){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const ne=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();ne&&(w["X-Firebase-Client"]=ne);const Te=yield h._getAppCheckToken();return Te&&(w["X-Firebase-AppCheck"]=Te),w})()}_getAppCheckToken(){var h=this;return(0,c.Z)(function*(){var g;const w=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function ot(b,...h){Pe.logLevel<=ue.in.WARN&&Pe.warn(`Auth (${d.SDK_VERSION}): ${b}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Mr(b){return(0,G.m9)(b)}class Ii{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,G.ne)(g=>this.observer=g)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vi={loadJS:()=>(0,c.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hi(b){return Vi.loadJS(b)}function je(b){return`__${b}${Math.floor(1e6*Math.random())}`}class ut{constructor(h){this.type="recaptcha-enterprise",this.auth=Mr(h)}verify(h="verify",g=!1){var w=this;return(0,c.Z)(function*(){function Te(){return Te=(0,c.Z)(function*(Bt){if(!g){if(null==Bt.tenantId&&null!=Bt._agentRecaptchaConfig)return Bt._agentRecaptchaConfig.siteKey;if(null!=Bt.tenantId&&void 0!==Bt._tenantRecaptchaConfigs[Bt.tenantId])return Bt._tenantRecaptchaConfigs[Bt.tenantId].siteKey}return new Promise(function(){var hn=(0,c.Z)(function*(Un,$n){xn(Bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jr=>{if(void 0!==Jr.recaptchaKey){const xo=new Ht(Jr);return null==Bt.tenantId?Bt._agentRecaptchaConfig=xo:Bt._tenantRecaptchaConfigs[Bt.tenantId]=xo,Un(xo.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(Jr=>{$n(Jr)})});return function(Un,$n){return hn.apply(this,arguments)}}())}),Te.apply(this,arguments)}function vt(Bt,hn,Un){const $n=window.grecaptcha;xt($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(Bt,{action:h}).then(Jr=>{hn(Jr)}).catch(()=>{hn("NO_RECAPTCHA")})}):Un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Bt,hn)=>{(function ne(Bt){return Te.apply(this,arguments)})(w.auth).then(Un=>{if(!g&&xt(window.grecaptcha))vt(Un,Bt,hn);else{if(typeof window>"u")return void hn(new Error("RecaptchaVerifier is only supported in browser"));let $n=function ri(){return Vi.recaptchaEnterpriseScript}();0!==$n.length&&($n+=Un),Hi($n).then(()=>{vt(Un,Bt,hn)}).catch(Jr=>{hn(Jr)})}}).catch(Un=>{hn(Un)})})})()}}function dt(b,h,g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(b,h,g,w=!1){const ne=new ut(b);let Te;try{Te=yield ne.verify(g)}catch{Te=yield ne.verify(g,!0)}const vt=Object.assign({},h);return Object.assign(vt,w?{captchaResp:Te}:{captchaResponse:Te}),Object.assign(vt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(vt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),vt})).apply(this,arguments)}function Ft(b,h,g,w){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,c.Z)(function*(b,h,g,w){var ne;if(null!==(ne=b._getRecaptchaConfig())&&void 0!==ne&&ne.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Te=yield dt(b,h,g,"getOobCode"===g);return w(b,Te)}return w(b,h).catch(function(){var Te=(0,c.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Bt=yield dt(b,h,g,"getOobCode"===g);return w(b,Bt)}return Promise.reject(vt)});return function(vt){return Te.apply(this,arguments)}}())}),Yt.apply(this,arguments)}function er(b,h,g){const w=Mr(b);oe(w._canInitEmulator,w,"emulator-config-failed"),oe(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const ne=!!g?.disableWarnings,Te=Fr(h),{host:vt,port:Bt}=function ai(b){const h=Fr(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(w);if(ne){const Te=ne[1];return{host:Te,port:Ar(w.substr(Te.length+1))}}{const[Te,vt]=w.split(":");return{host:Te,port:Ar(vt)}}}(h);w.config.emulator={url:`${Te}//${vt}${null===Bt?"":`:${Bt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:vt,port:Bt,protocol:Te.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Ur(){function b(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Fr(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function Ar(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class Zr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ze("not implemented")}_getIdTokenResponse(h){return ze("not implemented")}_linkToIdToken(h,g){return ze("not implemented")}_getReauthenticationResolver(h){return ze("not implemented")}}function ho(b,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:resetPassword",pe(b,h))})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function mr(b,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:update",pe(b,h))})).apply(this,arguments)}function Io(b,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithPassword",pe(b,h))})).apply(this,arguments)}function ko(b,h){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:sendOobCode",pe(b,h))})).apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(b,h){return ko(b,h)})).apply(this,arguments)}function os(b,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(b,h){return ko(b,h)})).apply(this,arguments)}function ii(b,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(b,h){return ko(b,h)})).apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(b,h){return ko(b,h)})).apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithEmailLink",pe(b,h))})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithEmailLink",pe(b,h))})).apply(this,arguments)}class Yi extends Zr{constructor(h,g,w,ne=null){super("password",w),this._email=h,this._password=g,this._tenantId=ne}static _fromEmailAndPassword(h,g){return new Yi(h,g,"password")}static _fromEmailAndCode(h,g,w=null){return new Yi(h,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return Ft(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Io);case"emailLink":return function To(b,h){return Fo.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:De(h,"internal-error")}})()}_linkToIdToken(h,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Ft(h,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mr);case"emailLink":return function oo(b,h){return fo.apply(this,arguments)}(h,{idToken:g,email:w._email,oobCode:w._password});default:De(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function po(b,h){return se.apply(this,arguments)}function se(){return(se=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithIdp",pe(b,h))})).apply(this,arguments)}class nt extends Zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new nt(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:ne}=g,Te=(0,Ae._T)(g,["providerId","signInMethod"]);if(!w||!ne)return null;const vt=new nt(w,ne);return vt.idToken=Te.idToken||void 0,vt.accessToken=Te.accessToken||void 0,vt.secret=Te.secret,vt.nonce=Te.nonce,vt.pendingToken=Te.pendingToken||null,vt}_getIdTokenResponse(h){return po(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,po(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,po(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,G.xO)(g)}return h}}function bt(){return(bt=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:sendVerificationCode",pe(b,h))})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,h))})).apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(b,h){const g=yield st(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,h));if(g.temporaryProof)throw gn(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const _r={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,Object.assign(Object.assign({},h),{operation:"REAUTH"})),_r)})).apply(this,arguments)}class Bn extends Zr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Bn({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Bn({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function $t(b,h){return fn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Ln(b,h){return bn.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function or(b,h){return hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:w,verificationCode:ne}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:w,code:ne}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:w,phoneNumber:ne,temporaryProof:Te}=h;return w||g||ne||Te?new Bn({verificationId:g,verificationCode:w,phoneNumber:ne,temporaryProof:Te}):null}}class kr{constructor(h){var g,w,ne,Te,vt,Bt;const hn=(0,G.zd)((0,G.pd)(h)),Un=null!==(g=hn.apiKey)&&void 0!==g?g:null,$n=null!==(w=hn.oobCode)&&void 0!==w?w:null,Jr=function Gn(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=hn.mode)&&void 0!==ne?ne:null);oe(Un&&$n&&Jr,"argument-error"),this.apiKey=Un,this.operation=Jr,this.code=$n,this.continueUrl=null!==(Te=hn.continueUrl)&&void 0!==Te?Te:null,this.languageCode=null!==(vt=hn.languageCode)&&void 0!==vt?vt:null,this.tenantId=null!==(Bt=hn.tenantId)&&void 0!==Bt?Bt:null}static parseLink(h){const g=function ui(b){const h=(0,G.zd)((0,G.pd)(b)).link,g=h?(0,G.zd)((0,G.pd)(h)).deep_link_id:null,w=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(w?(0,G.zd)((0,G.pd)(w)).link:null)||w||g||h||b}(h);try{return new kr(g)}catch{return null}}}let Zi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,w){return Yi._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const ne=kr.parseLink(w);return oe(ne,"argument-error"),Yi._fromEmailAndCode(g,ne.code,ne.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class bi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ci extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class mi extends Ci{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return oe("providerId"in g&&"signInMethod"in g,"argument-error"),nt._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return oe(h.idToken||h.accessToken,"argument-error"),nt._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return mi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return mi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:ne,pendingToken:Te,nonce:vt,providerId:Bt}=h;if(!w&&!ne&&!g&&!Te||!Bt)return null;try{return new mi(Bt)._credential({idToken:g,accessToken:w,nonce:vt,pendingToken:Te})}catch{return null}}}let Ao=(()=>{class b extends Ci{constructor(){super("facebook.com")}static credential(g){return nt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Lo=(()=>{class b extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return nt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:ne}=g;if(!w&&!ne)return null;try{return b.credential(w,ne)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),qs=(()=>{class b extends Ci{constructor(){super("github.com")}static credential(g){return nt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class v extends Zr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return po(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,po(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,po(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:ne,pendingToken:Te}=g;return w&&ne&&Te&&w===ne?new v(w,Te):null}static _create(h,g){return new v(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class I extends bi{constructor(h){oe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return I.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return I.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=v.fromJSON(h);return oe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:w}=h;if(!g||!w)return null;try{return v._create(w,g)}catch{return null}}}let Y=(()=>{class b extends Ci{constructor(){super("twitter.com")}static credential(g,w){return nt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:ne}=g;if(!w||!ne)return null;try{return b.credential(w,ne)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ke(b,h){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signUp",pe(b,h))})).apply(this,arguments)}class Cn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,w,ne=!1){return(0,c.Z)(function*(){const Te=yield K._fromIdTokenResponse(h,w,ne),vt=Yn(w);return new Cn({user:Te,providerId:vt,_tokenResponse:w,operationType:g})})()}static _forOperation(h,g,w){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const ne=Yn(w);return new Cn({user:h,providerId:ne,_tokenResponse:w,operationType:g})})()}}function Yn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Nr(b){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(b){var h;if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const g=Mr(b);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Cn({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ke(g,{returnSecureToken:!0}),ne=yield Cn._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class xi extends G.ZR{constructor(h,g,w,ne){var Te;super(g.code,g.message),this.operationType=w,this.user=ne,Object.setPrototypeOf(this,xi.prototype),this.customData={appName:h.name,tenantId:null!==(Te=h.tenantId)&&void 0!==Te?Te:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,g,w,ne){return new xi(h,g,w,ne)}}function jo(b,h,g,w){return("reauthenticate"===h?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(Te=>{throw"auth/multi-factor-auth-required"===Te.code?xi._fromErrorAndOperation(b,Te,h,w):Te})}function jr(b){return new Set(b.map(({providerId:h})=>h).filter(h=>!!h))}function _i(b,h){return W.apply(this,arguments)}function W(){return W=(0,c.Z)(function*(b,h){const g=(0,G.m9)(b);yield we(!0,g,h);const{providerUserInfo:w}=yield function wn(b,h){return En.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),ne=jr(w||[]);return g.providerData=g.providerData.filter(Te=>ne.has(Te.providerId)),ne.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),W.apply(this,arguments)}function H(b,h){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(b,h,g=!1){const w=yield rr(b,h._linkToIdToken(b.auth,yield b.getIdToken()),g);return Cn._forOperation(b,"link",w)})).apply(this,arguments)}function we(b,h,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(b,h,g){yield pr(h);const ne=!1===b?"provider-already-linked":"no-such-provider";oe(jr(h.providerData).has(g)===b,h.auth,ne)})).apply(this,arguments)}function Rn(b,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(b,h,g=!1){const{auth:w}=b;if((0,d._isFirebaseServerApp)(w.app))return Promise.reject(Je(w));const ne="reauthenticate";try{const Te=yield rr(b,jo(w,ne,h,b),g);oe(Te.idToken,w,"internal-error");const vt=sr(Te.idToken);oe(vt,w,"internal-error");const{sub:Bt}=vt;return oe(b.uid===Bt,w,"user-mismatch"),Cn._forOperation(b,ne,Te)}catch(Te){throw"auth/user-not-found"===Te?.code&&De(w,"user-mismatch"),Te}})).apply(this,arguments)}function Vo(b,h){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(b,h,g=!1){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w="signIn",ne=yield jo(b,w,h),Te=yield Cn._fromIdTokenResponse(b,w,ne);return g||(yield b._updateCurrentUser(Te.user)),Te})).apply(this,arguments)}function Oi(b,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(b,h){return Vo(Mr(b),h)})).apply(this,arguments)}function Ri(b,h){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(b,h){const g=(0,G.m9)(b);return yield we(!1,g,h.providerId),H(g,h)})).apply(this,arguments)}function Zo(b,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(b,h){return Rn((0,G.m9)(b),h)})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,h){return st(b,"POST","/v1/accounts:signInWithCustomToken",pe(b,h))})).apply(this,arguments)}function Xo(b,h){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,c.Z)(function*(b,h){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const g=Mr(b),w=yield function Ia(b,h){return Os.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),ne=yield Cn._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(ne.user),ne}),Xu.apply(this,arguments)}class Qi{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ns._fromServerResponse(h,g):"totpInfo"in g?Cs._fromServerResponse(h,g):De(h,"internal-error")}}class Ns extends Qi{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ns(g)}}class Cs extends Qi{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Cs(g)}}function Ys(b,h,g){var w;oe((null===(w=g.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),oe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(oe(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(oe(g.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function as(b){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(b){const h=Mr(b);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function ks(b,h,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(b,h,g){const w=Mr(b),ne={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&Ys(w,ne,g),yield Ft(w,ne,"getOobCode",os)})).apply(this,arguments)}function kl(b,h,g){return Er.apply(this,arguments)}function Er(){return Er=(0,c.Z)(function*(b,h,g){yield ho((0,G.m9)(b),{oobCode:h,newPassword:g}).catch(function(){var w=(0,c.Z)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&as(b),ne});return function(ne){return w.apply(this,arguments)}}())}),Er.apply(this,arguments)}function Fl(b,h){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,c.Z)(function*(b,h){yield function zi(b,h){return zr.apply(this,arguments)}((0,G.m9)(b),{oobCode:h})}),Zs.apply(this,arguments)}function Ta(b,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(b,h){const g=(0,G.m9)(b),w=yield ho(g,{oobCode:h}),ne=w.requestType;switch(oe(ne,g,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(w.mfaInfo,g,"internal-error");default:oe(w.email,g,"internal-error")}let Te=null;return w.mfaInfo&&(Te=Qi._fromServerResponse(Mr(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Te},operation:ne}})).apply(this,arguments)}function Ll(b,h){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(b,h){const{data:g}=yield Ta((0,G.m9)(b),h);return g.email})).apply(this,arguments)}function Eu(b,h,g){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(b,h,g){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w=Mr(b),vt=yield Ft(w,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ke).catch(hn=>{throw"auth/password-does-not-meet-requirements"===hn.code&&as(b),hn}),Bt=yield Cn._fromIdTokenResponse(w,"signIn",vt);return yield w._updateCurrentUser(Bt.user),Bt})).apply(this,arguments)}function $a(b,h,g){return(0,d._isFirebaseServerApp)(b.app)?Promise.reject(Je(b)):Oi((0,G.m9)(b),Zi.credential(h,g)).catch(function(){var w=(0,c.Z)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&as(b),ne});return function(ne){return w.apply(this,arguments)}}())}function wa(b,h,g){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(b,h,g){const w=Mr(b),ne={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function Te(vt,Bt){oe(Bt.handleCodeInApp,w,"argument-error"),Bt&&Ys(w,vt,Bt)})(ne,g),yield Ft(w,ne,"getOobCode",ii)})).apply(this,arguments)}function Fs(b,h){const g=kr.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Ss(b,h,g){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(b,h,g){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w=(0,G.m9)(b),ne=Zi.credentialWithLink(h,g||$e());return oe(ne._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Oi(w,ne)})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:createAuthUri",pe(b,h))})).apply(this,arguments)}function wo(b,h){return us.apply(this,arguments)}function us(){return us=(0,c.Z)(function*(b,h){const w={identifier:h,continueUri:xe()?$e():"http://localhost"},{signinMethods:ne}=yield function Rs(b,h){return Qo.apply(this,arguments)}((0,G.m9)(b),w);return ne||[]}),us.apply(this,arguments)}function x(b,h){return te.apply(this,arguments)}function te(){return te=(0,c.Z)(function*(b,h){const g=(0,G.m9)(b),ne={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};h&&Ys(g.auth,ne,h);const{email:Te}=yield function Qn(b,h){return ro.apply(this,arguments)}(g.auth,ne);Te!==b.email&&(yield b.reload())}),te.apply(this,arguments)}function L(b,h,g){return ve.apply(this,arguments)}function ve(){return ve=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b),Te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:h};g&&Ys(w.auth,Te,g);const{email:vt}=yield function Co(b,h){return io.apply(this,arguments)}(w.auth,Te);vt!==b.email&&(yield b.reload())}),ve.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(b,h){return He(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qt(b,h){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,c.Z)(function*(b,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const w=(0,G.m9)(b),Te={idToken:yield w.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},vt=yield rr(w,function rt(b,h){return jt.apply(this,arguments)}(w.auth,Te));w.displayName=vt.displayName||null,w.photoURL=vt.photoUrl||null;const Bt=w.providerData.find(({providerId:hn})=>"password"===hn);Bt&&(Bt.displayName=w.displayName,Bt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(vt)}),Vn.apply(this,arguments)}function oi(b,h){const g=(0,G.m9)(b);return(0,d._isFirebaseServerApp)(g.auth.app)?Promise.reject(Je(g.auth)):Vr(g,h,null)}function si(b,h){return Vr((0,G.m9)(b),null,h)}function Vr(b,h,g){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,c.Z)(function*(b,h,g){const{auth:w}=b,Te={idToken:yield b.getIdToken(),returnSecureToken:!0};h&&(Te.email=h),g&&(Te.password=g);const vt=yield rr(b,function Sn(b,h){return Xn.apply(this,arguments)}(w,Te));yield b._updateTokensIfNecessary(vt,!0)}),Wn.apply(this,arguments)}class An{constructor(h,g,w={}){this.isNewUser=h,this.providerId=g,this.profile=w}}class Gi extends An{constructor(h,g,w,ne){super(h,g,w),this.username=ne}}class Jo extends An{constructor(h,g){super(h,"facebook.com",g)}}class is extends Gi{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ui extends An{constructor(h,g){super(h,"google.com",g)}}class Ho extends Gi{constructor(h,g,w){super(h,"twitter.com",g,w)}}function Ko(b){const{user:h,_tokenResponse:g}=b;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Pi(b){var h,g;if(!b)return null;const{providerId:w}=b,ne=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Te=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const vt=null===(g=null===(h=sr(b.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(vt)return new An(Te,"anonymous"!==vt&&"custom"!==vt?vt:null)}if(!w)return null;switch(w){case"facebook.com":return new Jo(Te,ne);case"github.com":return new is(Te,ne);case"google.com":return new Ui(Te,ne);case"twitter.com":return new Ho(Te,ne,b.screenName||null);case"custom":case"anonymous":return new An(Te,null);default:return new An(Te,w,ne)}}(g)}class mo{constructor(h,g,w){this.type=h,this.credential=g,this.user=w}static _fromIdtoken(h,g){return new mo("enroll",h,g)}static _fromMfaPendingCredential(h){return new mo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,w;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return mo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return mo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Xs{constructor(h,g,w){this.session=h,this.hints=g,this.signInResolver=w}static _fromError(h,g){const w=Mr(h),ne=g.customData._serverResponse,Te=(ne.mfaInfo||[]).map(Bt=>Qi._fromServerResponse(w,Bt));oe(ne.mfaPendingCredential,w,"internal-error");const vt=mo._fromMfaPendingCredential(ne.mfaPendingCredential);return new Xs(vt,Te,function(){var Bt=(0,c.Z)(function*(hn){const Un=yield hn._process(w,vt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const $n=Object.assign(Object.assign({},ne),{idToken:Un.idToken,refreshToken:Un.refreshToken});switch(g.operationType){case"signIn":const Jr=yield Cn._fromIdTokenResponse(w,g.operationType,$n);return yield w._updateCurrentUser(Jr.user),Jr;case"reauthenticate":return oe(g.user,w,"internal-error"),Cn._forOperation(g.user,g.operationType,$n);default:De(w,"internal-error")}});return function(hn){return Bt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,c.Z)(function*(){return g.signInResolver(h)})()}}function ua(b,h){var g;const w=(0,G.m9)(b),ne=h;return oe(h.customData.operationType,w,"argument-error"),oe(null===(g=ne.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Xs._fromError(w,ne)}class Qs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Qi._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new Qs(h)}getSession(){var h=this;return(0,c.Z)(function*(){return mo._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var w=this;return(0,c.Z)(function*(){const ne=h,Te=yield w.getSession(),vt=yield rr(w.user,ne._process(w.user.auth,Te,g));return yield w.user._updateTokensIfNecessary(vt),w.user.reload()})()}unenroll(h){var g=this;return(0,c.Z)(function*(){const w="string"==typeof h?h:h.uid,ne=yield g.user.getIdToken();try{const Te=yield rr(g.user,function _s(b,h){return He(b,"POST","/v2/accounts/mfaEnrollment:withdraw",pe(b,h))}(g.user.auth,{idToken:ne,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:vt})=>vt!==w),yield g.user._updateTokensIfNecessary(Te),yield g.user.reload()}catch(Te){throw Te}})()}}const Ps=new WeakMap;function ls(b){const h=(0,G.m9)(b);return Ps.has(h)||Ps.set(h,Qs._fromUser(h)),Ps.get(h)}const ja="__sak";class Tu{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Du=(()=>{class b extends Tu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const ne=this.storage.getItem(w),Te=this.localCache[w];ne!==Te&&g(w,Te,ne)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Bt,hn,Un)=>{this.notifyListeners(Bt,Un)});const ne=g.key;w?this.detachListener():this.stopPolling();const Te=()=>{const Bt=this.storage.getItem(ne);!w&&this.localCache[ne]===Bt||this.notifyListeners(ne,Bt)},vt=this.storage.getItem(ne);!function Eo(){return(0,G.w1)()&&10===document.documentMode}()||vt===g.newValue||g.newValue===g.oldValue?Te():setTimeout(Te,10)}notifyListeners(g,w){this.localCache[g]=w;const ne=this.listeners[g];if(ne)for(const Te of Array.from(ne))Te(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var ne=()=>super._set,Te=this;return(0,c.Z)(function*(){yield ne().call(Te,g,w),Te.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,ne=this;return(0,c.Z)(function*(){const Te=yield w().call(ne,g);return ne.localCache[g]=JSON.stringify(Te),Te})()}_remove(g){var w=()=>super._remove,ne=this;return(0,c.Z)(function*(){yield w().call(ne,g),delete ne.localCache[g]})()}}return b.type="LOCAL",b})(),la=(()=>{class b extends Tu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return b.type="SESSION",b})();let Cu=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(Te=>Te.isListeningto(g));if(w)return w;const ne=new b(g);return this.receivers.push(ne),ne}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const ne=g,{eventId:Te,eventType:vt,data:Bt}=ne.data,hn=w.handlersMap[vt];if(!hn?.size)return;ne.ports[0].postMessage({status:"ack",eventId:Te,eventType:vt});const Un=Array.from(hn).map(function(){var Jr=(0,c.Z)(function*(xo){return xo(ne.origin,Bt)});return function(xo){return Jr.apply(this,arguments)}}()),$n=yield function Ga(b){return Promise.all(b.map(function(){var h=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return h.apply(this,arguments)}}()))}(Un);ne.ports[0].postMessage({status:"done",eventId:Te,eventType:vt,response:$n})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function cs(b="",h=10){let g="";for(let w=0;w<h;w++)g+=Math.floor(10*Math.random());return b+g}class ys{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,w=50){var ne=this;return(0,c.Z)(function*(){const Te=typeof MessageChannel<"u"?new MessageChannel:null;if(!Te)throw new Error("connection_unavailable");let vt,Bt;return new Promise((hn,Un)=>{const $n=cs("",20);Te.port1.start();const Jr=setTimeout(()=>{Un(new Error("unsupported_event"))},w);Bt={messageChannel:Te,onMessage(xo){const na=xo;if(na.data.eventId===$n)switch(na.data.status){case"ack":clearTimeout(Jr),vt=setTimeout(()=>{Un(new Error("timeout"))},3e3);break;case"done":clearTimeout(vt),hn(na.data.response);break;default:clearTimeout(Jr),clearTimeout(vt),Un(new Error("invalid_response"))}}},ne.handlers.add(Bt),Te.port1.addEventListener("message",Bt.onMessage),ne.target.postMessage({eventType:h,eventId:$n,data:g},[Te.port2])}).finally(()=>{Bt&&ne.removeMessageHandler(Bt)})})()}}function Ji(){return window}function Aa(){return typeof Ji().WorkerGlobalScope<"u"&&"function"==typeof Ji().importScripts}function qa(){return(qa=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Js="firebaseLocalStorageDb",T="firebaseLocalStorage",R="fbase_key";class E{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function N(b,h){return b.transaction([T],h?"readwrite":"readonly").objectStore(T)}function Re(){const b=indexedDB.open(Js,1);return new Promise((h,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(T,{keyPath:R})}catch(ne){g(ne)}}),b.addEventListener("success",(0,c.Z)(function*(){const w=b.result;w.objectStoreNames.contains(T)?h(w):(w.close(),yield function re(){const b=indexedDB.deleteDatabase(Js);return new E(b).toPromise()}(),h(yield Re()))}))})}function Be(b,h,g){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(b,h,g){const w=N(b,!0).put({[R]:h,value:g});return new E(w).toPromise()})).apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(b,h){const g=N(b,!1).get(h),w=yield new E(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Jn(b,h){const g=N(b,!0).delete(h);return new E(g).toPromise()}const ca=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Re()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let ne=0;for(;;)try{const Te=yield w._openDb();return yield g(Te)}catch(Te){if(ne++>3)throw Te;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Aa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Cu._getInstance(function zo(){return Aa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(ne,Te){return{keyProcessed:(yield g._poll()).includes(Te.key)}});return function(ne,Te){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(ne,Te){return["keyChanged"]});return function(ne,Te){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,ne;if(g.activeServiceWorker=yield function Wa(){return qa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ys(g.activeServiceWorker);const Te=yield g.sender._send("ping",{},800);Te&&null!==(w=Te[0])&&void 0!==w&&w.fulfilled&&null!==(ne=Te[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function vc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Re();return yield Be(g,ja,"1"),yield Jn(g,ja),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var ne=this;return(0,c.Z)(function*(){return ne._withPendingWrite((0,c.Z)(function*(){return yield ne._withRetries(Te=>Be(Te,g,w)),ne.localCache[g]=w,ne.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const ne=yield w._withRetries(Te=>function mn(b,h){return zn.apply(this,arguments)}(Te,g));return w.localCache[g]=ne,ne})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(ne=>Jn(ne,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(vt=>{const Bt=N(vt,!1).getAll();return new E(Bt).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const ne=[],Te=new Set;if(0!==w.length)for(const{fbase_key:vt,value:Bt}of w)Te.add(vt),JSON.stringify(g.localCache[vt])!==JSON.stringify(Bt)&&(g.notifyListeners(vt,Bt),ne.push(vt));for(const vt of Object.keys(g.localCache))g.localCache[vt]&&!Te.has(vt)&&(g.notifyListeners(vt,null),ne.push(vt));return ne})()}notifyListeners(g,w){this.localCache[g]=w;const ne=this.listeners[g];if(ne)for(const Te of Array.from(ne))Te(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),$s=1e12;class Ya{constructor(h){this.auth=h,this.counter=$s,this._widgets=new Map}render(h,g){const w=this.counter;return this._widgets.set(w,new Za(h,this.auth.name,g||{})),this.counter++,w}reset(h){var g;const w=h||$s;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(h){var g;return(null===(g=this._widgets.get(h||$s))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(h||$s))||void 0===w||w.execute(),""})()}}class Za{constructor(h,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof h?document.getElementById(h):h;oe(ne,"argument-error",{appName:g}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xa(b){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Au=je("rcb"),sh=new Z(3e4,6e4);class Vl{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ji().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return oe(function Su(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&yn(Ji().grecaptcha)?Promise.resolve(Ji().grecaptcha):new Promise((w,ne)=>{const Te=Ji().setTimeout(()=>{ne(Ke(h,"network-request-failed"))},sh.get());Ji()[Au]=()=>{Ji().clearTimeout(Te),delete Ji()[Au];const Bt=Ji().grecaptcha;if(!Bt||!yn(Bt))return void ne(Ke(h,"internal-error"));const hn=Bt.render;Bt.render=(Un,$n)=>{const Jr=hn(Un,$n);return this.counter++,Jr},this.hostLanguage=g,w(Bt)},Hi(`${function co(){return Vi.recaptchaV2Script}()}?${(0,G.xO)({onload:Au,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Te),ne(Ke(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Ji().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ec{load(h){return(0,c.Z)(function*(){return new Ya(h)})()}clearedOneInstance(){}}const Ru="recaptcha",Bl={theme:"light",type:"image"};class Ju{constructor(h,g,w=Object.assign({},Bl)){this.parameters=w,this.type=Ru,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mr(h),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof g?document.getElementById(g):g;oe(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ec:new Vl,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(g)||new Promise(Te=>{const vt=Bt=>{Bt&&(h.tokenChangeListeners.delete(vt),Te(Bt))};h.tokenChangeListeners.add(vt),h.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof h)h(g);else if("string"==typeof h){const w=Ji()[h];"function"==typeof w&&w(g)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){oe(xe()&&!Aa(),h.auth,"internal-error"),yield function ah(){let b=null;return new Promise(h=>{"complete"!==document.readyState?(b=()=>h(),window.addEventListener("load",b)):h()}).catch(h=>{throw b&&window.removeEventListener("load",b),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function kt(b){return cn.apply(this,arguments)}(h.auth);oe(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qa{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Bn._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function el(b,h,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(b,h,g){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w=Mr(b),ne=yield Pu(w,h,(0,G.m9)(g));return new Qa(ne,Te=>Oi(w,Te))})).apply(this,arguments)}function eo(b,h,g){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);yield we(!1,w,"phone");const ne=yield Pu(w.auth,h,(0,G.m9)(g));return new Qa(ne,Te=>Ri(w,Te))})).apply(this,arguments)}function Ja(b,h,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);if((0,d._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth));const ne=yield Pu(w.auth,h,(0,G.m9)(g));return new Qa(ne,Te=>Zo(w,Te))})).apply(this,arguments)}function Pu(b,h,g){return nl.apply(this,arguments)}function nl(){return nl=(0,c.Z)(function*(b,h,g){var w;const ne=yield g.verify();try{let Te;if(oe("string"==typeof ne,b,"argument-error"),oe(g.type===Ru,b,"argument-error"),Te="string"==typeof h?{phoneNumber:h}:h,"session"in Te){const vt=Te.session;if("phoneNumber"in Te)return oe("enroll"===vt.type,b,"internal-error"),(yield function Bs(b,h){return He(b,"POST","/v2/accounts/mfaEnrollment:start",pe(b,h))}(b,{idToken:vt.credential,phoneEnrollmentInfo:{phoneNumber:Te.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{oe("signin"===vt.type,b,"internal-error");const Bt=(null===(w=Te.multiFactorHint)||void 0===w?void 0:w.uid)||Te.multiFactorUid;return oe(Bt,b,"missing-multi-factor-info"),(yield function Ka(b,h){return He(b,"POST","/v2/accounts/mfaSignIn:start",pe(b,h))}(b,{mfaPendingCredential:vt.credential,mfaEnrollmentId:Bt,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vt}=yield function ct(b,h){return bt.apply(this,arguments)}(b,{phoneNumber:Te.phoneNumber,recaptchaToken:ne});return vt}}finally{g._reset()}}),nl.apply(this,arguments)}function da(b,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(b,h){const g=(0,G.m9)(b);if((0,d._isFirebaseServerApp)(g.auth.app))return Promise.reject(Je(g.auth));yield H(g,h)})).apply(this,arguments)}let fa=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=Mr(g)}verifyPhoneNumber(g,w){return Pu(this.auth,g,(0,G.m9)(w))}static credential(g,w){return Bn._fromVerification(g,w)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:ne}=g;return w&&ne?Bn._fromTokenResponse(w,ne):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function pa(b,h){return h?de(h):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Us extends Zr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return po(h,this._buildIdpRequest())}_linkToIdToken(h,g){return po(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return po(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function rl(b){return Vo(b.auth,new Us(b),b.bypassAuthState)}function bc(b){const{auth:h,user:g}=b;return oe(g,h,"internal-error"),Rn(g,new Us(b),b.bypassAuthState)}function eu(b){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(b){const{auth:h,user:g}=b;return oe(g,h,"internal-error"),H(g,new Us(b),b.bypassAuthState)})).apply(this,arguments)}class il{constructor(h,g,w,ne,Te=!1){this.auth=h,this.resolver=w,this.user=ne,this.bypassAuthState=Te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,c.Z)(function*(w,ne){h.pendingPromise={resolve:w,reject:ne};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Te){h.reject(Te)}});return function(w,ne){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:ne,postBody:Te,tenantId:vt,error:Bt,type:hn}=h;if(Bt)return void g.reject(Bt);const Un={auth:g.auth,requestUri:w,sessionId:ne,tenantId:vt||void 0,postBody:Te||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(hn)(Un))}catch($n){g.reject($n)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return rl;case"linkViaPopup":case"linkViaRedirect":return eu;case"reauthViaPopup":case"reauthViaRedirect":return bc;default:De(this.auth,"internal-error")}}resolve(h){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mu=new Z(2e3,1e4);function $l(b,h,g){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(b,h,g){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b,"operation-not-supported-in-this-environment"));const w=Mr(b);Ye(b,h,bi);const ne=pa(w,g);return new Nu(w,"signInViaPopup",h,ne).executeNotNull()})).apply(this,arguments)}function xu(b,h,g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);if((0,d._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ke(w.auth,"operation-not-supported-in-this-environment"));Ye(w.auth,h,bi);const ne=pa(w.auth,g);return new Nu(w.auth,"reauthViaPopup",h,ne,w).executeNotNull()})).apply(this,arguments)}function Do(b,h,g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);Ye(w.auth,h,bi);const ne=pa(w.auth,g);return new Nu(w.auth,"linkViaPopup",h,ne,w).executeNotNull()})).apply(this,arguments)}let Nu=(()=>{class b extends il{constructor(g,w,ne,Te,vt){super(g,w,Te,vt),this.provider=ne,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return oe(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){Xe(1===g.filter.length,"Popup operations only handle one event");const w=cs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(ne=>{g.reject(ne)}),g.resolver._isIframeWebStorageSupported(g.auth,ne=>{ne||g.reject(Ke(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,ne;this.pollId=null!==(ne=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Mu.get())};g()}}return b.currentPopupAction=null,b})();const jl="pendingRedirect",Yo=new Map;class Hs extends il{constructor(h,g,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=Yo.get(g.auth._key());if(!w){try{const Te=(yield function Es(b,h){return tu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;w=()=>Promise.resolve(Te)}catch(ne){w=()=>Promise.reject(ne)}Yo.set(g.auth._key(),w)}return g.bypassAuthState||Yo.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(w,h);if("unknown"!==h.type){if(h.eventId){const ne=yield w.auth._redirectUserForId(h.eventId);if(ne)return w.user=ne,g().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function tu(){return(tu=(0,c.Z)(function*(b,h){const g=zl(h),w=Hl(b);if(!(yield w._isAvailable()))return!1;const ne="true"===(yield w._get(g));return yield w._remove(g),ne})).apply(this,arguments)}function Ra(b,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(b,h){return Hl(b)._set(zl(h),"true")})).apply(this,arguments)}function pd(){Yo.clear()}function ol(b,h){Yo.set(b._key(),h)}function Hl(b){return de(b._redirectPersistence)}function zl(b){return Ot(jl,b.config.apiKey,b.name)}function nu(b,h,g){return function ru(b,h,g){return Tc.apply(this,arguments)}(b,h,g)}function Tc(){return(Tc=(0,c.Z)(function*(b,h,g){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w=Mr(b);Ye(b,h,bi),yield w._initializationPromise;const ne=pa(w,g);return yield Ra(ne,w),ne._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Pa(b,h,g){return function ku(b,h,g){return ga.apply(this,arguments)}(b,h,g)}function ga(){return(ga=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);if(Ye(w.auth,h,bi),(0,d._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth));yield w.auth._initializationPromise;const ne=pa(w.auth,g);yield Ra(ne,w.auth);const Te=yield wc(w);return ne._openRedirect(w.auth,h,"reauthViaRedirect",Te)})).apply(this,arguments)}function uh(b,h,g){return function ki(b,h,g){return Gl.apply(this,arguments)}(b,h,g)}function Gl(){return(Gl=(0,c.Z)(function*(b,h,g){const w=(0,G.m9)(b);Ye(w.auth,h,bi),yield w.auth._initializationPromise;const ne=pa(w.auth,g);yield we(!1,w,h.providerId),yield Ra(ne,w.auth);const Te=yield wc(w);return ne._openRedirect(w.auth,h,"linkViaRedirect",Te)})).apply(this,arguments)}function Fu(b,h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(b,h){return yield Mr(b)._initializationPromise,ds(b,h,!1)})).apply(this,arguments)}function ds(b,h){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(b,h,g=!1){if((0,d._isFirebaseServerApp)(b.app))return Promise.reject(Je(b));const w=Mr(b),ne=pa(w,h),vt=yield new Hs(w,ne,g).execute();return vt&&!g&&(delete vt.user._redirectEventId,yield w._persistUserIfCurrent(vt.user),yield w._setRedirectUser(null,h)),vt})).apply(this,arguments)}function wc(b){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(b){const h=cs(`${b.uid}:::`);return b._redirectEventId=h,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),h})).apply(this,arguments)}class ql{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(g=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Cc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dc(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var w;if(h.error&&!Dc(h)){const ne=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ke(this.auth,ne))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const w=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gd(h))}saveEventToCache(h){this.cachedEventUids.add(gd(h)),this.lastProcessedEventTime=Date.now()}}function gd(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function Dc({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function Mo(b){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(b,h={}){return He(b,"GET","/v1/projects",h)})).apply(this,arguments)}const iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac=/^https?/;function Vu(){return(Vu=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield Mo(b);for(const g of h)try{if(lh(g))return}catch{}De(b,"unauthorized-domain")})).apply(this,arguments)}function lh(b){const h=$e(),{protocol:g,hostname:w}=new URL(h);if(b.startsWith("chrome-extension://")){const vt=new URL(b);return""===vt.hostname&&""===w?"chrome-extension:"===g&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&vt.hostname===w}if(!Ac.test(g))return!1;if(iu.test(b))return w===b;const ne=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(w)}const Rc=new Z(3e4,6e4);function md(){const b=Ji().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let ao=null;const sl=new Z(5e3,15e3),ch="__/auth/iframe",Yl="emulator/auth/iframe",Mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bu(b){const h=b.config;oe(h.authDomain,b,"auth-domain-config-required");const g=h.emulator?M(h,Yl):`https://${b.config.authDomain}/${ch}`,w={apiKey:h.apiKey,appName:b.name,v:d.SDK_VERSION},ne=al.get(b.config.apiHost);ne&&(w.eid=ne);const Te=b._getFrameworks();return Te.length&&(w.fw=Te.join(",")),`${g}?${(0,G.xO)(w).slice(1)}`}function ou(){return ou=(0,c.Z)(function*(b){const h=yield function Kl(b){return ao=ao||function Pc(b){return new Promise((h,g)=>{var w,ne,Te;function vt(){md(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{md(),g(Ke(b,"network-request-failed"))},timeout:Rc.get()})}if(null!==(ne=null===(w=Ji().gapi)||void 0===w?void 0:w.iframes)&&void 0!==ne&&ne.Iframe)h(gapi.iframes.getContext());else{if(null===(Te=Ji().gapi)||void 0===Te||!Te.load){const Bt=je("iframefcb");return Ji()[Bt]=()=>{gapi.load?vt():g(Ke(b,"network-request-failed"))},Hi(`${function me(){return Vi.gapiScript}()}?onload=${Bt}`).catch(hn=>g(hn))}vt()}}).catch(h=>{throw ao=null,h})}(b),ao}(b),g=Ji().gapi;return oe(g,b,"internal-error"),h.open({where:document.body,url:Bu(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mc,dontclear:!0},w=>new Promise(function(){var ne=(0,c.Z)(function*(Te,vt){yield w.restyle({setHideOnLeave:!1});const Bt=Ke(b,"network-request-failed"),hn=Ji().setTimeout(()=>{vt(Bt)},sl.get());function Un(){Ji().clearTimeout(hn),Te(w)}w.ping(Un).then(Un,()=>{vt(Bt)})});return function(Te,vt){return ne.apply(this,arguments)}}()))}),ou.apply(this,arguments)}const ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class au{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xc="__/auth/handler",Ef="emulator/auth/handler",yd=encodeURIComponent("fac");function $u(b,h,g,w,ne,Te){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(b,h,g,w,ne,Te){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const vt={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:w,v:d.SDK_VERSION,eventId:ne};if(h instanceof bi){h.setDefaultLanguage(b.languageCode),vt.providerId=h.providerId||"",(0,G.xb)(h.getCustomParameters())||(vt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$n,Jr]of Object.entries(Te||{}))vt[$n]=Jr}if(h instanceof Ci){const $n=h.getScopes().filter(Jr=>""!==Jr);$n.length>0&&(vt.scopes=$n.join(","))}b.tenantId&&(vt.tid=b.tenantId);const Bt=vt;for(const $n of Object.keys(Bt))void 0===Bt[$n]&&delete Bt[$n];const hn=yield b._getAppCheckToken(),Un=hn?`#${yd}=${encodeURIComponent(hn)}`:"";return`${function Oc({config:b}){return b.emulator?M(b,Ef):`https://${b.authDomain}/${xc}`}(b)}?${(0,G.xO)(Bt).slice(1)}${Un}`})).apply(this,arguments)}const uu="webStorageSupport",Nc=class vd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=ds,this._overrideRedirectResult=ol}_openPopup(h,g,w,ne){var Te=this;return(0,c.Z)(function*(){var vt;Xe(null===(vt=Te.eventManagers[h._key()])||void 0===vt?void 0:vt.manager,"_initialize() not called before _openPopup()");const Bt=yield $u(h,g,w,$e(),ne);return function cl(b,h,g,w=500,ne=600){const Te=Math.max((window.screen.availHeight-ne)/2,0).toString(),vt=Math.max((window.screen.availWidth-w)/2,0).toString();let Bt="";const hn=Object.assign(Object.assign({},ll),{width:w.toString(),height:ne.toString(),top:Te,left:vt}),Un=(0,G.z$)().toLowerCase();g&&(Bt=fr(Un)?"_blank":g),en(Un)&&(h=h||"http://localhost",hn.scrollbars="yes");const $n=Object.entries(hn).reduce((xo,[na,ka])=>`${xo}${na}=${ka},`,"");if(function Yr(b=(0,G.z$)()){var h;return Pr(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Un)&&"_self"!==Bt)return function dh(b,h){const g=document.createElement("a");g.href=b,g.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(h||"",Bt),new au(null);const Jr=window.open(h||"",Bt,$n);oe(Jr,b,"popup-blocked");try{Jr.focus()}catch{}return new au(Jr)}(h,Bt,cs())})()}_openRedirect(h,g,w,ne){var Te=this;return(0,c.Z)(function*(){return yield Te._originValidation(h),function Ca(b){Ji().location.href=b}(yield $u(h,g,w,$e(),ne)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:ne,promise:Te}=this.eventManagers[g];return ne?Promise.resolve(ne):(Xe(Te,"If manager is not set, promise should be"),Te)}const w=this.initAndGetManager(h);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(h){var g=this;return(0,c.Z)(function*(){const w=yield function ul(b){return ou.apply(this,arguments)}(h),ne=new ql(h);return w.register("authEvent",Te=>(oe(Te?.authEvent,h,"invalid-auth-event"),{status:ne.onEvent(Te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:ne},g.iframes[h._key()]=w,ne})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(uu,{type:uu},ne=>{var Te;const vt=null===(Te=ne?.[0])||void 0===Te?void 0:Te[uu];void 0!==vt&&g(!!vt),De(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Sc(b){return Vu.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Wr()||ir()||Pr()}};class Ed{constructor(h){this.factorId=h}_process(h,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,w);case"signin":return this._finalizeSignIn(h,g.credential);default:return ze("unexpected MultiFactorSessionType")}}}class lu extends Ed{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new lu(h)}_finalizeEnroll(h,g,w){return function Ua(b,h){return He(b,"POST","/v2/accounts/mfaEnrollment:finalize",pe(b,h))}(h,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Po(b,h){return He(b,"POST","/v2/accounts/mfaSignIn:finalize",pe(b,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cu=(()=>{class b{constructor(){}static assertion(g){return lu._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var hh="@firebase/auth";class ju{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hs=(0,G.Pz)("authIdTokenMaxAge")||300;let Vc=null;const Xl=b=>function(){var h=(0,c.Z)(function*(g){const w=g&&(yield g.getIdTokenResult()),ne=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(ne&&ne>hs)return;const Te=w?.token;Vc!==Te&&(Vc=Te,yield fetch(b,{method:Te?"POST":"DELETE",headers:Te?{Authorization:`Bearer ${Te}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function Na(b=(0,d.getApp)()){const h=(0,d._getProvider)(b,"auth");if(h.isInitialized())return h.getImmediate();const g=function Mn(b,h){const g=(0,d._getProvider)(b,"auth");if(g.isInitialized()){const ne=g.getImmediate(),Te=g.getOptions();if((0,G.vZ)(Te,h??{}))return ne;De(ne,"already-initialized")}return g.initialize({options:h})}(b,{popupRedirectResolver:Nc,persistence:[ca,Du,la]}),w=(0,G.Pz)("authTokenSyncURL");if(w&&"boolean"==typeof isSecureContext&&isSecureContext){const Te=new URL(w,location.origin);if(location.origin===Te.origin){const vt=Xl(Te.toString());(function aa(b,h,g){(0,G.m9)(b).beforeAuthStateChanged(h,g)})(g,vt,()=>vt(g.currentUser)),function Da(b,h,g,w){(0,G.m9)(b).onIdTokenChanged(h,g,w)}(g,Bt=>vt(Bt))}}const ne=(0,G.q4)("auth");return ne&&er(g,`http://${ne}`),g}(function di(b){Vi=b})({loadJS:b=>new Promise((h,g)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=h,w.onerror=ne=>{const Te=Ke("internal-error");Te.customData=ne,g(Te)},w.type="text/javascript",w.charset="UTF-8",function du(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Lc(b){(0,d._registerComponent)(new Fe.wA("auth",(h,{options:g})=>{const w=h.getProvider("app").getImmediate(),ne=h.getProvider("heartbeat"),Te=h.getProvider("app-check-internal"),{apiKey:vt,authDomain:Bt}=w.options;oe(vt&&!vt.includes(":"),"invalid-api-key",{appName:w.name});const hn={apiKey:vt,authDomain:Bt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gr(b)},Un=new Ki(w,ne,Te,hn);return function qn(b,h){const g=h?.persistence||[],w=(Array.isArray(g)?g:[g]).map(de);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(w,h?.popupRedirectResolver)}(Un,g),Un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,w)=>{h.getProvider("auth-internal").initialize()})),(0,d._registerComponent)(new Fe.wA("auth-internal",h=>{const g=Mr(h.getProvider("auth").getImmediate());return new ju(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.registerVersion)(hh,"1.7.9",function bf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,d.registerVersion)(hh,"1.7.9","esm2017")}("Browser")},2404:(ln,gt,P)=>{"use strict";P.d(gt,{u7:()=>vg,Jj:()=>Gu,IX:()=>Lh,my:()=>Wo,xU:()=>ia,Lz:()=>lc,WA:()=>M,F8:()=>ed,$q:()=>qu,W:()=>dc,EK:()=>xt,PU:()=>Cg,l7:()=>Xn,Ky:()=>Jt,Xb:()=>On,Cf:()=>ci,K9:()=>be,Me:()=>qn,yq:()=>Xe,Wi:()=>Lm,ET:()=>by,Ab:()=>Oy,vr:()=>xy,Fc:()=>ay,hJ:()=>Qv,B$:()=>Jf,at:()=>sy,oe:()=>Iy,AK:()=>Py,TF:()=>jm,JU:()=>Bm,ST:()=>Jv,fH:()=>ug,Ix:()=>Um,Wu:()=>Jm,Lx:()=>Gr,qY:()=>yo,GL:()=>Ud,QT:()=>$d,kl:()=>Yh,Xk:()=>n_,PL:()=>Eg,UQ:()=>Ig,zN:()=>bg,ad:()=>$m,nP:()=>Ny,b9:()=>rE,vh:()=>Zm,Pb:()=>ly,L$:()=>tE,cf:()=>Ty,sc:()=>i_,Xo:()=>Ym,IO:()=>Bd,iE:()=>kh,Eo:()=>sg,i3:()=>Ag,Bt:()=>My,pl:()=>r_,Ub:()=>Me,qK:()=>cp,TQ:()=>Qm,e0:()=>Xm,r7:()=>Tg,Mx:()=>uy,ar:()=>qm});var qe,Qe,c=P(5861),d=P(9681),G=P(4859),ue=P(1877),Ae=P(2090),Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Rt,pt,It){It||(It=0);var Pt=Array(16);if("string"==typeof pt)for(var Nt=0;16>Nt;++Nt)Pt[Nt]=pt.charCodeAt(It++)|pt.charCodeAt(It++)<<8|pt.charCodeAt(It++)<<16|pt.charCodeAt(It++)<<24;else for(Nt=0;16>Nt;++Nt)Pt[Nt]=pt[It++]|pt[It++]<<8|pt[It++]<<16|pt[It++]<<24;var zt=Rt.g[3],Et=(pt=Rt.g[0])+(zt^(It=Rt.g[1])&((Nt=Rt.g[2])^zt))+Pt[0]+3614090360&4294967295;Et=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=(It=(Nt=(zt=(pt=It+(Et<<7&4294967295|Et>>>25))+((Et=zt+(Nt^pt&(It^Nt))+Pt[1]+3905402710&4294967295)<<12&4294967295|Et>>>20))+((Et=Nt+(It^zt&(pt^It))+Pt[2]+606105819&4294967295)<<17&4294967295|Et>>>15))+((Et=It+(pt^Nt&(zt^pt))+Pt[3]+3250441966&4294967295)<<22&4294967295|Et>>>10))+((Et=pt+(zt^It&(Nt^zt))+Pt[4]+4118548399&4294967295)<<7&4294967295|Et>>>25))+((Et=zt+(Nt^pt&(It^Nt))+Pt[5]+1200080426&4294967295)<<12&4294967295|Et>>>20))+((Et=Nt+(It^zt&(pt^It))+Pt[6]+2821735955&4294967295)<<17&4294967295|Et>>>15))+((Et=It+(pt^Nt&(zt^pt))+Pt[7]+4249261313&4294967295)<<22&4294967295|Et>>>10))+((Et=pt+(zt^It&(Nt^zt))+Pt[8]+1770035416&4294967295)<<7&4294967295|Et>>>25))+((Et=zt+(Nt^pt&(It^Nt))+Pt[9]+2336552879&4294967295)<<12&4294967295|Et>>>20))+((Et=Nt+(It^zt&(pt^It))+Pt[10]+4294925233&4294967295)<<17&4294967295|Et>>>15))+((Et=It+(pt^Nt&(zt^pt))+Pt[11]+2304563134&4294967295)<<22&4294967295|Et>>>10))+((Et=pt+(zt^It&(Nt^zt))+Pt[12]+1804603682&4294967295)<<7&4294967295|Et>>>25))+((Et=zt+(Nt^pt&(It^Nt))+Pt[13]+4254626195&4294967295)<<12&4294967295|Et>>>20))+((Et=Nt+(It^zt&(pt^It))+Pt[14]+2792965006&4294967295)<<17&4294967295|Et>>>15))+((Et=It+(pt^Nt&(zt^pt))+Pt[15]+1236535329&4294967295)<<22&4294967295|Et>>>10))+((Et=pt+(Nt^zt&(It^Nt))+Pt[1]+4129170786&4294967295)<<5&4294967295|Et>>>27))+((Et=zt+(It^Nt&(pt^It))+Pt[6]+3225465664&4294967295)<<9&4294967295|Et>>>23))+((Et=Nt+(pt^It&(zt^pt))+Pt[11]+643717713&4294967295)<<14&4294967295|Et>>>18))+((Et=It+(zt^pt&(Nt^zt))+Pt[0]+3921069994&4294967295)<<20&4294967295|Et>>>12))+((Et=pt+(Nt^zt&(It^Nt))+Pt[5]+3593408605&4294967295)<<5&4294967295|Et>>>27))+((Et=zt+(It^Nt&(pt^It))+Pt[10]+38016083&4294967295)<<9&4294967295|Et>>>23))+((Et=Nt+(pt^It&(zt^pt))+Pt[15]+3634488961&4294967295)<<14&4294967295|Et>>>18))+((Et=It+(zt^pt&(Nt^zt))+Pt[4]+3889429448&4294967295)<<20&4294967295|Et>>>12))+((Et=pt+(Nt^zt&(It^Nt))+Pt[9]+568446438&4294967295)<<5&4294967295|Et>>>27))+((Et=zt+(It^Nt&(pt^It))+Pt[14]+3275163606&4294967295)<<9&4294967295|Et>>>23))+((Et=Nt+(pt^It&(zt^pt))+Pt[3]+4107603335&4294967295)<<14&4294967295|Et>>>18))+((Et=It+(zt^pt&(Nt^zt))+Pt[8]+1163531501&4294967295)<<20&4294967295|Et>>>12))+((Et=pt+(Nt^zt&(It^Nt))+Pt[13]+2850285829&4294967295)<<5&4294967295|Et>>>27))+((Et=zt+(It^Nt&(pt^It))+Pt[2]+4243563512&4294967295)<<9&4294967295|Et>>>23))+((Et=Nt+(pt^It&(zt^pt))+Pt[7]+1735328473&4294967295)<<14&4294967295|Et>>>18))+((Et=It+(zt^pt&(Nt^zt))+Pt[12]+2368359562&4294967295)<<20&4294967295|Et>>>12))+((Et=pt+(It^Nt^zt)+Pt[5]+4294588738&4294967295)<<4&4294967295|Et>>>28))+((Et=zt+(pt^It^Nt)+Pt[8]+2272392833&4294967295)<<11&4294967295|Et>>>21))+((Et=Nt+(zt^pt^It)+Pt[11]+1839030562&4294967295)<<16&4294967295|Et>>>16))+((Et=It+(Nt^zt^pt)+Pt[14]+4259657740&4294967295)<<23&4294967295|Et>>>9))+((Et=pt+(It^Nt^zt)+Pt[1]+2763975236&4294967295)<<4&4294967295|Et>>>28))+((Et=zt+(pt^It^Nt)+Pt[4]+1272893353&4294967295)<<11&4294967295|Et>>>21))+((Et=Nt+(zt^pt^It)+Pt[7]+4139469664&4294967295)<<16&4294967295|Et>>>16))+((Et=It+(Nt^zt^pt)+Pt[10]+3200236656&4294967295)<<23&4294967295|Et>>>9))+((Et=pt+(It^Nt^zt)+Pt[13]+681279174&4294967295)<<4&4294967295|Et>>>28))+((Et=zt+(pt^It^Nt)+Pt[0]+3936430074&4294967295)<<11&4294967295|Et>>>21))+((Et=Nt+(zt^pt^It)+Pt[3]+3572445317&4294967295)<<16&4294967295|Et>>>16))+((Et=It+(Nt^zt^pt)+Pt[6]+76029189&4294967295)<<23&4294967295|Et>>>9))+((Et=pt+(It^Nt^zt)+Pt[9]+3654602809&4294967295)<<4&4294967295|Et>>>28))+((Et=zt+(pt^It^Nt)+Pt[12]+3873151461&4294967295)<<11&4294967295|Et>>>21))+((Et=Nt+(zt^pt^It)+Pt[15]+530742520&4294967295)<<16&4294967295|Et>>>16))+((Et=It+(Nt^zt^pt)+Pt[2]+3299628645&4294967295)<<23&4294967295|Et>>>9))+((Et=pt+(Nt^(It|~zt))+Pt[0]+4096336452&4294967295)<<6&4294967295|Et>>>26))+((Et=zt+(It^(pt|~Nt))+Pt[7]+1126891415&4294967295)<<10&4294967295|Et>>>22))+((Et=Nt+(pt^(zt|~It))+Pt[14]+2878612391&4294967295)<<15&4294967295|Et>>>17))+((Et=It+(zt^(Nt|~pt))+Pt[5]+4237533241&4294967295)<<21&4294967295|Et>>>11))+((Et=pt+(Nt^(It|~zt))+Pt[12]+1700485571&4294967295)<<6&4294967295|Et>>>26))+((Et=zt+(It^(pt|~Nt))+Pt[3]+2399980690&4294967295)<<10&4294967295|Et>>>22))+((Et=Nt+(pt^(zt|~It))+Pt[10]+4293915773&4294967295)<<15&4294967295|Et>>>17))+((Et=It+(zt^(Nt|~pt))+Pt[1]+2240044497&4294967295)<<21&4294967295|Et>>>11))+((Et=pt+(Nt^(It|~zt))+Pt[8]+1873313359&4294967295)<<6&4294967295|Et>>>26))+((Et=zt+(It^(pt|~Nt))+Pt[15]+4264355552&4294967295)<<10&4294967295|Et>>>22))+((Et=Nt+(pt^(zt|~It))+Pt[6]+2734768916&4294967295)<<15&4294967295|Et>>>17))+((Et=It+(zt^(Nt|~pt))+Pt[13]+1309151649&4294967295)<<21&4294967295|Et>>>11))+((zt=(pt=It+((Et=pt+(Nt^(It|~zt))+Pt[4]+4149444226&4294967295)<<6&4294967295|Et>>>26))+((Et=zt+(It^(pt|~Nt))+Pt[11]+3174756917&4294967295)<<10&4294967295|Et>>>22))^((Nt=zt+((Et=Nt+(pt^(zt|~It))+Pt[2]+718787259&4294967295)<<15&4294967295|Et>>>17))|~pt))+Pt[9]+3951481745&4294967295,Rt.g[0]=Rt.g[0]+pt&4294967295,Rt.g[1]=Rt.g[1]+(Nt+(Et<<21&4294967295|Et>>>11))&4294967295,Rt.g[2]=Rt.g[2]+Nt&4294967295,Rt.g[3]=Rt.g[3]+zt&4294967295}function _(Rt,pt){this.h=pt;for(var It=[],Pt=!0,Nt=Rt.length-1;0<=Nt;Nt--){var zt=0|Rt[Nt];Pt&&zt==pt||(It[Nt]=zt,Pt=!1)}this.g=It}(function e(Rt,pt){function It(){}It.prototype=pt.prototype,Rt.D=pt.prototype,Rt.prototype=new It,Rt.prototype.constructor=Rt,Rt.C=function(Pt,Nt,zt){for(var Et=Array(arguments.length-2),Cl=2;Cl<arguments.length;Cl++)Et[Cl-2]=arguments[Cl];return pt.prototype[Nt].apply(Pt,Et)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Rt,pt){void 0===pt&&(pt=Rt.length);for(var It=pt-this.blockSize,Pt=this.B,Nt=this.h,zt=0;zt<pt;){if(0==Nt)for(;zt<=It;)u(this,Rt,zt),zt+=this.blockSize;if("string"==typeof Rt){for(;zt<pt;)if(Pt[Nt++]=Rt.charCodeAt(zt++),Nt==this.blockSize){u(this,Pt),Nt=0;break}}else for(;zt<pt;)if(Pt[Nt++]=Rt[zt++],Nt==this.blockSize){u(this,Pt),Nt=0;break}}this.h=Nt,this.o+=pt},o.prototype.v=function(){var Rt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Rt[0]=128;for(var pt=1;pt<Rt.length-8;++pt)Rt[pt]=0;var It=8*this.o;for(pt=Rt.length-8;pt<Rt.length;++pt)Rt[pt]=255&It,It/=256;for(this.u(Rt),Rt=Array(16),pt=It=0;4>pt;++pt)for(var Pt=0;32>Pt;Pt+=8)Rt[It++]=this.g[pt]>>>Pt&255;return Rt};var C={};function V(Rt){return-128<=Rt&&128>Rt?function p(Rt,pt){var It=C;return Object.prototype.hasOwnProperty.call(It,Rt)?It[Rt]:It[Rt]=pt(Rt)}(Rt,function(pt){return new _([0|pt],0>pt?-1:0)}):new _([0|Rt],0>Rt?-1:0)}function J(Rt){if(isNaN(Rt)||!isFinite(Rt))return Ze;if(0>Rt)return _n(J(-Rt));for(var pt=[],It=1,Pt=0;Rt>=It;Pt++)pt[Pt]=Rt/It|0,It*=4294967296;return new _(pt,0)}var Ze=V(0),mt=V(1),Ut=V(16777216);function on(Rt){if(0!=Rt.h)return!1;for(var pt=0;pt<Rt.g.length;pt++)if(0!=Rt.g[pt])return!1;return!0}function Tn(Rt){return-1==Rt.h}function _n(Rt){for(var pt=Rt.g.length,It=[],Pt=0;Pt<pt;Pt++)It[Pt]=~Rt.g[Pt];return new _(It,~Rt.h).add(mt)}function tr(Rt,pt){return Rt.add(_n(pt))}function ur(Rt,pt){for(;(65535&Rt[pt])!=Rt[pt];)Rt[pt+1]+=Rt[pt]>>>16,Rt[pt]&=65535,pt++}function ar(Rt,pt){this.g=Rt,this.h=pt}function xr(Rt,pt){if(on(pt))throw Error("division by zero");if(on(Rt))return new ar(Ze,Ze);if(Tn(Rt))return pt=xr(_n(Rt),pt),new ar(_n(pt.g),_n(pt.h));if(Tn(pt))return pt=xr(Rt,_n(pt)),new ar(_n(pt.g),pt.h);if(30<Rt.g.length){if(Tn(Rt)||Tn(pt))throw Error("slowDivide_ only works with positive integers.");for(var It=mt,Pt=pt;0>=Pt.l(Rt);)It=Fi(It),Pt=Fi(Pt);var Nt=ei(It,1),zt=ei(Pt,1);for(Pt=ei(Pt,2),It=ei(It,2);!on(Pt);){var Et=zt.add(Pt);0>=Et.l(Rt)&&(Nt=Nt.add(It),zt=Et),Pt=ei(Pt,1),It=ei(It,1)}return pt=tr(Rt,Nt.j(pt)),new ar(Nt,pt)}for(Nt=Ze;0<=Rt.l(pt);){for(It=Math.max(1,Math.floor(Rt.m()/pt.m())),Pt=48>=(Pt=Math.ceil(Math.log(It)/Math.LN2))?1:Math.pow(2,Pt-48),Et=(zt=J(It)).j(pt);Tn(Et)||0<Et.l(Rt);)Et=(zt=J(It-=Pt)).j(pt);on(zt)&&(zt=mt),Nt=Nt.add(zt),Rt=tr(Rt,Et)}return new ar(Nt,Rt)}function Fi(Rt){for(var pt=Rt.g.length+1,It=[],Pt=0;Pt<pt;Pt++)It[Pt]=Rt.i(Pt)<<1|Rt.i(Pt-1)>>>31;return new _(It,Rt.h)}function ei(Rt,pt){var It=pt>>5;pt%=32;for(var Pt=Rt.g.length-It,Nt=[],zt=0;zt<Pt;zt++)Nt[zt]=0<pt?Rt.i(zt+It)>>>pt|Rt.i(zt+It+1)<<32-pt:Rt.i(zt+It);return new _(Nt,Rt.h)}(a=_.prototype).m=function(){if(Tn(this))return-_n(this).m();for(var Rt=0,pt=1,It=0;It<this.g.length;It++){var Pt=this.i(It);Rt+=(0<=Pt?Pt:4294967296+Pt)*pt,pt*=4294967296}return Rt},a.toString=function(Rt){if(2>(Rt=Rt||10)||36<Rt)throw Error("radix out of range: "+Rt);if(on(this))return"0";if(Tn(this))return"-"+_n(this).toString(Rt);for(var pt=J(Math.pow(Rt,6)),It=this,Pt="";;){var Nt=xr(It,pt).g,zt=((0<(It=tr(It,Nt.j(pt))).g.length?It.g[0]:It.h)>>>0).toString(Rt);if(on(It=Nt))return zt+Pt;for(;6>zt.length;)zt="0"+zt;Pt=zt+Pt}},a.i=function(Rt){return 0>Rt?0:Rt<this.g.length?this.g[Rt]:this.h},a.l=function(Rt){return Tn(Rt=tr(this,Rt))?-1:on(Rt)?0:1},a.abs=function(){return Tn(this)?_n(this):this},a.add=function(Rt){for(var pt=Math.max(this.g.length,Rt.g.length),It=[],Pt=0,Nt=0;Nt<=pt;Nt++){var zt=Pt+(65535&this.i(Nt))+(65535&Rt.i(Nt)),Et=(zt>>>16)+(this.i(Nt)>>>16)+(Rt.i(Nt)>>>16);Pt=Et>>>16,It[Nt]=(Et&=65535)<<16|(zt&=65535)}return new _(It,-2147483648&It[It.length-1]?-1:0)},a.j=function(Rt){if(on(this)||on(Rt))return Ze;if(Tn(this))return Tn(Rt)?_n(this).j(_n(Rt)):_n(_n(this).j(Rt));if(Tn(Rt))return _n(this.j(_n(Rt)));if(0>this.l(Ut)&&0>Rt.l(Ut))return J(this.m()*Rt.m());for(var pt=this.g.length+Rt.g.length,It=[],Pt=0;Pt<2*pt;Pt++)It[Pt]=0;for(Pt=0;Pt<this.g.length;Pt++)for(var Nt=0;Nt<Rt.g.length;Nt++){var zt=this.i(Pt)>>>16,Et=65535&this.i(Pt),Cl=Rt.i(Nt)>>>16,Xh=65535&Rt.i(Nt);It[2*Pt+2*Nt]+=Et*Xh,ur(It,2*Pt+2*Nt),It[2*Pt+2*Nt+1]+=zt*Xh,ur(It,2*Pt+2*Nt+1),It[2*Pt+2*Nt+1]+=Et*Cl,ur(It,2*Pt+2*Nt+1),It[2*Pt+2*Nt+2]+=zt*Cl,ur(It,2*Pt+2*Nt+2)}for(Pt=0;Pt<pt;Pt++)It[Pt]=It[2*Pt+1]<<16|It[2*Pt];for(Pt=pt;Pt<2*pt;Pt++)It[Pt]=0;return new _(It,0)},a.A=function(Rt){return xr(this,Rt).h},a.and=function(Rt){for(var pt=Math.max(this.g.length,Rt.g.length),It=[],Pt=0;Pt<pt;Pt++)It[Pt]=this.i(Pt)&Rt.i(Pt);return new _(It,this.h&Rt.h)},a.or=function(Rt){for(var pt=Math.max(this.g.length,Rt.g.length),It=[],Pt=0;Pt<pt;Pt++)It[Pt]=this.i(Pt)|Rt.i(Pt);return new _(It,this.h|Rt.h)},a.xor=function(Rt){for(var pt=Math.max(this.g.length,Rt.g.length),It=[],Pt=0;Pt<pt;Pt++)It[Pt]=this.i(Pt)^Rt.i(Pt);return new _(It,this.h^Rt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Qe=le.Md5=o,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=J,_.fromString=function _e(Rt,pt){if(0==Rt.length)throw Error("number format error: empty string");if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if("-"==Rt.charAt(0))return _n(_e(Rt.substring(1),pt));if(0<=Rt.indexOf("-"))throw Error('number format error: interior "-" character');for(var It=J(Math.pow(pt,8)),Pt=Ze,Nt=0;Nt<Rt.length;Nt+=8){var zt=Math.min(8,Rt.length-Nt),Et=parseInt(Rt.substring(Nt,Nt+zt),pt);8>zt?(zt=J(Math.pow(pt,zt)),Pt=Pt.j(zt).add(J(Et))):Pt=(Pt=Pt.j(It)).add(J(Et))}return Pt},qe=le.Integer=_}).apply(typeof Fe<"u"?Fe:typeof self<"u"?self:typeof window<"u"?window:{});var Se,ce,ye,Ve,Ce,Pe,ot,yt,fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(m,B,ee){return m==Array.prototype||m==Object.prototype||(m[B]=ee.value),m},o=function r(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fe&&fe];for(var B=0;B<m.length;++B){var ee=m[B];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function u(m,B){if(B)e:{var ee=o;m=m.split(".");for(var Le=0;Le<m.length-1;Le++){var Lt=m[Le];if(!(Lt in ee))break e;ee=ee[Lt]}(B=B(Le=ee[m=m[m.length-1]]))!=Le&&null!=B&&e(ee,m,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(m){return m||function(){return function p(m,B){m instanceof String&&(m+="");var ee=0,Le=!1,Lt={next:function(){if(!Le&&ee<m.length){var Zt=ee++;return{value:B(Zt,m[Zt]),done:!1}}return Le=!0,{done:!0,value:void 0}}};return Lt[Symbol.iterator]=function(){return Lt},Lt}(this,function(B,ee){return ee})}});var _=_||{},C=this||self;function V(m){var B=typeof m;return"array"==(B="object"!=B?B:m?Array.isArray(m)?"array":B:"null")||"object"==B&&"number"==typeof m.length}function J(m){var B=typeof m;return"object"==B&&null!=m||"function"==B}function _e(m,B,ee){return m.call.apply(m.bind,arguments)}function Ze(m,B,ee){if(!m)throw Error();if(2<arguments.length){var Le=Array.prototype.slice.call(arguments,2);return function(){var Lt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Lt,Le),m.apply(B,Lt)}}return function(){return m.apply(B,arguments)}}function mt(m,B,ee){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:Ze).apply(null,arguments)}function Ut(m,B){var ee=Array.prototype.slice.call(arguments,1);return function(){var Le=ee.slice();return Le.push.apply(Le,arguments),m.apply(this,Le)}}function on(m,B){function ee(){}ee.prototype=B.prototype,m.aa=B.prototype,m.prototype=new ee,m.prototype.constructor=m,m.Qb=function(Le,Lt,Zt){for(var kn=Array(arguments.length-2),lo=2;lo<arguments.length;lo++)kn[lo-2]=arguments[lo];return B.prototype[Lt].apply(Le,kn)}}function Tn(m){const B=m.length;if(0<B){const ee=Array(B);for(let Le=0;Le<B;Le++)ee[Le]=m[Le];return ee}return[]}function _n(m,B){for(let ee=1;ee<arguments.length;ee++){const Le=arguments[ee];if(V(Le)){const Lt=m.length||0,Zt=Le.length||0;m.length=Lt+Zt;for(let kn=0;kn<Zt;kn++)m[Lt+kn]=Le[kn]}else m.push(Le)}}function ur(m){return/^[\s\xa0]*$/.test(m)}function ar(){var m=C.navigator;return m&&(m=m.userAgent)?m:""}function xr(m){return xr[" "](m),m}xr[" "]=function(){};var Fi=!(-1==ar().indexOf("Gecko")||-1!=ar().toLowerCase().indexOf("webkit")&&-1==ar().indexOf("Edge")||-1!=ar().indexOf("Trident")||-1!=ar().indexOf("MSIE")||-1!=ar().indexOf("Edge"));function ei(m,B,ee){for(const Le in m)B.call(ee,m[Le],Le,m)}function pt(m){const B={};for(const ee in m)B[ee]=m[ee];return B}const It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(m,B){let ee,Le;for(let Lt=1;Lt<arguments.length;Lt++){for(ee in Le=arguments[Lt],Le)m[ee]=Le[ee];for(let Zt=0;Zt<It.length;Zt++)ee=It[Zt],Object.prototype.hasOwnProperty.call(Le,ee)&&(m[ee]=Le[ee])}}function Nt(m){var B=1;m=m.split(":");const ee=[];for(;0<B&&m.length;)ee.push(m.shift()),B--;return m.length&&ee.push(m.join(":")),ee}function zt(m){C.setTimeout(()=>{throw m},0)}function Et(){var m=Mg;let B=null;return m.g&&(B=m.g,m.g=m.g.next,m.g||(m.h=null),B.next=null),B}var Xh=new class tr{constructor(B,ee){this.i=B,this.j=ee,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new jy,m=>m.reset());class jy{constructor(){this.next=this.g=this.h=null}set(B,ee){this.h=B,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let Qh,Jh=!1,Mg=new class Cl{constructor(){this.h=this.g=null}add(B,ee){const Le=Xh.get();Le.set(B,ee),this.h?this.h.next=Le:this.g=Le,this.h=Le}},xg=()=>{const m=C.Promise.resolve(void 0);Qh=()=>{m.then(Og)}};var Og=()=>{for(var m;m=Et();){try{m.h.call(m.g)}catch(ee){zt(ee)}var B=Xh;B.j(m),100>B.h&&(B.h++,m.next=B.g,B.g=m)}Jh=!1};function fc(){this.s=this.s,this.C=this.C}function fs(m,B){this.type=m,this.g=this.target=B,this.defaultPrevented=!1}fc.prototype.s=!1,fc.prototype.ma=function(){this.s||(this.s=!0,this.N())},fc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},fs.prototype.h=function(){this.defaultPrevented=!0};var Hy=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var m=!1,B=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const ee=()=>{};C.addEventListener("test",ee,B),C.removeEventListener("test",ee,B)}catch{}return m}();function ef(m,B){if(fs.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var ee=this.type=m.type,Le=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=B,B=m.relatedTarget){if(Fi){e:{try{xr(B.nodeName);var Lt=!0;break e}catch{}Lt=!1}Lt||(B=null)}}else"mouseover"==ee?B=m.fromElement:"mouseout"==ee&&(B=m.toElement);this.relatedTarget=B,Le?(this.clientX=void 0!==Le.clientX?Le.clientX:Le.pageX,this.clientY=void 0!==Le.clientY?Le.clientY:Le.pageY,this.screenX=Le.screenX||0,this.screenY=Le.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:zy[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ef.aa.h.call(this)}}on(ef,fs);var zy={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),Gy=0;function Wy(m,B,ee,Le,Lt){this.listener=m,this.proxy=null,this.src=B,this.type=ee,this.capture=!!Le,this.ha=Lt,this.key=++Gy,this.da=this.fa=!1}function dp(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function nf(m){this.src=m,this.g={},this.h=0}function hp(m,B){var ee=B.type;if(ee in m.g){var Zt,Le=m.g[ee],Lt=Array.prototype.indexOf.call(Le,B,void 0);(Zt=0<=Lt)&&Array.prototype.splice.call(Le,Lt,1),Zt&&(dp(B),0==m.g[ee].length&&(delete m.g[ee],m.h--))}}function Ng(m,B,ee,Le){for(var Lt=0;Lt<m.length;++Lt){var Zt=m[Lt];if(!Zt.da&&Zt.listener==B&&Zt.capture==!!ee&&Zt.ha==Le)return Lt}return-1}nf.prototype.add=function(m,B,ee,Le,Lt){var Zt=m.toString();(m=this.g[Zt])||(m=this.g[Zt]=[],this.h++);var kn=Ng(m,B,Le,Lt);return-1<kn?(B=m[kn],ee||(B.fa=!1)):((B=new Wy(B,this.src,Zt,!!Le,Lt)).fa=ee,m.push(B)),B};var c_="closure_lm_"+(1e6*Math.random()|0),fp={};function qy(m,B,ee,Le,Lt){if(Le&&Le.once)return d_(m,B,ee,Le,Lt);if(Array.isArray(B)){for(var Zt=0;Zt<B.length;Zt++)qy(m,B[Zt],ee,Le,Lt);return null}return ee=jd(ee),m&&m[tf]?m.K(B,ee,J(Le)?!!Le.capture:!!Le,Lt):rf(m,B,ee,!1,Le,Lt)}function rf(m,B,ee,Le,Lt,Zt){if(!B)throw Error("Invalid event type");var kn=J(Lt)?!!Lt.capture:!!Lt,lo=ps(m);if(lo||(m[c_]=lo=new nf(m)),(ee=lo.add(B,ee,Le,kn,Zt)).proxy)return ee;if(Le=function Ky(){const B=sf;return function m(ee){return B.call(m.src,m.listener,ee)}}(),ee.proxy=Le,Le.src=m,Le.listener=ee,m.addEventListener)Hy||(Lt=kn),void 0===Lt&&(Lt=!1),m.addEventListener(B.toString(),Le,Lt);else if(m.attachEvent)m.attachEvent(mu(B.toString()),Le);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(Le)}return ee}function d_(m,B,ee,Le,Lt){if(Array.isArray(B)){for(var Zt=0;Zt<B.length;Zt++)d_(m,B[Zt],ee,Le,Lt);return null}return ee=jd(ee),m&&m[tf]?m.L(B,ee,J(Le)?!!Le.capture:!!Le,Lt):rf(m,B,ee,!0,Le,Lt)}function pp(m,B,ee,Le,Lt){if(Array.isArray(B))for(var Zt=0;Zt<B.length;Zt++)pp(m,B[Zt],ee,Le,Lt);else Le=J(Le)?!!Le.capture:!!Le,ee=jd(ee),m&&m[tf]?(m=m.i,(B=String(B).toString())in m.g&&-1<(ee=Ng(Zt=m.g[B],ee,Le,Lt))&&(dp(Zt[ee]),Array.prototype.splice.call(Zt,ee,1),0==Zt.length&&(delete m.g[B],m.h--))):m&&(m=ps(m))&&(B=m.g[B.toString()],m=-1,B&&(m=Ng(B,ee,Le,Lt)),(ee=-1<m?B[m]:null)&&kg(ee))}function kg(m){if("number"!=typeof m&&m&&!m.da){var B=m.src;if(B&&B[tf])hp(B.i,m);else{var ee=m.type,Le=m.proxy;B.removeEventListener?B.removeEventListener(ee,Le,m.capture):B.detachEvent?B.detachEvent(mu(ee),Le):B.addListener&&B.removeListener&&B.removeListener(Le),(ee=ps(B))?(hp(ee,m),0==ee.h&&(ee.src=null,B[c_]=null)):dp(m)}}}function mu(m){return m in fp?fp[m]:fp[m]="on"+m}function sf(m,B){if(m.da)m=!0;else{B=new ef(B,this);var ee=m.listener,Le=m.ha||m.src;m.fa&&kg(m),m=ee.call(Le,B)}return m}function ps(m){return(m=m[c_])instanceof nf?m:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function jd(m){return"function"==typeof m?m:(m[Al]||(m[Al]=function(B){return m.handleEvent(B)}),m[Al])}function uo(){fc.call(this),this.i=new nf(this),this.M=this,this.F=null}function ws(m,B){var ee,Le=m.F;if(Le)for(ee=[];Le;Le=Le.F)ee.push(Le);if(m=m.M,Le=B.type||B,"string"==typeof B)B=new fs(B,m);else if(B instanceof fs)B.target=B.target||m;else{var Lt=B;Pt(B=new fs(Le,m),Lt)}if(Lt=!0,ee)for(var Zt=ee.length-1;0<=Zt;Zt--){var kn=B.g=ee[Zt];Lt=Sl(kn,Le,!0,B)&&Lt}if(Lt=Sl(kn=B.g=m,Le,!0,B)&&Lt,Lt=Sl(kn,Le,!1,B)&&Lt,ee)for(Zt=0;Zt<ee.length;Zt++)Lt=Sl(kn=B.g=ee[Zt],Le,!1,B)&&Lt}function Sl(m,B,ee,Le){if(!(B=m.i.g[String(B)]))return!0;B=B.concat();for(var Lt=!0,Zt=0;Zt<B.length;++Zt){var kn=B[Zt];if(kn&&!kn.da&&kn.capture==ee){var lo=kn.listener,Ds=kn.ha||kn.src;kn.fa&&hp(m.i,kn),Lt=!1!==lo.call(Ds,Le)&&Lt}}return Lt&&!Le.defaultPrevented}function rd(m,B,ee){if("function"==typeof m)ee&&(m=mt(m,ee));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=mt(m.handleEvent,m)}return 2147483647<Number(B)?-1:C.setTimeout(m,B||0)}function id(m){m.g=rd(()=>{m.g=null,m.i&&(m.i=!1,id(m))},m.l);const B=m.h;m.h=null,m.m.apply(null,B)}on(uo,fc),uo.prototype[tf]=!0,uo.prototype.removeEventListener=function(m,B,ee,Le){pp(this,m,B,ee,Le)},uo.prototype.N=function(){if(uo.aa.N.call(this),this.i){var B,m=this.i;for(B in m.g){for(var ee=m.g[B],Le=0;Le<ee.length;Le++)dp(ee[Le]);delete m.g[B],m.h--}}this.F=null},uo.prototype.K=function(m,B,ee,Le){return this.i.add(String(m),B,!1,ee,Le)},uo.prototype.L=function(m,B,ee,Le){return this.i.add(String(m),B,!0,ee,Le)};class Hd extends fc{constructor(B,ee){super(),this.m=B,this.l=ee,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yu(m){fc.call(this),this.h=m,this.g={}}on(Yu,fc);var od=[];function sd(m){ei(m.g,function(B,ee){this.g.hasOwnProperty(ee)&&kg(B)},m),m.g={}}Yu.prototype.N=function(){Yu.aa.N.call(this),sd(this)},Yu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=C.JSON.stringify,zd=C.JSON.parse,h_=class{stringify(m){return C.JSON.stringify(m,void 0)}parse(m){return C.JSON.parse(m,void 0)}};function gp(){}function Lg(){}gp.prototype.h=null;var Gd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mp(){fs.call(this,"d")}function _p(){fs.call(this,"c")}on(mp,fs),on(_p,fs);var gc={},Vg=null;function Wd(){return Vg=Vg||new uo}function f_(m){fs.call(this,gc.La,m)}function yp(m){const B=Wd();ws(B,new f_(B))}function Yy(m,B){fs.call(this,gc.STAT_EVENT,m),this.stat=B}function Ws(m){const B=Wd();ws(B,new Yy(B,m))}function p_(m,B){fs.call(this,gc.Ma,m),this.size=B}function vp(m,B){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){m()},B)}function af(){this.g=!0}function qd(m,B,ee,Le){m.info(function(){return"XMLHTTP TEXT ("+B+"): "+function Bg(m,B){if(!m.g)return B;if(!B)return null;try{var ee=JSON.parse(B);if(ee)for(m=0;m<ee.length;m++)if(Array.isArray(ee[m])){var Le=ee[m];if(!(2>Le.length)){var Lt=Le[1];if(Array.isArray(Lt)&&!(1>Lt.length)){var Zt=Lt[0];if("noop"!=Zt&&"stop"!=Zt&&"close"!=Zt)for(var kn=1;kn<Lt.length;kn++)Lt[kn]=""}}}return pc(ee)}catch{return B}}(m,ee)+(Le?" "+Le:"")})}gc.La="serverreachability",on(f_,fs),gc.STAT_EVENT="statevent",on(Yy,fs),gc.Ma="timingevent",on(p_,fs),af.prototype.xa=function(){this.g=!1},af.prototype.info=function(){};var Kd,mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ep={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function uf(){}function Va(m,B,ee,Le){this.j=m,this.i=B,this.l=ee,this.R=Le||1,this.U=new Yu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $g}function $g(){this.i=null,this.g="",this.h=!1}on(uf,gp),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},Kd=new uf;var g_={},ad={};function Ug(m,B,ee){m.L=1,m.v=wp(Pl(B)),m.m=ee,m.P=!0,m_(m,null)}function m_(m,B){m.F=Date.now(),Yd(m),m.A=Pl(m.v);var ee=m.A,Le=m.R;Array.isArray(Le)||(Le=[String(Le)]),Qg(ee.i,"t",Le),m.C=0,ee=m.j.J,m.h=new $g,m.g=F_(m.j,ee?B:null,!m.m),0<m.O&&(m.M=new Hd(mt(m.Y,m,m.g),m.O)),B=m.U,ee=m.g,Le=m.ca;var Lt="readystatechange";Array.isArray(Lt)||(Lt&&(od[0]=Lt.toString()),Lt=od);for(var Zt=0;Zt<Lt.length;Zt++){var kn=qy(ee,Lt[Zt],Le||B.handleEvent,!1,B.h||B);if(!kn)break;B.g[kn.key]=kn}B=m.H?pt(m.H):{},m.m?(m.u||(m.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,B)):(m.u="GET",m.g.ea(m.A,m.u,null,B)),yp(),function cE(m,B,ee,Le,Lt,Zt){m.info(function(){if(m.g)if(Zt)for(var kn="",lo=Zt.split("&"),Ds=0;Ds<lo.length;Ds++){var Li=lo[Ds].split("=");if(1<Li.length){var gs=Li[0];Li=Li[1];var ns=gs.split("_");kn=2<=ns.length&&"type"==ns[1]?kn+(gs+"=")+Li+"&":kn+(gs+"=redacted&")}}else kn=null;else kn=Zt;return"XMLHTTP REQ ("+Le+") [attempt "+Lt+"]: "+B+"\n"+ee+"\n"+kn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function __(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function Qy(m,B){var ee=m.C,Le=B.indexOf("\n",ee);return-1==Le?ad:(ee=Number(B.substring(ee,Le)),isNaN(ee)?g_:(Le+=1)+ee>B.length?ad:(B=B.slice(Le,Le+ee),m.C=Le+ee,B))}function Yd(m){m.S=Date.now()+m.I,lf(m,m.I)}function lf(m,B){if(null!=m.B)throw Error("WatchDog timer not null");m.B=vp(mt(m.ba,m),B)}function Zd(m){m.B&&(C.clearTimeout(m.B),m.B=null)}function Ip(m){0==m.j.G||m.J||om(m.j,m)}function ud(m){Zd(m);var B=m.M;B&&"function"==typeof B.ma&&B.ma(),m.M=null,sd(m.U),m.g&&(B=m.g,m.g=null,B.abort(),B.ma())}function jg(m,B){try{var ee=m.j;if(0!=ee.G&&(ee.g==m||Gg(ee.h,m)))if(!m.K&&Gg(ee.h,m)&&3==ee.G){try{var Le=ee.Da.g.parse(B)}catch{Le=null}if(Array.isArray(Le)&&3==Le.length){var Lt=Le;if(0==Lt[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<m.F))break e;mf(ee),nm(ee)}im(ee),Ws(18)}}else ee.za=Lt[1],0<ee.za-ee.T&&37500>Lt[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=vp(mt(ee.Za,ee),6e3));if(1>=v_(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else hd(ee,11)}else if((m.K||ee.g==m)&&mf(ee),!ur(B))for(Lt=ee.Da.g.parse(B),B=0;B<Lt.length;B++){let Li=Lt[B];if(ee.T=Li[0],Li=Li[1],2==ee.G)if("c"==Li[0]){ee.K=Li[1],ee.ia=Li[2];const gs=Li[3];null!=gs&&(ee.la=gs,ee.j.info("VER="+ee.la));const ns=Li[4];null!=ns&&(ee.Aa=ns,ee.j.info("SVER="+ee.Aa));const rh=Li[5];null!=rh&&"number"==typeof rh&&0<rh&&(ee.L=Le=1.5*rh,ee.j.info("backChannelRequestTimeoutMs_="+Le)),Le=ee;const Ba=m.g;if(Ba){const Np=Ba.g?Ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Np){var Zt=Le.h;Zt.g||-1==Np.indexOf("spdy")&&-1==Np.indexOf("quic")&&-1==Np.indexOf("h2")||(Zt.j=Zt.l,Zt.g=new Set,Zt.h&&(bp(Zt,Zt.h),Zt.h=null))}if(Le.D){const lm=Ba.g?Ba.g.getResponseHeader("X-HTTP-Session-Id"):null;lm&&(Le.ya=lm,vo(Le.I,Le.D,lm))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-m.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var kn=m;if((Le=ee).qa=sm(Le,Le.J?Le.ia:null,Le.W),kn.K){Wg(Le.h,kn);var lo=kn,Ds=Le.L;Ds&&(lo.I=Ds),lo.B&&(Zd(lo),Yd(lo)),Le.g=kn}else O_(Le);0<ee.i.length&&Mp(ee)}else"stop"!=Li[0]&&"close"!=Li[0]||hd(ee,7);else 3==ee.G&&("stop"==Li[0]||"close"==Li[0]?"stop"==Li[0]?hd(ee,7):R_(ee):"noop"!=Li[0]&&ee.l&&ee.l.ta(Li),ee.v=0)}yp()}catch{}}function y_(m){this.l=m||10,m=C.PerformanceNavigationTiming?0<(m=C.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zg(m){return!!m.h||!!m.g&&m.g.size>=m.j}function v_(m){return m.h?1:m.g?m.g.size:0}function Gg(m,B){return m.h?m.h==B:!!m.g&&m.g.has(B)}function bp(m,B){m.g?m.g.add(B):m.h=B}function Wg(m,B){m.h&&m.h==B?m.h=null:m.g&&m.g.has(B)&&m.g.delete(B)}function qg(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let B=m.i;for(const ee of m.g.values())B=B.concat(ee.D);return B}return Tn(m.i)}function E_(m,B){if(m.forEach&&"function"==typeof m.forEach)m.forEach(B,void 0);else if(V(m)||"string"==typeof m)Array.prototype.forEach.call(m,B,void 0);else for(var ee=function ev(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(V(m)||"string"==typeof m){var B=[];m=m.length;for(var ee=0;ee<m;ee++)B.push(ee);return B}B=[],ee=0;for(const Le in m)B[ee++]=Le;return B}}}(m),Le=function Jy(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(V(m)){for(var B=[],ee=m.length,Le=0;Le<ee;Le++)B.push(m[Le]);return B}for(Le in B=[],ee=0,m)B[ee++]=m[Le];return B}(m),Lt=Le.length,Zt=0;Zt<Lt;Zt++)B.call(void 0,Le[Zt],ee&&ee[Zt],m)}Va.prototype.ca=function(m){m=m.target;const B=this.M;B&&3==_u(m)?B.j():this.Y(m)},Va.prototype.Y=function(m){try{if(m==this.g)e:{const ns=_u(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>ns)&&(3!=ns||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||4!=ns||7==B||yp(),Zd(this);var ee=this.g.Z();this.X=ee;t:if(__(this)){var Le=_c(this.g);m="";var Lt=Le.length,Zt=4==_u(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ud(this),Ip(this);var kn="";break t}this.h.i=new C.TextDecoder}for(B=0;B<Lt;B++)this.h.h=!0,m+=this.h.i.decode(Le[B],{stream:!(Zt&&B==Lt-1)});Le.length=0,this.h.g+=m,this.C=0,kn=this.h.g}else kn=this.g.oa();if(this.o=200==ee,function Zy(m,B,ee,Le,Lt,Zt,kn){m.info(function(){return"XMLHTTP RESP ("+Le+") [ attempt "+Lt+"]: "+B+"\n"+ee+"\n"+Zt+" "+kn})}(this.i,this.u,this.A,this.l,this.R,ns,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var lo,Ds=this.g;if((lo=Ds.g?Ds.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ur(lo)){var Li=lo;break t}}Li=null}if(!(ee=Li)){this.o=!1,this.s=3,Ws(12),ud(this),Ip(this);break e}qd(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jg(this,ee)}if(this.P){let Ba;for(ee=!0;!this.J&&this.C<kn.length;){if(Ba=Qy(this,kn),Ba==ad){4==ns&&(this.s=4,Ws(14),ee=!1),qd(this.i,this.l,null,"[Incomplete Response]");break}if(Ba==g_){this.s=4,Ws(15),qd(this.i,this.l,kn,"[Invalid Chunk]"),ee=!1;break}qd(this.i,this.l,Ba,null),jg(this,Ba)}if(__(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ns||0!=kn.length||this.h.h||(this.s=1,Ws(16),ee=!1),this.o=this.o&&ee,ee){if(0<kn.length&&!this.W){this.W=!0;var gs=this.j;gs.g==this&&gs.ba&&!gs.M&&(gs.j.info("Great, no buffering proxy detected. Bytes received: "+kn.length),xp(gs),gs.M=!0,Ws(11))}}else qd(this.i,this.l,kn,"[Invalid Chunked Response]"),ud(this),Ip(this)}else qd(this.i,this.l,kn,null),jg(this,kn);4==ns&&ud(this),this.o&&!this.J&&(4==ns?om(this.j,this):(this.o=!1,Yd(this)))}else(function tm(m){const B={};m=(m.g&&2<=_u(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let Le=0;Le<m.length;Le++){if(ur(m[Le]))continue;var ee=Nt(m[Le]);const Lt=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const Zt=B[Lt]||[];B[Lt]=Zt,Zt.push(ee)}!function Rt(m,B){for(const ee in m)B.call(void 0,m[ee],ee,m)}(B,function(Le){return Le.join(", ")})})(this.g),400==ee&&0<kn.indexOf("Unknown SID")?(this.s=3,Ws(12)):(this.s=0,Ws(13)),ud(this),Ip(this)}}}catch{}},Va.prototype.cancel=function(){this.J=!0,ud(this)},Va.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function Xy(m,B){m.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(yp(),Ws(17)),ud(this),this.s=2,Ip(this)):lf(this,this.S-m)},y_.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var Kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Rl){this.h=m.h,ld(this,m.j),this.o=m.o,this.g=m.g,cd(this,m.s),this.l=m.l;var B=m.i,ee=new Xd;ee.i=B.i,B.g&&(ee.g=new Map(B.g),ee.h=B.h),Tp(this,ee),this.m=m.m}else m&&(B=String(m).match(Kg))?(this.h=!1,ld(this,B[1]||"",!0),this.o=cf(B[2]||""),this.g=cf(B[3]||"",!0),cd(this,B[4]),this.l=cf(B[5]||"",!0),Tp(this,B[6]||"",!0),this.m=cf(B[7]||"")):(this.h=!1,this.i=new Xd(null,this.h))}function Pl(m){return new Rl(m)}function ld(m,B,ee){m.j=ee?cf(B,!0):B,m.j&&(m.j=m.j.replace(/:$/,""))}function cd(m,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);m.s=B}else m.s=null}function Tp(m,B,ee){B instanceof Xd?(m.i=B,function b_(m,B){B&&!m.j&&(Zu(m),m.i=null,m.g.forEach(function(ee,Le){var Lt=Le.toLowerCase();Le!=Lt&&(Xg(this,Le),Qg(this,Lt,ee))},m)),m.j=B}(m.i,m.h)):(ee||(B=df(B,tv)),m.i=new Xd(B,m.h))}function vo(m,B,ee){m.i.set(B,ee)}function wp(m){return vo(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function cf(m,B){return m?B?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function df(m,B,ee){return"string"==typeof m?(m=encodeURI(m).replace(B,Dp),ee&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Dp(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}Rl.prototype.toString=function(){var m=[],B=this.j;B&&m.push(df(B,hf,!0),":");var ee=this.g;return(ee||"file"==B)&&(m.push("//"),(B=this.o)&&m.push(df(B,hf,!0),"@"),m.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&m.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&m.push("/"),m.push(df(ee,"/"==ee.charAt(0)?I_:Zg,!0))),(ee=this.i.toString())&&m.push("?",ee),(ee=this.m)&&m.push("#",df(ee,nv)),m.join("")};var m,hf=/[#\/\?@]/g,Zg=/[#\?:]/g,I_=/[#\?]/g,tv=/[#\?@]/g,nv=/#/g;function Xd(m,B){this.h=this.g=null,this.i=m||null,this.j=!!B}function Zu(m){m.g||(m.g=new Map,m.h=0,m.i&&function Yg(m,B){if(m){m=m.split("&");for(var ee=0;ee<m.length;ee++){var Le=m[ee].indexOf("="),Lt=null;if(0<=Le){var Zt=m[ee].substring(0,Le);Lt=m[ee].substring(Le+1)}else Zt=m[ee];B(Zt,Lt?decodeURIComponent(Lt.replace(/\+/g," ")):"")}}}(m.i,function(B,ee){m.add(decodeURIComponent(B.replace(/\+/g," ")),ee)}))}function Xg(m,B){Zu(m),B=Qd(m,B),m.g.has(B)&&(m.i=null,m.h-=m.g.get(B).length,m.g.delete(B))}function Cp(m,B){return Zu(m),B=Qd(m,B),m.g.has(B)}function Qg(m,B,ee){Xg(m,B),0<ee.length&&(m.i=null,m.g.set(Qd(m,B),Tn(ee)),m.h+=ee.length)}function Qd(m,B){return B=String(B),m.j&&(B=B.toLowerCase()),B}function Ml(m,B,ee,Le,Lt){try{Lt&&(Lt.onload=null,Lt.onerror=null,Lt.onabort=null,Lt.ontimeout=null),Le(ee)}catch{}}function rv(){this.g=new h_}function D_(m,B,ee){const Le=ee||"";try{E_(m,function(Lt,Zt){let kn=Lt;J(Lt)&&(kn=pc(Lt)),B.push(Le+Zt+"="+encodeURIComponent(kn))})}catch(Lt){throw B.push(Le+"type="+encodeURIComponent("_badmap")),Lt}}function Jd(m){this.l=m.Ub||null,this.j=m.eb||!1}function ff(m,B){uo.call(this),this.D=m,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ap(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function eh(m){m.readyState=4,m.l=null,m.j=null,m.v=null,th(m)}function th(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Jg(m){let B="";return ei(m,function(ee,Le){B+=Le,B+=":",B+=ee,B+="\r\n"}),B}function Sp(m,B,ee){e:{for(Le in ee){var Le=!1;break e}Le=!0}Le||(ee=Jg(ee),"string"==typeof m?null!=ee&&encodeURIComponent(String(ee)):vo(m,B,ee))}function $o(m){uo.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Xd.prototype).add=function(m,B){Zu(this),this.i=null,m=Qd(this,m);var ee=this.g.get(m);return ee||this.g.set(m,ee=[]),ee.push(B),this.h+=1,this},a.forEach=function(m,B){Zu(this),this.g.forEach(function(ee,Le){ee.forEach(function(Lt){m.call(B,Lt,Le,this)},this)},this)},a.na=function(){Zu(this);const m=Array.from(this.g.values()),B=Array.from(this.g.keys()),ee=[];for(let Le=0;Le<B.length;Le++){const Lt=m[Le];for(let Zt=0;Zt<Lt.length;Zt++)ee.push(B[Le])}return ee},a.V=function(m){Zu(this);let B=[];if("string"==typeof m)Cp(this,m)&&(B=B.concat(this.g.get(Qd(this,m))));else{m=Array.from(this.g.values());for(let ee=0;ee<m.length;ee++)B=B.concat(m[ee])}return B},a.set=function(m,B){return Zu(this),this.i=null,Cp(this,m=Qd(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[B]),this.h+=1,this},a.get=function(m,B){return m&&0<(m=this.V(m)).length?String(m[0]):B},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],B=Array.from(this.g.keys());for(var ee=0;ee<B.length;ee++){var Le=B[ee];const Zt=encodeURIComponent(String(Le)),kn=this.V(Le);for(Le=0;Le<kn.length;Le++){var Lt=Zt;""!==kn[Le]&&(Lt+="="+encodeURIComponent(String(kn[Le]))),m.push(Lt)}}return this.i=m.join("&")},on(Jd,gp),Jd.prototype.g=function(){return new ff(this.l,this.j)},Jd.prototype.i=(m={},function(){return m}),on(ff,uo),(a=ff.prototype).open=function(m,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=B,this.readyState=1,th(this)},a.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(B.body=m),(this.D||C).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eh(this)),this.readyState=0},a.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,th(this)),this.g&&(this.readyState=3,th(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ap(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var B=m.value?m.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!m.done}))&&(this.response=this.responseText+=B)}m.done?eh(this):th(this),3==this.readyState&&Ap(this)}},a.Ra=function(m){this.g&&(this.response=this.responseText=m,eh(this))},a.Qa=function(m){this.g&&(this.response=m,eh(this))},a.ga=function(){this.g&&eh(this)},a.setRequestHeader=function(m,B){this.u.append(m,B)},a.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],B=this.h.entries();for(var ee=B.next();!ee.done;)m.push((ee=ee.value)[0]+": "+ee[1]),ee=B.next();return m.join("\r\n")},Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),on($o,uo);var C_=/^https?$/i,A_=["POST","PUT"];function em(m,B){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=B,m.m=5,pf(m),Rp(m)}function pf(m){m.A||(m.A=!0,ws(m,"complete"),ws(m,"error"))}function xl(m){if(m.h&&typeof _<"u"&&(!m.v[1]||4!=_u(m)||2!=m.Z()))if(m.u&&4==_u(m))rd(m.Ea,0,m);else if(ws(m,"readystatechange"),4==_u(m)){m.h=!1;try{const kn=m.Z();e:switch(kn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var ee;if(!(ee=B)){var Le;if(Le=0===kn){var Lt=String(m.D).match(Kg)[1]||null;!Lt&&C.self&&C.self.location&&(Lt=C.self.location.protocol.slice(0,-1)),Le=!C_.test(Lt?Lt.toLowerCase():"")}ee=Le}if(ee)ws(m,"complete"),ws(m,"success");else{m.m=6;try{var Zt=2<_u(m)?m.g.statusText:""}catch{Zt=""}m.l=Zt+" ["+m.Z()+"]",pf(m)}}finally{Rp(m)}}}function Rp(m,B){if(m.g){S_(m);const ee=m.g,Le=m.v[0]?()=>{}:null;m.g=null,m.v=null,B||ws(m,"ready");try{ee.onreadystatechange=Le}catch{}}}function S_(m){m.I&&(C.clearTimeout(m.I),m.I=null)}function _u(m){return m.g?m.g.readyState:0}function _c(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function gf(m,B,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[m]||B}function Pp(m){this.Aa=0,this.i=[],this.j=new af,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gf("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gf("baseRetryDelayMs",5e3,m),this.cb=gf("retryDelaySeedMs",1e4,m),this.Wa=gf("forwardChannelMaxRetries",2,m),this.wa=gf("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new y_(m&&m.concurrentRequestLimit),this.Da=new rv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function R_(m){if(P_(m),3==m.G){var B=m.U++,ee=Pl(m.I);if(vo(ee,"SID",m.K),vo(ee,"RID",B),vo(ee,"TYPE","terminate"),Uo(m,ee),(B=new Va(m,m.j,B)).L=2,B.v=wp(Pl(ee)),ee=!1,C.navigator&&C.navigator.sendBeacon)try{ee=C.navigator.sendBeacon(B.v.toString(),"")}catch{}!ee&&C.Image&&((new Image).src=B.v,ee=!0),ee||(B.g=F_(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Yd(B)}k_(m)}function nm(m){m.g&&(xp(m),m.g.cancel(),m.g=null)}function P_(m){nm(m),m.u&&(C.clearTimeout(m.u),m.u=null),mf(m),m.h.cancel(),m.s&&("number"==typeof m.s&&C.clearTimeout(m.s),m.s=null)}function Mp(m){if(!zg(m.h)&&!m.s){m.s=!0;var B=m.Ga;Qh||xg(),Jh||(Qh(),Jh=!0),Mg.add(B,m),m.B=0}}function x_(m,B){var ee;ee=B?B.l:m.U++;const Le=Pl(m.I);vo(Le,"SID",m.K),vo(Le,"RID",ee),vo(Le,"AID",m.T),Uo(m,Le),m.m&&m.o&&Sp(Le,m.m,m.o),ee=new Va(m,m.j,ee,m.B+1),null===m.m&&(ee.H=m.o),B&&(m.i=B.D.concat(m.i)),B=rm(m,ee,1e3),ee.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),bp(m.h,ee),Ug(ee,Le,B)}function Uo(m,B){m.H&&ei(m.H,function(ee,Le){vo(B,Le,ee)}),m.l&&E_({},function(ee,Le){vo(B,Le,ee)})}function rm(m,B,ee){ee=Math.min(m.i.length,ee);var Le=m.l?mt(m.l.Na,m.l,m):null;e:{var Lt=m.i;let Zt=-1;for(;;){const kn=["count="+ee];-1==Zt?0<ee?(Zt=Lt[0].g,kn.push("ofs="+Zt)):Zt=0:kn.push("ofs="+Zt);let lo=!0;for(let Ds=0;Ds<ee;Ds++){let Li=Lt[Ds].g;const gs=Lt[Ds].map;if(Li-=Zt,0>Li)Zt=Math.max(0,Lt[Ds].g-100),lo=!1;else try{D_(gs,kn,"req"+Li+"_")}catch{Le&&Le(gs)}}if(lo){Le=kn.join("&");break e}}}return m=m.i.splice(0,ee),B.D=m,Le}function O_(m){if(!m.g&&!m.u){m.Y=1;var B=m.Fa;Qh||xg(),Jh||(Qh(),Jh=!0),Mg.add(B,m),m.v=0}}function im(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=vp(mt(m.Fa,m),dd(m,m.v)),m.v++,0))}function xp(m){null!=m.A&&(C.clearTimeout(m.A),m.A=null)}function N_(m){m.g=new Va(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var B=Pl(m.qa);vo(B,"RID","rpc"),vo(B,"SID",m.K),vo(B,"AID",m.T),vo(B,"CI",m.F?"0":"1"),!m.F&&m.ja&&vo(B,"TO",m.ja),vo(B,"TYPE","xmlhttp"),Uo(m,B),m.m&&m.o&&Sp(B,m.m,m.o),m.L&&(m.g.I=m.L);var ee=m.g;m=m.ia,ee.L=1,ee.v=wp(Pl(B)),ee.m=null,ee.P=!0,m_(ee,m)}function mf(m){null!=m.C&&(C.clearTimeout(m.C),m.C=null)}function om(m,B){var ee=null;if(m.g==B){mf(m),xp(m),m.g=null;var Le=2}else{if(!Gg(m.h,B))return;ee=B.D,Wg(m.h,B),Le=1}if(0!=m.G)if(B.o)if(1==Le){ee=B.m?B.m.length:0,B=Date.now()-B.F;var Lt=m.B;ws(Le=Wd(),new p_(Le,ee)),Mp(m)}else O_(m);else if(3==(Lt=B.s)||0==Lt&&0<B.X||!(1==Le&&function M_(m,B){return!(v_(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=B.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=vp(mt(m.Ga,m,B),dd(m,m.B)),m.B++,0)))}(m,B)||2==Le&&im(m)))switch(ee&&0<ee.length&&(B=m.h,B.i=B.i.concat(ee)),Lt){case 1:hd(m,5);break;case 4:hd(m,10);break;case 3:hd(m,6);break;default:hd(m,2)}}function dd(m,B){let ee=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(ee*=2),ee*B}function hd(m,B){if(m.j.info("Error code "+B),2==B){var ee=mt(m.fb,m),Le=m.Xa;const Lt=!Le;Le=new Rl(Le||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||ld(Le,"https"),wp(Le),Lt?function T_(m,B){const ee=new af;if(C.Image){const Le=new Image;Le.onload=Ut(Ml,ee,"TestLoadImage: loaded",!0,B,Le),Le.onerror=Ut(Ml,ee,"TestLoadImage: error",!1,B,Le),Le.onabort=Ut(Ml,ee,"TestLoadImage: abort",!1,B,Le),Le.ontimeout=Ut(Ml,ee,"TestLoadImage: timeout",!1,B,Le),C.setTimeout(function(){Le.ontimeout&&Le.ontimeout()},1e4),Le.src=m}else B(!1)}(Le.toString(),ee):function w_(m,B){new af;const Le=new AbortController,Lt=setTimeout(()=>{Le.abort(),Ml(0,0,!1,B)},1e4);fetch(m,{signal:Le.signal}).then(Zt=>{clearTimeout(Lt),Ml(0,0,!!Zt.ok,B)}).catch(()=>{clearTimeout(Lt),Ml(0,0,!1,B)})}(Le.toString(),ee)}else Ws(2);m.G=0,m.l&&m.l.sa(B),k_(m),P_(m)}function k_(m){if(m.G=0,m.ka=[],m.l){const B=qg(m.h);(0!=B.length||0!=m.i.length)&&(_n(m.ka,B),_n(m.ka,m.i),m.h.i.length=0,Tn(m.i),m.i.length=0),m.l.ra()}}function sm(m,B,ee){var Le=ee instanceof Rl?Pl(ee):new Rl(ee);if(""!=Le.g)B&&(Le.g=B+"."+Le.g),cd(Le,Le.s);else{var Lt=C.location;Le=Lt.protocol,B=B?B+"."+Lt.hostname:Lt.hostname,Lt=+Lt.port;var Zt=new Rl(null);Le&&ld(Zt,Le),B&&(Zt.g=B),Lt&&cd(Zt,Lt),ee&&(Zt.l=ee),Le=Zt}return B=m.ya,(ee=m.D)&&B&&vo(Le,ee,B),vo(Le,"VER",m.la),Uo(m,Le),Le}function F_(m,B,ee){if(B&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new $o(m.Ca&&!m.pa?new Jd({eb:ee}):m.pa)).Ha(m.J),B}function am(){}function um(){}function oa(m,B){uo.call(this),this.g=new Pp(B),this.l=m,this.h=B&&B.messageUrlParams||null,m=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(m?m["X-WebChannel-Content-Type"]=B.messageContentType:m={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(m?m["X-WebChannel-Client-Profile"]=B.va:m={"X-WebChannel-Client-Profile":B.va}),this.g.S=m,(m=B&&B.Sb)&&!ur(m)&&(this.g.m=m),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!ur(B)&&(this.g.D=B,null!==(m=this.h)&&B in m&&B in(m=this.h)&&delete m[B]),this.j=new nh(this)}function Op(m){mp.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var B=m.__sm__;if(B){e:{for(const ee in B){m=ee;break e}m=void 0}(this.i=m)&&(m=this.i,B=null!==B&&m in B?B[m]:void 0),this.data=B}else this.data=m}function yu(){_p.call(this),this.status=1}function nh(m){this.g=m}(a=$o.prototype).Ha=function(m){this.J=m},a.ea=function(m,B,ee,Le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);B=B?B.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kd.g(),this.v=function Fg(m){return m.h||(m.h=m.i())}(this.o?this.o:Kd),this.g.onreadystatechange=mt(this.Ea,this);try{this.B=!0,this.g.open(B,String(m),!0),this.B=!1}catch(Zt){return void em(this,Zt)}if(m=ee||"",ee=new Map(this.headers),Le)if(Object.getPrototypeOf(Le)===Object.prototype)for(var Lt in Le)ee.set(Lt,Le[Lt]);else{if("function"!=typeof Le.keys||"function"!=typeof Le.get)throw Error("Unknown input type for opt_headers: "+String(Le));for(const Zt of Le.keys())ee.set(Zt,Le.get(Zt))}Le=Array.from(ee.keys()).find(Zt=>"content-type"==Zt.toLowerCase()),Lt=C.FormData&&m instanceof C.FormData,!(0<=Array.prototype.indexOf.call(A_,B,void 0))||Le||Lt||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Zt,kn]of ee)this.g.setRequestHeader(Zt,kn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S_(this),this.u=!0,this.g.send(m),this.u=!1}catch(Zt){em(this,Zt)}},a.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ws(this,"complete"),ws(this,"abort"),Rp(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rp(this,!0)),$o.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xl(this):this.bb())},a.bb=function(){xl(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<_u(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(m){if(this.g){var B=this.g.responseText;return m&&0==B.indexOf(m)&&(B=B.substring(m.length)),zd(B)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Pp.prototype).la=8,a.G=1,a.connect=function(m,B,ee,Le){Ws(0),this.W=m,this.H=B||{},ee&&void 0!==Le&&(this.H.OSID=ee,this.H.OAID=Le),this.F=this.X,this.I=sm(this,null,this.W),Mp(this)},a.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Lt=new Va(this,this.j,m);let Zt=this.o;if(this.S&&(Zt?(Zt=pt(Zt),Pt(Zt,this.S)):Zt=this.S),null!==this.m||this.O||(Lt.H=Zt,Zt=null),this.P)e:{for(var B=0,ee=0;ee<this.i.length;ee++){var Le=this.i[ee];if(void 0===(Le="__data__"in Le.map&&"string"==typeof(Le=Le.map.__data__)?Le.length:void 0))break;if(4096<(B+=Le)){B=ee;break e}if(4096===B||ee===this.i.length-1){B=ee+1;break e}}B=1e3}else B=1e3;B=rm(this,Lt,B),vo(ee=Pl(this.I),"RID",m),vo(ee,"CVER",22),this.D&&vo(ee,"X-HTTP-Session-Id",this.D),Uo(this,ee),Zt&&(this.O?B="headers="+encodeURIComponent(String(Jg(Zt)))+"&"+B:this.m&&Sp(ee,this.m,Zt)),bp(this.h,Lt),this.Ua&&vo(ee,"TYPE","init"),this.P?(vo(ee,"$req",B),vo(ee,"SID","null"),Lt.T=!0,Ug(Lt,ee,null)):Ug(Lt,ee,B),this.G=2}}else 3==this.G&&(m?x_(this,m):0==this.i.length||zg(this.h)||x_(this))},a.Fa=function(){if(this.u=null,N_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=vp(mt(this.ab,this),m)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ws(10),nm(this),N_(this))},a.Za=function(){null!=this.C&&(this.C=null,nm(this),im(this),Ws(19))},a.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ws(2)):(this.j.info("Failed to ping google.com"),Ws(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=am.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},um.prototype.g=function(m,B){return new oa(m,B)},on(oa,uo),oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oa.prototype.close=function(){R_(this.g)},oa.prototype.o=function(m){var B=this.g;if("string"==typeof m){var ee={};ee.__data__=m,m=ee}else this.u&&((ee={}).__data__=pc(m),m=ee);B.i.push(new class{constructor(m,B){this.g=m,this.map=B}}(B.Ya++,m)),3==B.G&&Mp(B)},oa.prototype.N=function(){this.g.l=null,delete this.j,R_(this.g),delete this.g,oa.aa.N.call(this)},on(Op,mp),on(yu,_p),on(nh,am),nh.prototype.ua=function(){ws(this.g,"a")},nh.prototype.ta=function(m){ws(this.g,new Op(m))},nh.prototype.sa=function(m){ws(this.g,new yu)},nh.prototype.ra=function(){ws(this.g,"b")},um.prototype.createWebChannel=um.prototype.g,oa.prototype.send=oa.prototype.o,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,yt=ae.createWebChannelTransport=function(){return new um},ot=ae.getStatEventTarget=function(){return Wd()},Pe=ae.Event=gc,Ce=ae.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,Ve=ae.ErrorCode=mc,Ep.COMPLETE="complete",ye=ae.EventType=Ep,Lg.EventType=Gd,Gd.OPEN="a",Gd.CLOSE="b",Gd.ERROR="c",Gd.MESSAGE="d",uo.prototype.listen=uo.prototype.K,ce=ae.WebChannel=Lg,ae.FetchXmlHttpFactory=Jd,$o.prototype.listenOnce=$o.prototype.L,$o.prototype.getLastError=$o.prototype.Ka,$o.prototype.getLastErrorCode=$o.prototype.Ba,$o.prototype.getStatus=$o.prototype.Z,$o.prototype.getResponseJson=$o.prototype.Oa,$o.prototype.getResponseText=$o.prototype.oa,$o.prototype.send=$o.prototype.ea,$o.prototype.setWithCredentials=$o.prototype.Ha,Se=ae.XhrIo=$o}).apply(typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{});const De="@firebase/firestore";class Ke{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Ge="10.14.0";const Je=new ue.Yd("@firebase/firestore");function Ye(){return Je.logLevel}function Me(a){Je.setLogLevel(a)}function oe(a,...e){if(Je.logLevel<=ue.in.DEBUG){const r=e.map($e);Je.debug(`Firestore (${Ge}): ${a}`,...r)}}function ze(a,...e){if(Je.logLevel<=ue.in.ERROR){const r=e.map($e);Je.error(`Firestore (${Ge}): ${a}`,...r)}}function Xe(a,...e){if(Je.logLevel<=ue.in.WARN){const r=e.map($e);Je.warn(`Firestore (${Ge}): ${a}`,...r)}}function $e(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function xe(a="Unexpected state"){const e=`FIRESTORE (${Ge}) INTERNAL ASSERTION FAILED: `+a;throw ze(e),new Error(e)}function lt(a,e){a||xe()}function be(a,e){a||xe()}function he(a,e){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Ae.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class A{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class j{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ke.UNAUTHENTICATED))}shutdown(){}}class pe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class He{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;lt(void 0===this.o);let u=this.i;const p=J=>this.i!==u?(u=this.i,r(J)):Promise.resolve();let _=new A;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new A,e.enqueueRetryable(()=>p(this.currentUser))};const C=()=>{const J=_;e.enqueueRetryable((0,c.Z)(function*(){yield J.promise,yield p(o.currentUser)}))},V=J=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(J=>V(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?V(J):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new A)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(lt("string"==typeof o.accessToken),new j(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Ke(e)}}class We{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ue{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new We(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class it{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class st{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){lt(void 0===this.o);const o=p=>{null!=p.error&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,oe("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(lt("string"==typeof r.token),this.R=r.token,new it(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ct(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class Kt{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Ct(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function Tt(a,e){return a<e?-1:a>e?1:0}function gn(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function yn(a){return a+"\0"}class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new M(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new M(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new M(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new xt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new xt(0,0))}static max(){return new Ht(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kt{constructor(e,r,o){void 0===r?r=0:r>e.length&&xe(),void 0===o?o=e.length-r:o>e.length-r&&xe(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===kt.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof kt?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const p=e.get(u),_=r.get(u);if(p<_)return-1;if(p>_)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class cn extends kt{construct(e,r,o){return new cn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new M(Z.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new cn(r)}static emptyPath(){return new cn([])}}const xn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends kt{construct(e,r,o){return new On(e,r,o)}static isValidIdentifier(e){return xn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new On(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const p=()=>{if(0===o.length)throw new M(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let _=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new M(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new M(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===C?(_=!_,u++):"."!==C||_?(o+=C,u++):(p(),u++)}if(p(),_)throw new M(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(r)}static emptyPath(){return new On([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(cn.fromString(e))}static fromName(e){return new Jt(cn.fromString(e).popFirst(5))}static empty(){return new Jt(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new cn(e.slice()))}}class un{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function wn(a){return a.fields.find(e=>2===e.kind)}function En(a){return a.fields.filter(e=>2!==e.kind)}un.UNKNOWN_ID=-1;class Nn{constructor(e,r){this.fieldPath=e,this.kind=r}}class Dn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Dn(0,In.min())}}function nr(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=Ht.fromTimestamp(1e9===o?new xt(r+1,0):new xt(r,o));return new In(u,Jt.empty(),e)}function yr(a){return new In(a.readTime,a.key,-1)}class In{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new In(Ht.min(),Jt.empty(),-1)}static max(){return new In(Ht.max(),Jt.empty(),-1)}}function sr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Jt.comparator(a.documentKey,e.documentKey),0!==r?r:Tt(a.largestBatchId,e.largestBatchId))}const jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dr(a){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==jn)throw a;oe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new wt((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof wt?r:wt.resolve(r)}catch(r){return wt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):wt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):wt.reject(r)}static resolve(e){return new wt((r,o)=>{r(e)})}static reject(e){return new wt((r,o)=>{o(e)})}static waitFor(e){return new wt((r,o)=>{let u=0,p=0,_=!1;e.forEach(C=>{++u,C.next(()=>{++p,_&&p===u&&r()},V=>o(V))}),_=!0,p===u&&r()})}static or(e){let r=wt.resolve(!1);for(const o of e)r=r.next(u=>u?wt.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,p)=>{o.push(r.call(this,u,p))}),this.waitFor(o)}static mapArray(e,r){return new wt((o,u)=>{const p=e.length,_=new Array(p);let C=0;for(let V=0;V<p;V++){const J=V;r(e[J]).next(_e=>{_[J]=_e,++C,C===p&&o(_)},_e=>u(_e))}})}static doWhile(e,r){return new wt((o,u)=>{const p=()=>{!0===e()?r().next(()=>{p()},u):o()};p()})}}class cr{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new A,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ti(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=et(o.target.error);this.V.reject(new ti(e,u))}}static open(e,r,o,u){try{return new cr(r,e.transaction(u,o))}catch(p){throw new ti(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Cr(r)}}class pr{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===pr.S((0,Ae.z$)())&&ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),Kn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ae.hl)())return!1;if(pr.v())return!0;const e=(0,Ae.z$)(),r=pr.S(e),o=0<r&&r<10,u=vi(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,c.Z)(function*(){return r.db||(oe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=_=>{o(_.target.result)},p.onblocked=()=>{u(new ti(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const C=_.target.error;u("VersionError"===C.name?new M(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new M(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new ti(e,C))},p.onupgradeneeded=_=>{oe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',_.oldVersion),r.p.O(_.target.result,p.transaction,_.oldVersion,r.version).next(()=>{oe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var p=this;return(0,c.Z)(function*(){const _="readonly"===r;let C=0;for(;;){++C;try{p.db=yield p.M(e);const V=cr.open(p.db,e,_?"readonly":"readwrite",o),J=u(V).next(_e=>(V.g(),_e)).catch(_e=>(V.abort(_e),wt.reject(_e))).toPromise();return J.catch(()=>{}),yield V.m,J}catch(V){const J=V,_e="FirebaseError"!==J.name&&C<3;if(oe("SimpleDb","Transaction failed with error:",J.message,"Retrying:",_e),p.close(),!_e)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function vi(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class qr{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Kn(this.B.delete())}}class ti extends M{constructor(e,r){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function vr(a){return"IndexedDbTransactionError"===a.name}class Cr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(oe("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Kn(o)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),Kn(this.store.add(e))}get(e){return Kn(this.store.get(e)).next(r=>(void 0===r&&(r=null),oe("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),Kn(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),Kn(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(o.range);return new wt((_,C)=>{p.onerror=V=>{C(V.target.error)},p.onsuccess=V=>{_(V.target.result)}})}{const p=this.cursor(o),_=[];return this.W(p,(C,V)=>{_.push(V)}).next(()=>_)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new wt((u,p)=>{o.onerror=_=>{p(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}j(e,r){oe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(p,_,C)=>C.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new wt((o,u)=>{r.onerror=p=>{const _=et(p.target.error);u(_)},r.onsuccess=p=>{const _=p.target.result;_?e(_.primaryKey,_.value).next(C=>{C?_.continue():o()}):o()}})}W(e,r){const o=[];return new wt((u,p)=>{e.onerror=_=>{p(_.target.error)},e.onsuccess=_=>{const C=_.target.result;if(!C)return void u();const V=new qr(C),J=r(C.primaryKey,C.value,V);if(J instanceof wt){const _e=J.catch(Ze=>(V.done(),wt.reject(Ze)));o.push(_e)}V.isDone?u():null===V.K?C.continue():C.continue(V.K)}}).next(()=>wt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Kn(a){return new wt((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=et(o.target.error);r(u)}})}let dn=!1;function et(a){const e=pr.S((0,Ae.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dn||(dn=!0,setTimeout(()=>{throw o},0)),o}}return a}class F{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;oe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){r.task=null;try{oe("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){vr(o)?oe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Dr(o)}yield r.X(6e4)}))}}class S{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,p=!0;return wt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return oe("IndexBackfiller",`Processing collection: ${_}`),this.ne(e,_,u).next(C=>{u-=C,o.add(_)});p=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.re(u,p)).next(C=>(oe("IndexBackfiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,r,C))).next(()=>_.size)}))}re(e,r){let o=e;return r.changes.forEach((u,p)=>{const _=yr(p);sr(_,o)>0&&(o=_)}),new In(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let $=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function K(a){return null==a}function z(a){return 0===a&&1/a==-1/0}function de(a){return"number"==typeof a&&Number.isInteger(a)&&!z(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function ft(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Ot(e)),e=St(a.get(r),e);return Ot(e)}function St(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const p=a.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function Ot(a){return a+"\x01\x01"}function Gt(a){const e=a.length;if(lt(e>=2),2===e)return lt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),cn.emptyPath();const r=e-2,o=[];let u="";for(let p=0;p<e;){const _=a.indexOf("\x01",p);switch((_<0||_>r)&&xe(),a.charAt(_+1)){case"\x01":const C=a.substring(p,_);let V;0===u.length?V=C:(u+=C,V=u,u=""),o.push(V);break;case"\x10":u+=a.substring(p,_),u+="\0";break;case"\x11":u+=a.substring(p,_+1);break;default:xe()}p=_+2}return new cn(o)}const Hn=["userId","batchId"];function en(a,e){return[a,ft(e)]}function ir(a,e,r){return[a,ft(e),r]}const fr={},$r=["prefixPath","collectionGroup","readTime","documentId"],ni=["prefixPath","collectionGroup","documentId"],Ai=["collectionGroup","readTime","prefixPath","documentId"],Si=["canonicalId","targetId"],Pr=["targetId","path"],Tr=["path","targetId"],Yr=["collectionId","parent"],Eo=["indexId","uid"],Wr=["uid","sequenceNumber"],gr=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dr=["indexId","uid","orderedDocumentKey"],Oo=["userId","collectionPath","documentId"],pi=["userId","collectionPath","largestBatchId"],Ei=["userId","collectionGroup","largestBatchId"],No=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ki=[...No,"documentOverlays"],Mr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ii=Mr,Vi=[...Ii,"indexConfiguration","indexState","indexEntries"],di=Vi,Hi=[...Vi,"globals"];class co extends rr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ri(a,e){const r=he(a);return pr.F(r._e,e)}function me(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function je(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Ne(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ut{constructor(e,r){this.comparator=e,this.root=r||Vt.EMPTY}insert(e,r){return new ut(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dt(this.root,e,this.comparator,!1)}getReverseIterator(){return new dt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dt(this.root,e,this.comparator,!0)}}class dt{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,r,o,u,p){this.key=e,this.value=r,this.color=o??Vt.RED,this.left=u??Vt.EMPTY,this.right=p??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,p){return new Vt(e??this.key,r??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Vt.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,r,o,u,p){return this}insert(e,r,o){return new Vt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Yt(this.data.getIterator())}getIteratorFrom(e){return new Yt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ft(this.comparator);return r.data=e,r}}class Yt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tn(a){return a.hasNext()?a.getNext():void 0}class Xt{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Xt([])}unionWith(e){let r=new Ft(On.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Xt(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return gn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Mn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function qn(){return typeof atob<"u"}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Mn("Invalid base64 string: "+p):p}}(e);return new er(r)}static fromUint8Array(e){const r=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(e);return new er(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const Fr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(a){if(lt(!!a),"string"==typeof a){let e=0;const r=Fr.exec(a);if(lt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ar(a.seconds),nanos:Ar(a.nanos)}}function Ar(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ur(a){return"string"==typeof a?er.fromBase64String(a):er.fromUint8Array(a)}function Zr(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ho(a){const e=a.mapValue.fields.__previous_value__;return Zr(e)?ho(e):e}function Lr(a){const e=ai(a.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}class Sn{constructor(e,r,o,u,p,_,C,V,J){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=C,this.longPollingOptions=V,this.useFetchStreams=J}}class Xn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Xn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xn&&e.projectId===this.projectId&&e.database===this.database}}const mr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bi={nullValue:"NULL_VALUE"};function zi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zr(a)?4:fo(a)?9007199254740991:Fo(a)?10:11:xe()}function zr(a,e){if(a===e)return!0;const r=zi(a);if(r!==zi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Lr(a).isEqual(Lr(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=ai(u.timestampValue),C=ai(p.timestampValue);return _.seconds===C.seconds&&_.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return p=e,Ur(a.bytesValue).isEqual(Ur(p.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,p){return Ar(u.geoPointValue.latitude)===Ar(p.geoPointValue.latitude)&&Ar(u.geoPointValue.longitude)===Ar(p.geoPointValue.longitude)}(a,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Ar(u.integerValue)===Ar(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=Ar(u.doubleValue),C=Ar(p.doubleValue);return _===C?z(_)===z(C):isNaN(_)&&isNaN(C)}return!1}(a,e);case 9:return gn(a.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},C=p.mapValue.fields||{};if(me(_)!==me(C))return!1;for(const V in _)if(_.hasOwnProperty(V)&&(void 0===C[V]||!zr(_[V],C[V])))return!1;return!0}(a,e);default:return xe()}var p}function Io(a,e){return void 0!==(a.values||[]).find(r=>zr(r,e))}function Or(a,e){if(a===e)return 0;const r=zi(a),o=zi(e);if(r!==o)return Tt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tt(a.booleanValue,e.booleanValue);case 2:return function(p,_){const C=Ar(p.integerValue||p.doubleValue),V=Ar(_.integerValue||_.doubleValue);return C<V?-1:C>V?1:C===V?0:isNaN(C)?isNaN(V)?0:-1:1}(a,e);case 3:return ko(a.timestampValue,e.timestampValue);case 4:return ko(Lr(a),Lr(e));case 5:return Tt(a.stringValue,e.stringValue);case 6:return function(p,_){const C=Ur(p),V=Ur(_);return C.compareTo(V)}(a.bytesValue,e.bytesValue);case 7:return function(p,_){const C=p.split("/"),V=_.split("/");for(let J=0;J<C.length&&J<V.length;J++){const _e=Tt(C[J],V[J]);if(0!==_e)return _e}return Tt(C.length,V.length)}(a.referenceValue,e.referenceValue);case 8:return function(p,_){const C=Tt(Ar(p.latitude),Ar(_.latitude));return 0!==C?C:Tt(Ar(p.longitude),Ar(_.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return no(a.arrayValue,e.arrayValue);case 10:return function(p,_){var C,V,J,_e;const Ut=null===(C=(p.fields||{}).value)||void 0===C?void 0:C.arrayValue,on=null===(V=(_.fields||{}).value)||void 0===V?void 0:V.arrayValue,Tn=Tt((null===(J=Ut?.values)||void 0===J?void 0:J.length)||0,(null===(_e=on?.values)||void 0===_e?void 0:_e.length)||0);return 0!==Tn?Tn:no(Ut,on)}(a.mapValue,e.mapValue);case 11:return function(p,_){if(p===mr.mapValue&&_===mr.mapValue)return 0;if(p===mr.mapValue)return 1;if(_===mr.mapValue)return-1;const C=p.fields||{},V=Object.keys(C),J=_.fields||{},_e=Object.keys(J);V.sort(),_e.sort();for(let Ze=0;Ze<V.length&&Ze<_e.length;++Ze){const mt=Tt(V[Ze],_e[Ze]);if(0!==mt)return mt;const Ut=Or(C[V[Ze]],J[_e[Ze]]);if(0!==Ut)return Ut}return Tt(V.length,_e.length)}(a.mapValue,e.mapValue);default:throw xe()}}function ko(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Tt(a,e);const r=ai(a),o=ai(e),u=Tt(r.seconds,o.seconds);return 0!==u?u:Tt(r.nanos,o.nanos)}function no(a,e){const r=a.values||[],o=e.values||[];for(let u=0;u<r.length&&u<o.length;++u){const p=Or(r[u],o[u]);if(p)return p}return Tt(r.length,o.length)}function Qn(a){return ro(a)}function ro(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=ai(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ur(a.bytesValue).toBase64():"referenceValue"in a?Jt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const p of r.values||[])u?u=!1:o+=",",o+=ro(p);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const _ of o)p?p=!1:u+=",",u+=`${_}:${ro(r.fields[_])}`;return u+"}"}(a.mapValue):xe()}function Di(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function ii(a){return!!a&&"integerValue"in a}function bo(a){return!!a&&"arrayValue"in a}function Co(a){return!!a&&"nullValue"in a}function io(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function To(a){return!!a&&"mapValue"in a}function Fo(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function oo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return je(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=oo(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=oo(a.arrayValue.values[r]);return e}return Object.assign({},a)}function fo(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const Yi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function po(a){return"nullValue"in a?Bi:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Di(Xn.empty(),Jt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Fo(a)?Yi:{mapValue:{}}:xe()}function se(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Di(Xn.empty(),Jt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Yi:"mapValue"in a?Fo(a)?{mapValue:{}}:mr:xe()}function ie(a,e){const r=Or(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function nt(a,e){const r=Or(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class ct{constructor(e){this.value=e}static empty(){return new ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!To(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(r)}setAll(e){let r=On.emptyPath(),o={},u=[];e.forEach((_,C)=>{if(!r.isImmediateParentOf(C)){const V=this.getFieldsMap(r);this.applyChanges(V,o,u),o={},u=[],r=C.popLast()}_?o[C.lastSegment()]=oo(_):u.push(C.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,u)}delete(e){const r=this.field(e.popLast());To(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];To(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){je(r,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new ct(oo(this.value))}}function bt(a){const e=[];return je(a.fields,(r,o)=>{const u=new On([r]);if(To(o)){const p=bt(o.mapValue).fields;if(0===p.length)e.push(u);else for(const _ of p)e.push(u.child(_))}else e.push(u)}),new Xt(e)}class $t{constructor(e,r,o,u,p,_,C){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=p,this.data=_,this.documentState=C}static newInvalidDocument(e){return new $t(e,0,Ht.min(),Ht.min(),Ht.min(),ct.empty(),0)}static newFoundDocument(e,r,o,u){return new $t(e,1,r,Ht.min(),o,u,0)}static newNoDocument(e,r){return new $t(e,2,r,Ht.min(),Ht.min(),ct.empty(),0)}static newUnknownDocument(e,r){return new $t(e,3,r,Ht.min(),Ht.min(),ct.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fn{constructor(e,r){this.position=e,this.inclusive=r}}function Ln(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const p=e[u],_=a.position[u];if(o=p.field.isKeyField()?Jt.comparator(Jt.fromName(_.referenceValue),r.key):Or(_,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function bn(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!zr(a.position[r],e.position[r]))return!1;return!0}class _r{constructor(e,r="asc"){this.field=e,this.dir=r}}function or(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hr{}class Bn extends hr{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Lo(e,r,o):"array-contains"===r?new X(e,o):"in"===r?new I(e,o):"not-in"===r?new Y(e,o):"array-contains-any"===r?new ke(e,o):new Bn(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new qs(e,o):new ss(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Or(r,this.value)):null!==r&&zi(this.value)===zi(r)&&this.matchesComparison(Or(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends hr{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Gn(e,r)}matches(e){return ui(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ui(a){return"and"===a.op}function kr(a){return"or"===a.op}function gi(a){return Zi(a)&&ui(a)}function Zi(a){for(const e of a.filters)if(e instanceof Gn)return!1;return!0}function bi(a){if(a instanceof Bn)return a.field.canonicalString()+a.op.toString()+Qn(a.value);if(gi(a))return a.filters.map(e=>bi(e)).join(",");{const e=a.filters.map(r=>bi(r)).join(",");return`${a.op}(${e})`}}function Ci(a,e){return a instanceof Bn?(o=a,(u=e)instanceof Bn&&o.op===u.op&&o.field.isEqual(u.field)&&zr(o.value,u.value)):a instanceof Gn?function(o,u){return u instanceof Gn&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,_,C)=>p&&Ci(_,u.filters[C]),!0)}(a,e):void xe();var o,u}function mi(a,e){const r=a.filters.concat(e);return Gn.create(r,a.op)}function Ao(a){return a instanceof Bn?`${(r=a).field.canonicalString()} ${r.op} ${Qn(r.value)}`:a instanceof Gn?function(r){return r.op.toString()+" {"+r.getFilters().map(Ao).join(" ,")+"}"}(a):"Filter";var r}class Lo extends Bn{constructor(e,r,o){super(e,r,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const r=Jt.comparator(e.key,this.key);return this.matchesComparison(r)}}class qs extends Bn{constructor(e,r){super(e,"in",r),this.keys=v(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ss extends Bn{constructor(e,r){super(e,"not-in",r),this.keys=v(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function v(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class X extends Bn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bo(r)&&Io(r.arrayValue,this.value)}}class I extends Bn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Io(this.value.arrayValue,r)}}class Y extends Bn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Io(this.value.arrayValue,r)}}class ke extends Bn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Io(this.value.arrayValue,o))}}class nn{constructor(e,r=null,o=[],u=[],p=null,_=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=_,this.endAt=C,this.ue=null}}function Cn(a,e=null,r=[],o=[],u=null,p=null,_=null){return new nn(a,e,r,o,u,p,_)}function Yn(a){const e=he(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>bi(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),K(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Qn(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Qn(o)).join(",")),e.ue=r}return e.ue}function Nr(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!or(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Ci(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!bn(a.startAt,e.startAt)&&bn(a.endAt,e.endAt)}function Xr(a){return Jt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function xi(a,e){return a.filters.filter(r=>r instanceof Bn&&r.field.isEqual(e))}function jo(a,e,r){let o=Bi,u=!0;for(const p of xi(a,e)){let _=Bi,C=!0;switch(p.op){case"<":case"<=":_=po(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,C=!1;break;case"!=":case"not-in":_=Bi}ie({value:o,inclusive:u},{value:_,inclusive:C})<0&&(o=_,u=C)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const _=r.position[p];ie({value:o,inclusive:u},{value:_,inclusive:r.inclusive})<0&&(o=_,u=r.inclusive);break}return{value:o,inclusive:u}}function jr(a,e,r){let o=mr,u=!0;for(const p of xi(a,e)){let _=mr,C=!0;switch(p.op){case">=":case">":_=se(p.value),C=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,C=!1;break;case"!=":case"not-in":_=mr}nt({value:o,inclusive:u},{value:_,inclusive:C})>0&&(o=_,u=C)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const _=r.position[p];nt({value:o,inclusive:u},{value:_,inclusive:r.inclusive})>0&&(o=_,u=r.inclusive);break}return{value:o,inclusive:u}}class _i{constructor(e,r=null,o=[],u=[],p=null,_="F",C=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=_,this.startAt=C,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function W(a,e,r,o,u,p,_,C){return new _i(a,e,r,o,u,p,_,C)}function H(a){return new _i(a)}function U(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function we(a){return null!==a.collectionGroup}function Wt(a){const e=he(a);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(_){let C=new Ft(On.comparator);return _.filters.forEach(V=>{V.getFlattenedFilters().forEach(J=>{J.isInequality()&&(C=C.add(J.field))})}),C})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new _r(p,o))}),r.has(On.keyField().canonicalString())||e.ce.push(new _r(On.keyField(),o))}return e.ce}function Rn(a){const e=he(a);return e.le||(e.le=function Vo(a,e){if("F"===a.limitType)return Cn(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new _r(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new fn(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new fn(a.startAt.position,a.startAt.inclusive):null;return Cn(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,Wt(a))),e.le}function qo(a,e){const r=a.filters.concat([e]);return new _i(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Oi(a,e,r){return new _i(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Xi(a,e){return Nr(Rn(a),Rn(e))&&a.limitType===e.limitType}function Ri(a){return`${Yn(Rn(a))}|lt:${a.limitType}`}function so(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Ao(u)).join(", ")}]`),K(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Qn(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Qn(u)).join(",")),`Target(${o})`}(Rn(a))}; limitType=${a.limitType})`}function Zo(a,e){return e.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):Jt.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(a,e)&&function(o,u){for(const p of Wt(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(a,e)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(_,C,V){const J=Ln(_,C,V);return _.inclusive?J<=0:J<0}(o.startAt,Wt(o),u)||o.endAt&&!function(_,C,V){const J=Ln(_,C,V);return _.inclusive?J>=0:J>0}(o.endAt,Wt(o),u)));var o,u}function Ks(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Ia(a){return(e,r)=>{let o=!1;for(const u of Wt(a)){const p=Os(u,e,r);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Os(a,e,r){const o=a.field.isKeyField()?Jt.comparator(e.key,r.key):function(p,_,C){const V=_.data.field(p),J=C.data.field(p);return null!==V&&null!==J?Or(V,J):xe()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return xe()}}class Xo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){je(this.inner,(r,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return Ne(this.inner)}size(){return this.innerSize}}const Xu=new ut(Jt.comparator);function Qi(){return Xu}const Ns=new ut(Jt.comparator);function Cs(...a){let e=Ns;for(const r of a)e=e.insert(r.key,r);return e}function Ys(a){let e=Ns;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function as(){return ks()}function ba(){return ks()}function ks(){return new Xo(a=>a.toString(),(a,e)=>a.isEqual(e))}const vu=new ut(Jt.comparator),kl=new Ft(Jt.comparator);function Er(...a){let e=kl;for(const r of a)e=e.add(r);return e}const Fl=new Ft(Tt);function Zs(){return Fl}function Ta(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z(e)?"-0":e}}function sa(a){return{integerValue:""+a}}function Ll(a,e){return de(e)?sa(e):Ta(a,e)}class As{constructor(){this._=void 0}}function Eu(a,e,r){return a instanceof wa?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Zr(p)&&(p=ho(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(r,e):a instanceof So?Fs(a,e):a instanceof Ss?li(a,e):function(u,p){const _=$a(u,p),C=Qo(_)+Qo(u.Pe);return ii(_)&&ii(u.Pe)?sa(C):Ta(u.serializer,C)}(a,e)}function Qu(a,e,r){return a instanceof So?Fs(a,e):a instanceof Ss?li(a,e):r}function $a(a,e){return a instanceof Rs?ii(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class wa extends As{}class So extends As{constructor(e){super(),this.elements=e}}function Fs(a,e){const r=wo(e);for(const o of a.elements)r.some(u=>zr(u,o))||r.push(o);return{arrayValue:{values:r}}}class Ss extends As{constructor(e){super(),this.elements=e}}function li(a,e){let r=wo(e);for(const o of a.elements)r=r.filter(u=>!zr(u,o));return{arrayValue:{values:r}}}class Rs extends As{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Qo(a){return Ar(a.integerValue||a.doubleValue)}function wo(a){return bo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class us{constructor(e,r){this.field=e,this.transform=r}}class te{constructor(e,r){this.version=e,this.transformResults=r}}class L{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new L}static exists(e){return new L(void 0,e)}static updateTime(e){return new L(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ve(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class rt{}function jt(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Jo(a.key,L.none()):new Vr(a.key,a.data,L.none());{const r=a.data,o=ct.empty();let u=new Ft(On.comparator);for(let p of e.fields)if(!u.has(p)){let _=r.field(p);null===_&&p.length>1&&(p=p.popLast(),_=r.field(p)),null===_?o.delete(p):o.set(p,_),u=u.add(p)}return new Wn(a.key,o,new Xt(u.toArray()),L.none())}}function Qt(a,e,r){a instanceof Vr?function(u,p,_){const C=u.value.clone(),V=An(u.fieldTransforms,p,_.transformResults);C.setAll(V),p.convertToFoundDocument(_.version,C).setHasCommittedMutations()}(a,e,r):a instanceof Wn?function(u,p,_){if(!ve(u.precondition,p))return void p.convertToUnknownDocument(_.version);const C=An(u.fieldTransforms,p,_.transformResults),V=p.data;V.setAll(Pi(u)),V.setAll(C),p.convertToFoundDocument(_.version,V).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Vn(a,e,r,o){return a instanceof Vr?function(p,_,C,V){if(!ve(p.precondition,_))return C;const J=p.value.clone(),_e=Gi(p.fieldTransforms,V,_);return J.setAll(_e),_.convertToFoundDocument(_.version,J).setHasLocalMutations(),null}(a,e,r,o):a instanceof Wn?function(p,_,C,V){if(!ve(p.precondition,_))return C;const J=Gi(p.fieldTransforms,V,_),_e=_.data;return _e.setAll(Pi(p)),_e.setAll(J),_.convertToFoundDocument(_.version,_e).setHasLocalMutations(),null===C?null:C.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Ze=>Ze.field))}(a,e,r,o):(C=r,ve(a.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):C);var _,C}function oi(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),p=$a(o.transform,u||null);null!=p&&(null===r&&(r=ct.empty()),r.set(o.field,p))}return r||null}function si(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&gn(o,u,(p,_)=>function x(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof So&&u instanceof So||o instanceof Ss&&u instanceof Ss?gn(o.elements,u.elements,zr):o instanceof Rs&&u instanceof Rs?zr(o.Pe,u.Pe):o instanceof wa&&u instanceof wa);var o,u}(p,_))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class Vr extends rt{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Wn extends rt{constructor(e,r,o,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Pi(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function An(a,e,r){const o=new Map;lt(a.length===r.length);for(let u=0;u<r.length;u++){const p=a[u],_=p.transform,C=e.data.field(p.field);o.set(p.field,Qu(_,C,r[u]))}return o}function Gi(a,e,r){const o=new Map;for(const u of a){const p=u.transform,_=r.data.field(u.field);o.set(u.field,Eu(p,_,e))}return o}class Jo extends rt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class is extends rt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ui{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&Qt(p,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Vn(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Vn(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ba();return this.mutations.forEach(u=>{const p=e.get(u.key),_=p.overlayedDocument;let C=this.applyToLocalView(_,p.mutatedFields);C=r.has(u.key)?null:C;const V=jt(_,C);null!==V&&o.set(u.key,V),_.isValidDocument()||_.convertToNoDocument(Ht.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Er())}isEqual(e){return this.batchId===e.batchId&&gn(this.mutations,e.mutations,(r,o)=>si(r,o))&&gn(this.baseMutations,e.baseMutations,(r,o)=>si(r,o))}}class Ho{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){lt(e.mutations.length===o.length);let u=vu;const p=e.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,o[_].version);return new Ho(e,r,o,u)}}class Ko{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ls{constructor(e,r){this.count=e,this.unchangedNames=r}}var go,Kr;function Da(a){switch(a){default:return xe();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function aa(a){if(void 0===a)return ze("GRPC error has no .code"),Z.UNKNOWN;switch(a){case go.OK:return Z.OK;case go.CANCELLED:return Z.CANCELLED;case go.UNKNOWN:return Z.UNKNOWN;case go.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case go.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case go.INTERNAL:return Z.INTERNAL;case go.UNAVAILABLE:return Z.UNAVAILABLE;case go.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case go.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case go.NOT_FOUND:return Z.NOT_FOUND;case go.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case go.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case go.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case go.ABORTED:return Z.ABORTED;case go.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case go.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case go.DATA_LOSS:return Z.DATA_LOSS;default:return xe()}}(Kr=go||(go={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";function Qr(){return new TextEncoder}const fd=new qe([4294967295,4294967295],0);function Iu(a){const e=Qr().encode(a),r=new Qe;return r.update(e),new Uint8Array(r.digest())}function $i(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new qe([r,o],0),new qe([u,p],0)]}class Vs{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new ms(`Invalid padding: ${r}`);if(o<0)throw new ms(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ms(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new ms(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=qe.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply(qe.fromNumber(o)));return 1===u.compare(fd)&&(u=new qe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Iu(e),[o,u]=$i(r);for(let p=0;p<this.hashCount;p++){const _=this.Ee(o,u,p);if(!this.de(_))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new Vs(p,u,r);return o.forEach(C=>_.insert(C)),_}insert(e){if(0===this.Ie)return;const r=Iu(e),[o,u]=$i(r);for(let p=0;p<this.hashCount;p++){const _=this.Ee(o,u,p);this.Ae(_)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ms extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mo{constructor(e,r,o,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,Xs.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new mo(Ht.min(),u,new ut(Tt),Qi(),Er())}}class Xs{constructor(e,r,o,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Xs(o,r,Er(),Er(),Er())}}class ua{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class Bs{constructor(e,r){this.targetId=e,this.me=r}}class Ua{constructor(e,r,o=er.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class bu{constructor(){this.fe=0,this.ge=Qs(),this.pe=er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Er(),r=Er(),o=Er();return this.ge.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:xe()}}),new Xs(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Qs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ro{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qi(),this.qe=_s(),this.Qe=new ut(Tt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const p=u.target;if(Xr(p))if(0===o){const _=new Jt(p.path);this.Ue(r,_,$t.newNoDocument(_,Ht.min()))}else lt(1===o);else{const _=this.Ye(r);if(_!==o){const C=this.Ze(e),V=C?this.Xe(C,e,_):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=r;let _,C;try{_=Ur(o).toUint8Array()}catch(V){if(V instanceof Mn)return Xe("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{C=new Vs(_,u,p)}catch(V){return Xe(V instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===C.Ie?null:C}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(p=>{const _=this.Le.tt(),C=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,p,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((p,_)=>{const C=this.Je(_);if(C){if(p.current&&Xr(C.target)){const V=new Jt(C.target.path);null!==this.ke.get(V)||this.it(_,V)||this.Ue(_,V,$t.newNoDocument(V,e))}p.be&&(r.set(_,p.ve()),p.Ce())}});let o=Er();this.qe.forEach((p,_)=>{let C=!0;_.forEachWhile(V=>{const J=this.Je(V);return!J||"TargetPurposeLimboResolution"===J.purpose||(C=!1,!1)}),C&&(o=o.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(e));const u=new mo(e,r,this.Qe,this.ke,o);return this.ke=Qi(),this.qe=_s(),this.Qe=new ut(Tt),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new bu,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ft(Tt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||oe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bu),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function _s(){return new ut(Jt.comparator)}function Qs(){return new ut(Jt.comparator)}const Ps={asc:"ASCENDING",desc:"DESCENDING"},ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ja={and:"AND",or:"OR"};class Tu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ha(a,e){return a.useProto3Json||K(e)?e:{value:e}}function za(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wu(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Du(a,e){return za(a,e.toTimestamp())}function Wi(a){return lt(!!a),Ht.fromTimestamp(function(r){const o=ai(r);return new xt(o.seconds,o.nanos)}(a))}function la(a,e){return Ga(a,e).canonicalString()}function Ga(a,e){const r=(u=a,new cn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Cu(a){const e=cn.fromString(a);return lt(Ka(e)),e}function cs(a,e){return la(a.databaseId,e.path)}function ys(a,e){const r=Cu(e);if(r.get(1)!==a.databaseId.projectId)throw new M(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new M(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Jt(Wa(r))}function Ji(a,e){return la(a.databaseId,e)}function Ca(a){const e=Cu(a);return 4===e.length?cn.emptyPath():Wa(e)}function Aa(a){return new cn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Wa(a){return lt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function qa(a,e,r){return{name:cs(a,e),fields:r.value.mapValue.fields}}function vc(a,e,r){const o=ys(a,e.name),u=Wi(e.updateTime),p=e.createTime?Wi(e.createTime):Ht.min(),_=new ct({mapValue:{fields:e.fields}}),C=$t.newFoundDocument(o,u,p,_);return r&&C.setHasCommittedMutations(),r?C.setHasCommittedMutations():C}function Ni(a,e){let r;if(e instanceof Vr)r={update:qa(a,e.key,e.value)};else if(e instanceof Jo)r={delete:cs(a,e.key)};else if(e instanceof Wn)r={update:qa(a,e.key,e.data),updateMask:ca(e.fieldMask)};else{if(!(e instanceof is))return xe();r={verify:cs(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,_){const C=_.transform;if(C instanceof wa)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof So)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ss)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Rs)return{fieldPath:_.field.canonicalString(),increment:C.Pe};throw xe()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Du(a,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:xe()),r;var p}function T(a,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?L.updateTime(Wi(p.updateTime)):void 0!==p.exists?L.exists(p.exists):L.none():L.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(_,C){let V=null;"setToServerValue"in C?(lt("REQUEST_TIME"===C.setToServerValue),V=new wa):"appendMissingElements"in C?V=new So(C.appendMissingElements.values||[]):"removeAllFromArray"in C?V=new Ss(C.removeAllFromArray.values||[]):"increment"in C?V=new Rs(_,C.increment):xe();const J=On.fromServerFormat(C.fieldPath);return new us(J,V)}(a,u)):[];var p;if(e.update){const u=ys(a,e.update.name),p=new ct({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Xt((e.updateMask.fieldPaths||[]).map(_e=>On.fromServerFormat(_e)));return new Wn(u,p,_,r,o)}return new Vr(u,p,r,o)}if(e.delete){const u=ys(a,e.delete);return new Jo(u,r)}if(e.verify){const u=ys(a,e.verify);return new is(u,r)}return xe()}function E(a,e){return{documents:[Ji(a,e.path)]}}function N(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Ji(a,u);const p=function(J){if(0!==J.length)return Sa(Gn.create(J,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const _=function(J){if(0!==J.length)return J.map(_e=>{return{field:Hr((mt=_e).field),direction:mn(mt.dir)};var mt})}(e.orderBy);_&&(r.structuredQuery.orderBy=_);const C=Ha(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:(J=e.startAt).inclusive,values:J.position}),e.endAt&&(r.structuredQuery.endAt=function(J){return{before:!J.inclusive,values:J.position}}(e.endAt)),{_t:r,parent:u};var J}function Re(a){let e=Ca(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){lt(1===o);const _e=r.from[0];_e.allDescendants?u=_e.collectionId:e=e.child(_e.collectionId)}let p=[];r.where&&(p=function(Ze){const mt=At(Ze);return mt instanceof Gn&&gi(mt)?mt.getFilters():[mt]}(r.where));let _=[];r.orderBy&&(_=r.orderBy.map(mt=>{return new _r(_o((on=mt).field),function(_n){switch(_n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(on.direction));var on}));let C=null;r.limit&&(C=function(Ze){let mt;return mt="object"==typeof Ze?Ze.value:Ze,K(mt)?null:mt}(r.limit));let V=null;var Ze;r.startAt&&(V=new fn((Ze=r.startAt).values||[],!!Ze.before));let J=null;return r.endAt&&(J=function(Ze){return new fn(Ze.values||[],!Ze.before)}(r.endAt)),W(e,u,_,p,C,"F",V,J)}function At(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=_o(r.unaryFilter.field);return Bn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=_o(r.unaryFilter.field);return Bn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=_o(r.unaryFilter.field);return Bn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=_o(r.unaryFilter.field);return Bn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(a):void 0!==a.fieldFilter?Bn.create(_o((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Gn.create(r.compositeFilter.filters.map(o=>At(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return xe()}}(r.compositeFilter.op))}(a):xe();var r}function mn(a){return Ps[a]}function zn(a){return ls[a]}function Jn(a){return ja[a]}function Hr(a){return{fieldPath:a.canonicalString()}}function _o(a){return On.fromServerFormat(a.fieldPath)}function Sa(a){return a instanceof Bn?function(r){if("=="===r.op){if(io(r.value))return{unaryFilter:{field:Hr(r.field),op:"IS_NAN"}};if(Co(r.value))return{unaryFilter:{field:Hr(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(io(r.value))return{unaryFilter:{field:Hr(r.field),op:"IS_NOT_NAN"}};if(Co(r.value))return{unaryFilter:{field:Hr(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(r.field),op:zn(r.op),value:r.value}}}(a):a instanceof Gn?function(r){const o=r.getFilters().map(u=>Sa(u));return 1===o.length?o[0]:{compositeFilter:{op:Jn(r.op),filters:o}}}(a):xe()}function ca(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ka(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Po{constructor(e,r,o,u,p=Ht.min(),_=Ht.min(),C=er.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=C,this.expectedCount=V}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ea{constructor(e){this.ct=e}}function oh(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:$s(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:cs(p=a.ct,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:za(p,_.version.toTimestamp()),createTime:za(p,_.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:Ya(e.version)};else{if(!e.isUnknownDocument())return xe();o.unknownDocument={path:r.path.toArray(),version:Ya(e.version)}}var p,_;return o}function $s(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function Ya(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Za(a){const e=new xt(a.seconds,a.nanoseconds);return Ht.fromTimestamp(e)}function Xa(a,e){const r=(e.baseMutations||[]).map(p=>T(a.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>T(a.ct,p)),u=xt.fromMillis(e.localWriteTimeMs);return new Ui(e.batchId,u,r,o)}function Au(a){const e=Za(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Za(a.lastLimboFreeSnapshotVersion):Ht.min();let o;return o=void 0!==a.query.documents?(lt(1===(p=a.query).documents.length),Rn(H(Ca(p.documents[0])))):function(p){return Rn(Re(p))}(a.query),new Po(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,er.fromBase64String(a.resumeToken));var p}function sh(a,e){const r=Ya(e.snapshotVersion),o=Ya(e.lastLimboFreeSnapshotVersion);let u;u=Xr(e.target)?E(a.ct,e.target):N(a.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yn(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Vl(a){const e=Re({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Oi(e,e.limit,"L"):e}function Su(a,e){return new Ko(e.largestBatchId,T(a.ct,e.overlayMutation))}function Ec(a,e){const r=e.path.lastSegment();return[a,ft(e.path.popLast()),r]}function Ru(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:Ya(o.readTime),documentKey:ft(o.documentKey.path),largestBatchId:o.largestBatchId}}class Bl{getBundleMetadata(e,r){return Ju(e).get(r).next(o=>{if(o)return{id:(p=o).bundleId,createTime:Za(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Ju(e).put({bundleId:(u=r).id,createTime:Ya(Wi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ah(e).get(r).next(o=>{if(o)return{name:(p=o).name,query:Vl(p.bundledQuery),readTime:Za(p.readTime)};var p})}saveNamedQuery(e,r){return ah(e).put({name:(u=r).name,readTime:Ya(Wi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ju(a){return ri(a,"bundles")}function ah(a){return ri(a,"namedQueries")}class Qa{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Qa(e,r.uid||"")}getOverlay(e,r){return el(e).get(Ec(this.userId,r)).next(o=>o?Su(this.serializer,o):null)}getOverlays(e,r){const o=as();return wt.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((p,_)=>{const C=new Ko(r,_);u.push(this.ht(e,C))}),wt.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(_=>u.add(ft(_.getCollectionPath())));const p=[];return u.forEach(_=>{const C=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);p.push(el(e).j("collectionPathOverlayIndex",C))}),wt.waitFor(p)}getOverlaysForCollection(e,r,o){const u=as(),p=ft(r),_=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return el(e).U("collectionPathOverlayIndex",_).next(C=>{for(const V of C){const J=Su(this.serializer,V);u.set(J.getKey(),J)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const p=as();let _;const C=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return el(e).J({index:"collectionGroupOverlayIndex",range:C},(V,J,_e)=>{const Ze=Su(this.serializer,J);p.size()<u||Ze.largestBatchId===_?(p.set(Ze.getKey(),Ze),_=Ze.largestBatchId):_e.done()}).next(()=>p)}ht(e,r){return el(e).put(function(u,p,_){const[C,V,J]=Ec(p,_.mutation.key);return{userId:p,collectionPath:V,documentId:J,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:Ni(u.ct,_.mutation)}}(this.serializer,this.userId,r))}}function el(a){return ri(a,"documentOverlays")}class ta{Pt(e){return ri(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?er.fromUint8Array(o):er.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class eo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Ar(e.integerValue));else if("doubleValue"in e){const o=Ar(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),z(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=ai(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ur(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?fo(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Fo(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):xe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const u of Object.keys(o))this.Vt(u,r),this.Tt(o[u],r)}wt(e,r){var o,u;const p=e.fields||{};this.dt(r,53);const _="value",C=(null===(u=null===(o=p[_].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(Ar(C)),this.Vt(_,r),this.Tt(p[_],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const u of o)this.Tt(u,r)}yt(e,r){this.dt(r,37),Jt.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Ic(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Ja(a){const e=64-function(o){let u=0;for(let p=0;p<8;++p){const _=Ic(255&o[p]);if(u+=_,8!==_)break}return u}(a);return Math.ceil(e/8)}eo.vt=new eo;class tl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(e){const r=this.qt(e),o=Ja(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(e){const r=this.qt(e),o=Ja(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Pu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class nl{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class da{constructor(){this.jt=new tl,this.Ht=new Pu(this.jt),this.Jt=new nl(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ha{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ha(this.indexId,this.documentKey,this.arrayValue,o)}}function fa(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=pa(a.arrayValue,e.arrayValue),0!==r?r:(r=pa(a.directionalValue,e.directionalValue),0!==r?r:Jt.comparator(a.documentKey,e.documentKey)))}function pa(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class Us{constructor(e){this.Xt=new Ft((r,o)=>On.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(lt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=wn(e);if(void 0!==r&&!this.sn(r))return!1;const o=En(e);let u=new Set,p=0,_=0;for(;p<o.length&&this.sn(o[p]);++p)u=u.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Xt.size>0){const C=this.Xt.getIterator().getNext();if(!u.has(C.field.canonicalString())){const V=o[p];if(!this.on(C,V)||!this._n(this.en[_++],V))return!1}++p}for(;p<o.length;++p)if(_>=this.en.length||!this._n(this.en[_++],o[p]))return!1;return!0}an(){if(this.nn)return null;let e=new Ft(On.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new Nn(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new Nn(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new Nn(o.field,"asc"===o.dir?0:1)));return new un(un.UNKNOWN_ID,this.collectionId,r,Dn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function rl(a){var e,r;if(lt(a instanceof Bn||a instanceof Gn),a instanceof Bn){if(a instanceof I){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>Bn.create(a.field,"==",p)))||[];return Gn.create(u,"or")}return a}const o=a.filters.map(u=>rl(u));return Gn.create(o,a.op)}function bc(a){if(0===a.getFilters().length)return[];const e=Mu(rl(a));return lt(il(e)),eu(e)||vs(e)?[e]:e.getFilters()}function eu(a){return a instanceof Bn}function vs(a){return a instanceof Gn&&gi(a)}function il(a){return eu(a)||vs(a)||function(r){if(r instanceof Gn&&kr(r)){for(const o of r.getFilters())if(!eu(o)&&!vs(o))return!1;return!0}return!1}(a)}function Mu(a){if(lt(a instanceof Bn||a instanceof Gn),a instanceof Bn)return a;if(1===a.filters.length)return Mu(a.filters[0]);const e=a.filters.map(o=>Mu(o));let r=Gn.create(e,a.op);return r=xu(r),il(r)?r:(lt(r instanceof Gn),lt(ui(r)),lt(r.filters.length>1),r.filters.reduce((o,u)=>$l(o,u)))}function $l(a,e){let r;return lt(a instanceof Bn||a instanceof Gn),lt(e instanceof Bn||e instanceof Gn),r=a instanceof Bn?e instanceof Bn?Gn.create([a,e],"and"):js(a,e):e instanceof Bn?js(e,a):function(u,p){if(lt(u.filters.length>0&&p.filters.length>0),ui(u)&&ui(p))return mi(u,p.getFilters());const _=kr(u)?u:p,C=kr(u)?p:u,V=_.filters.map(J=>$l(J,C));return Gn.create(V,"or")}(a,e),xu(r)}function js(a,e){if(ui(e))return mi(e,a.getFilters());{const r=e.filters.map(o=>$l(a,o));return Gn.create(r,"or")}}function xu(a){if(lt(a instanceof Bn||a instanceof Gn),a instanceof Bn)return a;const e=a.getFilters();if(1===e.length)return xu(e[0]);if(Zi(a))return a;const r=e.map(u=>xu(u)),o=[];return r.forEach(u=>{u instanceof Bn?o.push(u):u instanceof Gn&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:Gn.create(o,a.op)}class Ul{constructor(){this.un=new Do}addToCollectionParentIndex(e,r){return this.un.add(r),wt.resolve()}getCollectionParents(e,r){return wt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return wt.resolve()}deleteFieldIndex(e,r){return wt.resolve()}deleteAllFieldIndexes(e){return wt.resolve()}createTargetIndexes(e,r){return wt.resolve()}getDocumentsMatchingTarget(e,r){return wt.resolve(null)}getIndexType(e,r){return wt.resolve(0)}getFieldIndexes(e,r){return wt.resolve([])}getNextCollectionGroupToUpdate(e){return wt.resolve(null)}getMinOffset(e,r){return wt.resolve(In.min())}getMinOffsetFromCollectionGroup(e,r){return wt.resolve(In.min())}updateCollectionGroup(e,r,o){return wt.resolve()}updateIndexEntries(e,r){return wt.resolve()}}class Do{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new Ft(cn.comparator),p=!u.has(o);return this.index[r]=u.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Ft(cn.comparator)).toArray()}}const Ou=new Uint8Array(0);class Nu{constructor(e,r){this.databaseId=r,this.cn=new Do,this.ln=new Xo(o=>Yn(o),(o,u)=>Nr(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const p={collectionId:o,parent:ft(u)};return jl(e).put(p)}return wt.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[yn(r),""],!1,!0);return jl(e).U(u).next(p=>{for(const _ of p){if(_.collectionId!==r)break;o.push(Gt(_.parent))}return o})}addFieldIndex(e,r){const o=Hs(e),u={indexId:(C=r).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var C;delete u.indexId;const p=o.add(u);if(r.indexState){const _=Es(e);return p.next(C=>{_.put(Ru(C,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=Hs(e),u=Es(e),p=Yo(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Hs(e),o=Yo(e),u=Es(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return wt.forEach(this.hn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const p=new Us(o).an();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const o=Yo(e);let u=!0;const p=new Map;return wt.forEach(this.hn(r),_=>this.Pn(e,_).next(C=>{u&&(u=!!C),p.set(_,C)})).next(()=>{if(u){let _=Er();const C=[];return wt.forEach(p,(V,J)=>{var ar;oe("IndexedDbIndexManager",`Using index ${ar=V,`id=${ar.indexId}|cg=${ar.collectionGroup}|f=${ar.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${Yn(r)}`);const _e=function(ar,xr){const Fi=wn(xr);if(void 0===Fi)return null;for(const ei of xi(ar,Fi.fieldPath))switch(ei.op){case"array-contains-any":return ei.value.arrayValue.values||[];case"array-contains":return[ei.value]}return null}(J,V),Ze=function(ar,xr){const Fi=new Map;for(const ei of En(xr))for(const Rt of xi(ar,ei.fieldPath))switch(Rt.op){case"==":case"in":Fi.set(ei.fieldPath.canonicalString(),Rt.value);break;case"not-in":case"!=":return Fi.set(ei.fieldPath.canonicalString(),Rt.value),Array.from(Fi.values())}return null}(J,V),mt=function(ar,xr){const Fi=[];let ei=!0;for(const Rt of En(xr)){const pt=0===Rt.kind?jo(ar,Rt.fieldPath,ar.startAt):jr(ar,Rt.fieldPath,ar.startAt);Fi.push(pt.value),ei&&(ei=pt.inclusive)}return new fn(Fi,ei)}(J,V),Ut=function(ar,xr){const Fi=[];let ei=!0;for(const Rt of En(xr)){const pt=0===Rt.kind?jr(ar,Rt.fieldPath,ar.endAt):jo(ar,Rt.fieldPath,ar.endAt);Fi.push(pt.value),ei&&(ei=pt.inclusive)}return new fn(Fi,ei)}(J,V),on=this.In(V,J,mt),Tn=this.In(V,J,Ut),_n=this.Tn(V,J,Ze),tr=this.En(V.indexId,_e,on,mt.inclusive,Tn,Ut.inclusive,_n);return wt.forEach(tr,ur=>o.G(ur,r.limit).next(ar=>{ar.forEach(xr=>{const Fi=Jt.fromSegments(xr.documentKey);_.has(Fi)||(_=_.add(Fi),C.push(Fi))})}))}).next(()=>C)}return wt.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:bc(Gn.create(e.filters,"and")).map(o=>Cn(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,u,p,_,C){const V=(null!=r?r.length:1)*Math.max(o.length,p.length),J=V/(null!=r?r.length:1),_e=[];for(let Ze=0;Ze<V;++Ze){const mt=r?this.dn(r[Ze/J]):Ou,Ut=this.An(e,mt,o[Ze%J],u),on=this.Rn(e,mt,p[Ze%J],_),Tn=C.map(_n=>this.An(e,mt,_n,!0));_e.push(...this.createRange(Ut,on,Tn))}return _e}An(e,r,o,u){const p=new ha(e,Jt.empty(),r,o);return u?p:p.Zt()}Rn(e,r,o,u){const p=new ha(e,Jt.empty(),r,o);return u?p.Zt():p}Pn(e,r){const o=new Us(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let _=null;for(const C of p)o.rn(C)&&(!_||C.fields.length>_.fields.length)&&(_=C);return _})}getIndexType(e,r){let o=2;const u=this.hn(r);return wt.forEach(u,p=>this.Pn(e,p).next(_=>{_?0!==o&&_.fields.length<function(V){let J=new Ft(On.comparator),_e=!1;for(const Ze of V.filters)for(const mt of Ze.getFlattenedFilters())mt.field.isKeyField()||("array-contains"===mt.op||"array-contains-any"===mt.op?_e=!0:J=J.add(mt.field));for(const Ze of V.orderBy)Ze.field.isKeyField()||(J=J.add(Ze.field));return J.size+(_e?1:0)}(p)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}Vn(e,r){const o=new da;for(const u of En(e)){const p=r.data.field(u.fieldPath);if(null==p)return null;const _=o.Yt(u.kind);eo.vt.It(p,_)}return o.zt()}dn(e){const r=new da;return eo.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new da;return eo.vt.It(Di(this.databaseId,r),o.Yt(function(p){const _=En(p);return 0===_.length?0:_[_.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let u=[];u.push(new da);let p=0;for(const _ of En(e)){const C=o[p++];for(const V of u)if(this.fn(r,_.fieldPath)&&bo(C))u=this.gn(u,_,C);else{const J=V.Yt(_.kind);eo.vt.It(C,J)}}return this.pn(u)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const u=[...e],p=[];for(const _ of o.arrayValue.values||[])for(const C of u){const V=new da;V.seed(C.zt()),eo.vt.It(_,V.Yt(r.kind)),p.push(V)}return p}fn(e,r){return!!e.filters.find(o=>o instanceof Bn&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Hs(e),u=Es(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(p=>{const _=[];return wt.forEach(p,C=>u.get([C.indexId,this.uid]).next(V=>{_.push(function(_e,Ze){const mt=Ze?new Dn(Ze.sequenceNumber,new In(Za(Ze.readTime),new Jt(Gt(Ze.documentKey)),Ze.largestBatchId)):Dn.empty(),Ut=_e.fields.map(([on,Tn])=>new Nn(On.fromServerFormat(on),Tn));return new un(_e.indexId,_e.collectionGroup,Ut,mt)}(C,V))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Tt(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Hs(e),p=Es(e);return this.yn(e).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(C=>wt.forEach(C,V=>p.put(Ru(V.indexId,this.uid,_,o)))))}updateIndexEntries(e,r){const o=new Map;return wt.forEach(r,(u,p)=>{const _=o.get(u.collectionGroup);return(_?wt.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),wt.forEach(C,V=>this.wn(e,u,V).next(J=>{const _e=this.Sn(p,V);return J.isEqual(_e)?wt.resolve():this.bn(e,p,V,J,_e)}))))})}Dn(e,r,o,u){return Yo(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,u){return Yo(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const u=Yo(e);let p=new Ft(fa);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(_,C)=>{p=p.add(new ha(o.indexId,r,C.arrayValue,C.directionalValue))}).next(()=>p)}Sn(e,r){let o=new Ft(fa);const u=this.Vn(r,e);if(null==u)return o;const p=wn(r);if(null!=p){const _=e.data.field(p.fieldPath);if(bo(_))for(const C of _.arrayValue.values||[])o=o.add(new ha(r.indexId,e.key,this.dn(C),u))}else o=o.add(new ha(r.indexId,e.key,Ou,u));return o}bn(e,r,o,u,p){oe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const _=[];return function(V,J,_e,Ze,mt){const Ut=V.getIterator(),on=J.getIterator();let Tn=tn(Ut),_n=tn(on);for(;Tn||_n;){let tr=!1,ur=!1;if(Tn&&_n){const ar=_e(Tn,_n);ar<0?ur=!0:ar>0&&(tr=!0)}else null!=Tn?ur=!0:tr=!0;tr?(Ze(_n),_n=tn(on)):ur?(mt(Tn),Tn=tn(Ut)):(Tn=tn(Ut),_n=tn(on))}}(u,p,fa,C=>{_.push(this.Dn(e,r,o,C))},C=>{_.push(this.vn(e,r,o,C))}),wt.waitFor(_)}yn(e){let r=1;return Es(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((_,C)=>fa(_,C)).filter((_,C,V)=>!C||0!==fa(_,V[C-1]));const u=[];u.push(e);for(const _ of o){const C=fa(_,e),V=fa(_,r);if(0===C)u[0]=e.Zt();else if(C>0&&V<0)u.push(_),u.push(_.Zt());else if(V>0)break}u.push(r);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Ou,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Ou,[]]))}return p}Cn(e,r){return fa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(tu)}getMinOffset(e,r){return wt.mapArray(this.hn(r),o=>this.Pn(e,o).next(u=>u||xe())).next(tu)}}function jl(a){return ri(a,"collectionParents")}function Yo(a){return ri(a,"indexEntries")}function Hs(a){return ri(a,"indexConfiguration")}function Es(a){return ri(a,"indexState")}function tu(a){lt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;sr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new In(e.readTime,e.documentKey,r)}const Ra={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pd(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),p=[],_=IDBKeyRange.only(r.batchId);let C=0;const V=o.J({range:_},(_e,Ze,mt)=>(C++,mt.delete()));p.push(V.next(()=>{lt(1===C)}));const J=[];for(const _e of r.mutations){const Ze=ir(e,_e.key.path,r.batchId);p.push(u.delete(Ze)),J.push(_e.key)}return wt.waitFor(p).next(()=>J)}function ol(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw xe();e=a.noDocument}return JSON.stringify(e).length}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class Hl{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Fn={}}static lt(e,r,o,u){lt(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Hl(p,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).J({index:"userMutationsIndex",range:o},(u,p,_)=>{r=!1,_.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const p=ru(e),_=nu(e);return _.add({}).next(C=>{lt("number"==typeof C);const V=new Ui(C,r,o,u),J=function(Ut,on,Tn){const _n=Tn.baseMutations.map(ur=>Ni(Ut.ct,ur)),tr=Tn.mutations.map(ur=>Ni(Ut.ct,ur));return{userId:on,batchId:Tn.batchId,localWriteTimeMs:Tn.localWriteTime.toMillis(),baseMutations:_n,mutations:tr}}(this.serializer,this.userId,V),_e=[];let Ze=new Ft((mt,Ut)=>Tt(mt.canonicalString(),Ut.canonicalString()));for(const mt of u){const Ut=ir(this.userId,mt.key.path,C);Ze=Ze.add(mt.key.path.popLast()),_e.push(_.put(J)),_e.push(p.put(Ut,fr))}return Ze.forEach(mt=>{_e.push(this.indexManager.addToCollectionParentIndex(e,mt))}),e.addOnCommittedListener(()=>{this.Fn[C]=V.keys()}),wt.waitFor(_e).next(()=>V)})}lookupMutationBatch(e,r){return nu(e).get(r).next(o=>o?(lt(o.userId===this.userId),Xa(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?wt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return nu(e).J({index:"userMutationsIndex",range:u},(_,C,V)=>{C.userId===this.userId&&(lt(C.batchId>=o),p=Xa(this.serializer,C)),V.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return nu(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,p,_)=>{o=p.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).U("userMutationsIndex",r).next(o=>o.map(u=>Xa(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=en(this.userId,r.path),u=IDBKeyRange.lowerBound(o),p=[];return ru(e).J({range:u},(_,C,V)=>{const[J,_e,Ze]=_,mt=Gt(_e);if(J===this.userId&&r.path.isEqual(mt))return nu(e).get(Ze).next(Ut=>{if(!Ut)throw xe();lt(Ut.userId===this.userId),p.push(Xa(this.serializer,Ut))});V.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ft(Tt);const u=[];return r.forEach(p=>{const _=en(this.userId,p.path),C=IDBKeyRange.lowerBound(_),V=ru(e).J({range:C},(J,_e,Ze)=>{const[mt,Ut,on]=J,Tn=Gt(Ut);mt===this.userId&&p.path.isEqual(Tn)?o=o.add(on):Ze.done()});u.push(V)}),wt.waitFor(u).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,p=en(this.userId,o),_=IDBKeyRange.lowerBound(p);let C=new Ft(Tt);return ru(e).J({range:_},(V,J,_e)=>{const[Ze,mt,Ut]=V,on=Gt(mt);Ze===this.userId&&o.isPrefixOf(on)?on.length===u&&(C=C.add(Ut)):_e.done()}).next(()=>this.xn(e,C))}xn(e,r){const o=[],u=[];return r.forEach(p=>{u.push(nu(e).get(p).next(_=>{if(null===_)throw xe();lt(_.userId===this.userId),o.push(Xa(this.serializer,_))}))}),wt.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return pd(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),wt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return wt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return ru(e).J({range:o},(p,_,C)=>{if(p[0]===this.userId){const V=Gt(p[1]);u.push(V)}else C.done()}).next(()=>{lt(0===u.length)})})}containsKey(e,r){return zl(e,this.userId,r)}Nn(e){return Tc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zl(a,e,r){const o=en(e,r.path),u=o[1],p=IDBKeyRange.lowerBound(o);let _=!1;return ru(a).J({range:p,H:!0},(C,V,J)=>{const[_e,Ze,mt]=C;_e===e&&Ze===u&&(_=!0),J.done()}).next(()=>_)}function nu(a){return ri(a,"mutations")}function ru(a){return ri(a,"documentMutations")}function Tc(a){return ri(a,"mutationQueues")}class Pa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pa(0)}static kn(){return new Pa(-1)}}class ku{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new Pa(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ht.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(e,u)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ga(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(lt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let u=0;const p=[];return ga(e).J((_,C)=>{const V=Au(C);V.sequenceNumber<=r&&null===o.get(V.targetId)&&(u++,p.push(this.removeTargetData(e,V)))}).next(()=>wt.waitFor(p)).next(()=>u)}forEachTarget(e,r){return ga(e).J((o,u)=>{const p=Au(u);r(p)})}qn(e){return uh(e).get("targetGlobalKey").next(r=>(lt(null!==r),r))}Qn(e,r){return uh(e).put("targetGlobalKey",r)}Kn(e,r){return ga(e).put(sh(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Yn(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return ga(e).J({range:u,index:"queryTargetsIndex"},(_,C,V)=>{const J=Au(C);Nr(r,J.target)&&(p=J,V.done())}).next(()=>p)}addMatchingKeys(e,r,o){const u=[],p=ki(e);return r.forEach(_=>{const C=ft(_.path);u.push(p.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,_))}),wt.waitFor(u)}removeMatchingKeys(e,r,o){const u=ki(e);return wt.forEach(r,p=>{const _=ft(p.path);return wt.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=ki(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=ki(e);let p=Er();return u.J({range:o,H:!0},(_,C,V)=>{const J=Gt(_[1]),_e=new Jt(J);p=p.add(_e)}).next(()=>p)}containsKey(e,r){const o=ft(r.path),u=IDBKeyRange.bound([o],[yn(o)],!1,!0);let p=0;return ki(e).J({index:"documentTargetsIndex",H:!0,range:u},([_,C],V,J)=>{0!==_&&(p++,J.done())}).next(()=>p>0)}ot(e,r){return ga(e).get(r).next(o=>o?Au(o):null)}}function ga(a){return ri(a,"targets")}function uh(a){return ri(a,"targetGlobal")}function ki(a){return ri(a,"targetDocuments")}function Gl([a,e],[r,o]){const u=Tt(a,r);return 0===u?Tt(e,o):u}class Fu{constructor(e){this.Un=e,this.buffer=new Ft(Gl),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Gl(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Wl{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){vr(o)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Dr(o)}yield r.Hn(3e5)}))}}class ds{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return wt.resolve($.oe);const o=new Fu(r);return this.Jn.forEachTarget(e,u=>o.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(e,u=>o.zn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),wt.resolve(Ra)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ra):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,u,p,_,C,V,J;const _e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),u=this.params.maximumSequenceNumbersToCollect):u=Ze,_=Date.now(),this.nthSequenceNumber(e,u))).next(Ze=>(o=Ze,C=Date.now(),this.removeTargets(e,o,r))).next(Ze=>(p=Ze,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ze=>(J=Date.now(),Ye()<=ue.in.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-_e}ms\n\tDetermined least recently used ${u} in `+(C-_)+`ms\n\tRemoved ${p} targets in `+(V-C)+`ms\n\tRemoved ${Ze} documents in `+(J-V)+`ms\nTotal Duration: ${J-_e}ms`),wt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Ze})))}}class wc{constructor(e,r){this.db=e,this.garbageCollector=function Ma(a,e){return new ds(a,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,u)=>r(u))}addReference(e,r,o){return ma(e,o)}removeReference(e,r,o){return ma(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return ma(e,r)}nr(e,r){return function(u,p){let _=!1;return Tc(u).Y(C=>zl(u,C,p).next(V=>(V&&(_=!0),wt.resolve(!V)))).next(()=>_)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(e,(_,C)=>{if(C<=r){const V=this.nr(e,_).next(J=>{if(!J)return p++,o.getEntry(e,_).next(()=>(o.removeEntry(_,Ht.min()),ki(e).delete([0,ft(_.path)])))});u.push(V)}}).next(()=>wt.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return ma(e,r)}tr(e,r){const o=ki(e);let u,p=$.oe;return o.J({index:"documentTargetsIndex"},([_,C],{path:V,sequenceNumber:J})=>{0===_?(p!==$.oe&&r(new Jt(Gt(u)),p),p=J,u=V):p=$.oe}).next(()=>{p!==$.oe&&r(new Jt(Gt(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ma(a,e){return ki(a).put((u=a.currentSequenceNumber,{targetId:0,path:ft(e.path),sequenceNumber:u}));var u}class Lu{constructor(){this.changes=new Xo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?wt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ql{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Mo(e).put(o)}removeEntry(e,r,o){return Mo(e).delete(function(p,_){const C=p.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],$s(_),C[C.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=$t.newInvalidDocument(r);return Mo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zs(r))},(u,p)=>{o=this.ir(r,p)}).next(()=>o)}sr(e,r){let o={size:0,document:$t.newInvalidDocument(r)};return Mo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zs(r))},(u,p)=>{o={document:this.ir(r,p),size:ol(p)}}).next(()=>o)}getEntries(e,r){let o=Qi();return this._r(e,r,(u,p)=>{const _=this.ir(u,p);o=o.insert(u,_)}).next(()=>o)}ar(e,r){let o=Qi(),u=new ut(Jt.comparator);return this._r(e,r,(p,_)=>{const C=this.ir(p,_);o=o.insert(p,C),u=u.insert(p,ol(_))}).next(()=>({documents:o,ur:u}))}_r(e,r,o){if(r.isEmpty())return wt.resolve();let u=new Ft(Ac);r.forEach(V=>u=u.add(V));const p=IDBKeyRange.bound(zs(u.first()),zs(u.last())),_=u.getIterator();let C=_.getNext();return Mo(e).J({index:"documentKeyIndex",range:p},(V,J,_e)=>{const Ze=Jt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;C&&Ac(C,Ze)<0;)o(C,null),C=_.getNext();C&&C.isEqual(Ze)&&(o(C,J),C=_.hasNext()?_.getNext():null),C?_e.$(zs(C)):_e.done()}).next(()=>{for(;C;)o(C,null),C=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,p){const _=r.path,C=[_.popLast().toArray(),_.lastSegment(),$s(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],V=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mo(e).U(IDBKeyRange.bound(C,V,!0)).next(J=>{p?.incrementDocumentReadCount(J.length);let _e=Qi();for(const Ze of J){const mt=this.ir(Jt.fromSegments(Ze.prefixPath.concat(Ze.collectionGroup,Ze.documentId)),Ze);mt.isFoundDocument()&&(Zo(r,mt)||u.has(mt.key))&&(_e=_e.insert(mt.key,mt))}return _e})}getAllFromCollectionGroup(e,r,o,u){let p=Qi();const _=iu(r,o),C=iu(r,In.max());return Mo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,C,!0)},(V,J,_e)=>{const Ze=this.ir(Jt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);p=p.insert(Ze.key,Ze),p.size===u&&_e.done()}).next(()=>p)}newChangeBuffer(e){return new Dc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Cc(e).get("remoteDocumentGlobalKey").next(r=>(lt(!!r),r))}rr(e,r){return Cc(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function vf(a,e){let r;if(e.document)r=vc(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),u=Za(e.noDocument.readTime);r=$t.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe();{const o=Jt.fromSegments(e.unknownDocument.path),u=Za(e.unknownDocument.version);r=$t.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const p=new xt(u[0],u[1]);return Ht.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Ht.min()))return o}return $t.newInvalidDocument(e)}}function gd(a){return new ql(a)}class Dc extends Lu{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Xo(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new Ft((p,_)=>Tt(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const C=this.lr.get(p);if(r.push(this.cr.removeEntry(e,p,C.readTime)),_.isValidDocument()){const V=oh(this.cr.serializer,_);u=u.add(p.path.popLast());const J=ol(V);o+=J-C.size,r.push(this.cr.addEntry(e,p,V))}else if(o-=C.size,this.trackRemovals){const V=oh(this.cr.serializer,_.convertToNoDocument(Ht.min()));r.push(this.cr.addEntry(e,p,V))}}),u.forEach(p=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.cr.updateMetadata(e,o)),wt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:o.get(p).readTime})}),o))}}function Cc(a){return ri(a,"remoteDocumentGlobal")}function Mo(a){return ri(a,"remoteDocumentsV14")}function zs(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iu(a,e){const r=e.documentKey.path.toArray();return[a,$s(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Ac(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(u=Tt(r[p],o[p]),u)return u;return u=Tt(r.length,o.length),u||(u=Tt(r[r.length-2],o[o.length-2]),u||Tt(r[r.length-1],o[o.length-1]))}class Sc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Vu{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&Vn(o.mutation,u,Xt.empty(),xt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Er()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Er()){const u=as();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(p=>{let _=Cs();return p.forEach((C,V)=>{_=_.insert(C,V.overlayedDocument)}),_}))}getOverlayedDocuments(e,r){const o=as();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Er()))}populateOverlays(e,r,o){const u=[];return o.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((_,C)=>{r.set(_,C)})})}computeViews(e,r,o,u){let p=Qi();const _=ks(),C=ks();return r.forEach((V,J)=>{const _e=o.get(J.key);u.has(J.key)&&(void 0===_e||_e.mutation instanceof Wn)?p=p.insert(J.key,J):void 0!==_e?(_.set(J.key,_e.mutation.getFieldMask()),Vn(_e.mutation,J,_e.mutation.getFieldMask(),xt.now())):_.set(J.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,p).next(V=>(V.forEach((J,_e)=>_.set(J,_e)),r.forEach((J,_e)=>{var Ze;return C.set(J,new Sc(_e,null!==(Ze=_.get(J))&&void 0!==Ze?Ze:null))}),C))}recalculateAndSaveOverlays(e,r){const o=ks();let u=new ut((_,C)=>_-C),p=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(_=>{for(const C of _)C.keys().forEach(V=>{const J=r.get(V);if(null===J)return;let _e=o.get(V)||Xt.empty();_e=C.applyToLocalView(J,_e),o.set(V,_e);const Ze=(u.get(C.batchId)||Er()).add(V);u=u.insert(C.batchId,Ze)})}).next(()=>{const _=[],C=u.getReverseIterator();for(;C.hasNext();){const V=C.getNext(),J=V.key,_e=V.value,Ze=ba();_e.forEach(mt=>{if(!p.has(mt)){const Ut=jt(r.get(mt),o.get(mt));null!==Ut&&Ze.set(mt,Ut),p=p.add(mt)}}),_.push(this.documentOverlayCache.saveOverlays(e,J,Ze))}return wt.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Jt.isDocumentKey((_=r).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):we(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var _}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-p.size):wt.resolve(as());let C=-1,V=p;return _.next(J=>wt.forEach(J,(_e,Ze)=>(C<Ze.largestBatchId&&(C=Ze.largestBatchId),p.get(_e)?wt.resolve():this.remoteDocumentCache.getEntry(e,_e).next(mt=>{V=V.insert(_e,mt)}))).next(()=>this.populateOverlays(e,J,p)).next(()=>this.computeViews(e,V,J,Er())).next(_e=>({batchId:C,changes:Ys(_e)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Jt(r)).next(o=>{let u=Cs();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const p=r.collectionGroup;let _=Cs();return this.indexManager.getCollectionParents(e,p).next(C=>wt.forEach(C,V=>{const J=(Ze=r,mt=V.child(p),new _i(mt,null,Ze.explicitOrderBy.slice(),Ze.filters.slice(),Ze.limit,Ze.limitType,Ze.startAt,Ze.endAt));var Ze,mt;return this.getDocumentsMatchingCollectionQuery(e,J,o,u).next(_e=>{_e.forEach((Ze,mt)=>{_=_.insert(Ze,mt)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,r,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,u))).next(_=>{p.forEach((V,J)=>{const _e=J.getKey();null===_.get(_e)&&(_=_.insert(_e,$t.newInvalidDocument(_e)))});let C=Cs();return _.forEach((V,J)=>{const _e=p.get(V);void 0!==_e&&Vn(_e.mutation,J,Xt.empty(),xt.now()),Zo(r,J)&&(C=C.insert(V,J))}),C})}}class lh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return wt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Wi(u.createTime)}),wt.resolve();var u}getNamedQuery(e,r){return wt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:Vl(u.bundledQuery),readTime:Wi(u.readTime)}),wt.resolve();var u}}class Rc{constructor(){this.overlays=new ut(Jt.comparator),this.Ir=new Map}getOverlay(e,r){return wt.resolve(this.overlays.get(r))}getOverlays(e,r){const o=as();return wt.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,p)=>{this.ht(e,r,p)}),wt.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.Ir.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(o)),wt.resolve()}getOverlaysForCollection(e,r,o){const u=as(),p=r.length+1,_=new Jt(r.child("")),C=this.overlays.getIteratorFrom(_);for(;C.hasNext();){const V=C.getNext().value,J=V.getKey();if(!r.isPrefixOf(J.path))break;J.path.length===p&&V.largestBatchId>o&&u.set(V.getKey(),V)}return wt.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let p=new ut((J,_e)=>J-_e);const _=this.overlays.getIterator();for(;_.hasNext();){const J=_.getNext().value;if(J.getKey().getCollectionGroup()===r&&J.largestBatchId>o){let _e=p.get(J.largestBatchId);null===_e&&(_e=as(),p=p.insert(J.largestBatchId,_e)),_e.set(J.getKey(),J)}}const C=as(),V=p.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((J,_e)=>C.set(J,_e)),!(C.size()>=u)););return wt.resolve(C)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(o.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new Ko(r,o));let p=this.Ir.get(r);void 0===p&&(p=Er(),this.Ir.set(r,p)),this.Ir.set(r,p.add(o.key))}}class md{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return wt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,wt.resolve()}}class Pc{constructor(){this.Tr=new Ft(ao.Er),this.dr=new Ft(ao.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new ao(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new ao(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Jt(new cn([])),o=new ao(r,e),u=new ao(r,e+1),p=[];return this.dr.forEachInRange([o,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Jt(new cn([])),o=new ao(r,e),u=new ao(r,e+1);let p=Er();return this.dr.forEachInRange([o,u],_=>{p=p.add(_.key)}),p}containsKey(e){const r=new ao(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ao{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Jt.comparator(e.key,r.key)||Tt(e.wr,r.wr)}static Ar(e,r){return Tt(e.wr,r.wr)||Jt.comparator(e.key,r.key)}}class Kl{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ft(ao.Er)}checkEmpty(e){return wt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const p=this.Sr;this.Sr++;const _=new Ui(p,r,o,u);this.mutationQueue.push(_);for(const C of u)this.br=this.br.add(new ao(C.key,p)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return wt.resolve(_)}lookupMutationBatch(e,r){return wt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),p=u<0?0:u;return wt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ao(r,0),u=new ao(r,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([o,u],_=>{const C=this.Dr(_.wr);p.push(C)}),wt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ft(Tt);return r.forEach(u=>{const p=new ao(u,0),_=new ao(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],C=>{o=o.add(C.wr)})}),wt.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let p=o;Jt.isDocumentKey(p)||(p=p.child(""));const _=new ao(new Jt(p),0);let C=new Ft(Tt);return this.br.forEachWhile(V=>{const J=V.key.path;return!!o.isPrefixOf(J)&&(J.length===u&&(C=C.add(V.wr)),!0)},_),wt.resolve(this.Cr(C))}Cr(e){const r=[];return e.forEach(o=>{const u=this.Dr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){lt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return wt.forEach(r.mutations,u=>{const p=new ao(u.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new ao(r,0),u=this.br.firstAfterOrEqual(o);return wt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return wt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class sl{constructor(e){this.Mr=e,this.docs=new ut(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),p=u?u.size:0,_=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return wt.resolve(o?o.document.mutableCopy():$t.newInvalidDocument(r))}getEntries(e,r){let o=Qi();return r.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():$t.newInvalidDocument(u))}),wt.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let p=Qi();const _=r.path,C=new Jt(_.child("")),V=this.docs.getIteratorFrom(C);for(;V.hasNext();){const{key:J,value:{document:_e}}=V.getNext();if(!_.isPrefixOf(J.path))break;J.path.length>_.length+1||sr(yr(_e),o)<=0||(u.has(_e.key)||Zo(r,_e))&&(p=p.insert(_e.key,_e.mutableCopy()))}return wt.resolve(p)}getAllFromCollectionGroup(e,r,o,u){xe()}Or(e,r){return wt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new ch(this)}getSize(e){return wt.resolve(this.size)}}class ch extends Lu{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(o)}),wt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Yl{constructor(e){this.persistence=e,this.Nr=new Xo(r=>Yn(r),Nr),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pc,this.targetCount=0,this.kr=Pa.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,u)=>r(u)),wt.resolve()}getLastRemoteSnapshotVersion(e){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),wt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pa(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,wt.resolve()}updateTargetData(e,r){return this.Kn(r),wt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,wt.resolve()}removeTargets(e,r,o){let u=0;const p=[];return this.Nr.forEach((_,C)=>{C.sequenceNumber<=r&&null===o.get(C.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),wt.waitFor(p).next(()=>u)}getTargetCount(e){return wt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return wt.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),wt.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(_=>{p.push(u.markPotentiallyOrphaned(e,_))}),wt.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),wt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return wt.resolve(o)}containsKey(e,r){return wt.resolve(this.Br.containsKey(r))}}class Mc{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $(0),this.Kr=!1,this.Kr=!0,this.$r=new md,this.referenceDelegate=e(this),this.Ur=new Yl(this),this.indexManager=new Ul,this.remoteDocumentCache=new sl(o=>this.referenceDelegate.Wr(o)),this.serializer=new ea(r),this.Gr=new lh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Rc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new Kl(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){oe("MemoryPersistence","Starting transaction:",e);const u=new al(this.Qr.next());return this.referenceDelegate.zr(),o(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(e,r){return wt.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class al extends rr{constructor(e){super(),this.currentSequenceNumber=e}}class Bu{constructor(e){this.persistence=e,this.Jr=new Pc,this.Yr=null}static Zr(e){return new Bu(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),wt.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),wt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),wt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.Xr,o=>{const u=Jt.fromPath(o);return this.ei(e,u).next(p=>{p||r.removeEntry(u,Ht.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return wt.or([()=>wt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class ou{constructor(e){this.serializer=e}O(e,r,o,u){const p=new cr("createOrUpgrade",r);var V;o<1&&u>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hn,{unique:!0}),V.createObjectStore("documentMutations"),ll(e),function(V){V.createObjectStore("remoteDocuments")}(e));let _=wt.resolve();return o<3&&u>=3&&(0!==o&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),ll(e)),_=_.next(()=>function(V){const J=V.store("targetGlobal"),_e={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",_e)}(p))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(V,J){return J.store("mutations").U().next(_e=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hn,{unique:!0});const Ze=J.store("mutations"),mt=_e.map(Ut=>Ze.put(Ut));return wt.waitFor(mt)})}(e,p))),_=_.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.ni(p))),o<6&&u>=6&&(_=_.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ri(p)))),o<7&&u>=7&&(_=_.next(()=>this.ii(p))),o<8&&u>=8&&(_=_.next(()=>this.si(e,p))),o<9&&u>=9&&(_=_.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.oi(p))),o<11&&u>=11&&(_=_.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(V){const J=V.createObjectStore("documentOverlays",{keyPath:Oo});J.createIndex("collectionPathOverlayIndex",pi,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",Ei,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(V){const J=V.createObjectStore("remoteDocumentsV14",{keyPath:$r});J.createIndex("documentKeyIndex",ni),J.createIndex("collectionGroupIndex",Ai)}(e)).next(()=>this._i(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.ai(e,p))),o<15&&u>=15&&(_=_.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:Eo}).createIndex("sequenceNumberIndex",Wr,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:gr}).createIndex("documentKeyIndex",dr,{unique:!1})}(e))),o<16&&u>=16&&(_=_.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&u>=17&&(_=_.next(()=>{!function(V){V.createObjectStore("globals",{keyPath:"name"})}(e)})),_}ri(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=ol(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>wt.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",_).next(C=>wt.forEach(C,V=>{lt(V.userId===p.userId);const J=Xa(this.serializer,V);return pd(e,p.userId,J).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.J((_,C)=>{const V=new cn(_),J=[0,ft(V)];p.push(r.get(J).next(_e=>_e?wt.resolve():r.put({targetId:0,path:ft(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>wt.waitFor(p))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Yr});const o=r.store("collectionParents"),u=new Do,p=_=>{if(u.add(_)){const C=_.lastSegment(),V=_.popLast();return o.put({collectionId:C,parent:ft(V)})}};return r.store("remoteDocuments").J({H:!0},(_,C)=>{const V=new cn(_);return p(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([_,C,V],J)=>{const _e=Gt(C);return p(_e.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,u)=>{const p=Au(u),_=sh(this.serializer,p);return r.put(_)})}_i(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((p,_)=>{const C=r.store("remoteDocumentsV14"),V=(Ze=_,Ze.document?new Jt(cn.fromString(Ze.document.name).popFirst(5)):Ze.noDocument?Jt.fromSegments(Ze.noDocument.path):Ze.unknownDocument?Jt.fromSegments(Ze.unknownDocument.path):xe()).path.toArray(),J={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Ze;u.push(C.put(J))}).next(()=>wt.waitFor(u))}ai(e,r){const o=r.store("mutations"),u=gd(this.serializer),p=new Mc(Bu.Zr,this.serializer.ct);return o.U().next(_=>{const C=new Map;return _.forEach(V=>{var J;let _e=null!==(J=C.get(V.userId))&&void 0!==J?J:Er();Xa(this.serializer,V).keys().forEach(Ze=>_e=_e.add(Ze)),C.set(V.userId,_e)}),wt.forEach(C,(V,J)=>{const _e=new Ke(J),Ze=Qa.lt(this.serializer,_e),mt=p.getIndexManager(_e),Ut=Hl.lt(_e,this.serializer,mt,p.referenceDelegate);return new Vu(u,Ut,Ze,mt).recalculateAndSaveOverlaysForDocumentKeys(new co(r,$.oe),V).next()})})}}function ll(a){a.createObjectStore("targetDocuments",{keyPath:Pr}).createIndex("documentTargetsIndex",Tr,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Si,{unique:!0}),a.createObjectStore("targetGlobal")}const Zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _d{constructor(e,r,o,u,p,_,C,V,J,_e,Ze=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=p,this.window=_,this.document=C,this.ci=J,this.li=_e,this.hi=Ze,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=mt=>Promise.resolve(),!_d.D())throw new M(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,u),this.Ai=r+"main",this.serializer=new ea(V),this.Ri=new pr(this.Ai,this.hi,new ou(this.serializer)),this.$r=new ta,this.Ur=new ku(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gd(this.serializer),this.Gr=new Bl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===_e&&ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(Z.FAILED_PRECONDITION,Zl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new $(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,c.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,c.Z)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xa(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(vr(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return su(e).get("owner").next(r=>wt.resolve(this.vi(r)))}Ci(e){return xa(e).delete(this.clientId)}Fi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=ri(o,"clientMetadata");return u.U().next(p=>{const _=e.xi(p,18e5),C=p.filter(V=>-1===_.indexOf(V));return wt.forEach(C,V=>u.delete(V.clientId)).next(()=>C)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?wt.resolve(!0):su(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new M(Z.FAILED_PRECONDITION,Zl);return!1}}return!(!this.networkEnabled||!this.inForeground)||xa(e).U().next(o=>void 0===this.xi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&oe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new co(r,$.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>xa(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Hl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qa.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){oe("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",p=17===(V=this.hi)?Hi:16===V?di:15===V?Vi:14===V?Ii:13===V?Mr:12===V?Ki:11===V?No:void xe();var V;let _;return this.Ri.runTransaction(e,u,p,C=>(_=new co(C,this.Qr?this.Qr.next():$.oe),"readwrite-primary"===r?this.wi(_).next(V=>!!V||this.Si(_)).next(V=>{if(!V)throw ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new M(Z.FAILED_PRECONDITION,jn);return o(_)}).next(V=>this.Di(_).next(()=>V)):this.Ki(_).next(()=>o(_)))).then(C=>(_.raiseOnCommittedEvent(),C))}Ki(e){return su(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new M(Z.FAILED_PRECONDITION,Zl)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(e).put("owner",r)}static D(){return pr.D()}bi(e){const r=su(e);return r.get("owner").next(o=>this.vi(o)?(oe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):wt.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(ze(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,Ae.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return oe("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ze("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){ze("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function su(a){return ri(a,"owner")}function xa(a){return ri(a,"clientMetadata")}function au(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class cl{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=u}static Wi(e,r){let o=Er(),u=Er();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new cl(e,r.fromCache,o,u)}}class dh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Ae.G6)()?8:vi((0,Ae.z$)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,u){const p={result:null};return this.Yi(e,r).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(e,r,u,o).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new dh;return this.Xi(e,r,_).next(C=>{if(p.result=C,this.zi)return this.es(e,r,_,C.size)})}).next(()=>p.result)}es(e,r,o,u){return o.documentReadCount<this.ji?(Ye()<=ue.in.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",so(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),wt.resolve()):(Ye()<=ue.in.DEBUG&&oe("QueryEngine","Query:",so(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Hi*u?(Ye()<=ue.in.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",so(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(r))):wt.resolve())}Yi(e,r){if(U(r))return wt.resolve(null);let o=Rn(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Oi(r,null,"F"),o=Rn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const _=Er(...p);return this.Ji.getDocuments(e,_).next(C=>this.indexManager.getMinOffset(e,o).next(V=>{const J=this.ts(r,C);return this.ns(r,J,_,V.readTime)?this.Yi(e,Oi(r,null,"F")):this.rs(e,J,r,V)}))})))}Zi(e,r,o,u){return U(r)||u.isEqual(Ht.min())?wt.resolve(null):this.Ji.getDocuments(e,o).next(p=>{const _=this.ts(r,p);return this.ns(r,_,o,u)?wt.resolve(null):(Ye()<=ue.in.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),so(r)),this.rs(e,_,r,nr(u,-1)).next(C=>C))})}ts(e,r){let o=new Ft(Ia(e));return r.forEach((u,p)=>{Zo(e,p)&&(o=o.add(p))}),o}ns(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(e,r,o){return Ye()<=ue.in.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",so(r)),this.Ji.getDocumentsMatchingQuery(e,r,In.min(),o)}rs(e,r,o,u){return this.Ji.getDocumentsMatchingQuery(e,o,u).next(p=>(r.forEach(_=>{p=p.insert(_.key,_)}),p))}}class Ef{constructor(e,r,o,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new ut(Tt),this._s=new Xo(p=>Yn(p),Nr),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function yd(a,e,r,o){return new Ef(a,e,r,o)}function $u(a,e){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(a,e){const r=he(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const _=[],C=[];let V=Er();for(const J of u){_.push(J.batchId);for(const _e of J.mutations)V=V.add(_e.key)}for(const J of p){C.push(J.batchId);for(const _e of J.mutations)V=V.add(_e.key)}return r.localDocuments.getDocuments(o,V).next(J=>({hs:J,removedBatchIds:_,addedBatchIds:C}))})})})).apply(this,arguments)}function uu(a){const e=he(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Nc(a,e,r){let o=Er(),u=Er();return r.forEach(p=>o=o.add(p)),e.getEntries(a,o).next(p=>{let _=Qi();return r.forEach((C,V)=>{const J=p.get(C);V.isFoundDocument()!==J.isFoundDocument()&&(u=u.add(C)),V.isNoDocument()&&V.version.isEqual(Ht.min())?(e.removeEntry(C,V.readTime),_=_.insert(C,V)):!J.isValidDocument()||V.version.compareTo(J.version)>0||0===V.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(V),_=_.insert(C,V)):oe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",J.version," Watch version:",V.version)}),{Ps:_,Is:u}})}function Ed(a,e){const r=he(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function lu(a,e){const r=he(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Ur.getTargetData(o,e).next(p=>p?(u=p,wt.resolve(u)):r.Ur.allocateTargetId(o).next(_=>(u=new Po(e,_,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.os.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function cu(a,e,r){return If.apply(this,arguments)}function If(){return(If=(0,c.Z)(function*(a,e,r){const o=he(a),u=o.os.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!vr(_))throw _;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.os=o.os.remove(e),o._s.delete(u.target)})).apply(this,arguments)}function dl(a,e,r){const o=he(a);let u=Ht.min(),p=Er();return o.persistence.runTransaction("Execute query","readwrite",_=>function(V,J,_e){const Ze=he(V),mt=Ze._s.get(_e);return void 0!==mt?wt.resolve(Ze.os.get(mt)):Ze.Ur.getTargetData(J,_e)}(o,_,Rn(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(_,C.targetId).next(V=>{p=V})}).next(()=>o.ss.getDocumentsMatchingQuery(_,e,r?u:Ht.min(),r?p:Er())).next(C=>(hh(o,Ks(e),C),{documents:C,Ts:p})))}function kc(a,e){const r=he(a),o=he(r.Ur),u=r.os.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>o.ot(p,e).next(_=>_?_.target:null))}function Uu(a,e){const r=he(a),o=r.us.get(e)||Ht.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,e,nr(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(hh(r,e,u),u))}function hh(a,e,r){let o=a.us.get(e)||Ht.min();r.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),a.us.set(e,o)}function ju(){return(ju=(0,c.Z)(function*(a,e,r,o){const u=he(a);let p=Er(),_=Qi();for(const J of r){const _e=e.Es(J.metadata.name);J.document&&(p=p.add(_e));const Ze=e.ds(J);Ze.setReadTime(e.As(J.metadata.readTime)),_=_.insert(_e,Ze)}const C=u.cs.newChangeBuffer({trackRemovals:!0}),V=yield lu(u,(_e=o,Rn(H(cn.fromString(`__bundle__/docs/${_e}`)))));var _e;return u.persistence.runTransaction("Apply bundle documents","readwrite",J=>Nc(J,C,_).next(_e=>(C.apply(J),_e)).next(_e=>u.Ur.removeMatchingKeysForTargetId(J,V.targetId).next(()=>u.Ur.addMatchingKeys(J,p,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(J,_e.Ps,_e.Is)).next(()=>_e.Ps)))})).apply(this,arguments)}function bf(a,e){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(a,e,r=Er()){const o=yield lu(a,Rn(Vl(e.bundledQuery))),u=he(a);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=Wi(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,e);const C=o.withResumeToken(er.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(C.targetId,C),u.Ur.updateTargetData(p,C).next(()=>u.Ur.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Ur.addMatchingKeys(p,r,o.targetId)).next(()=>u.Gr.saveNamedQuery(p,e))})})).apply(this,arguments)}function fh(a,e){return`firestore_clients_${a}_${e}`}function hs(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Vc(a,e){return`firestore_targets_${a}_${e}`}class Xl{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Rs(e,r,o){const u=JSON.parse(o);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new M(u.error.code,u.error.message))),_?new Xl(e,r,u.state,p):(ze("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Na{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new M(o.error.code,o.error.message))),p?new Na(e,o.state,u):(ze("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class du{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Zs();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=de(o.activeTargetIds[_]),p=p.add(o.activeTargetIds[_]);return u?new du(e,p):(ze("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class b{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new b(r.clientId,r.onlineState):(ze("SharedClientState",`Failed to parse online state: ${e}`),null)}}class h{constructor(){this.activeTargetIds=Zs()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g{constructor(e,r,o,u,p){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ut(Tt),this.started=!1,this.bs=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=fh(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new h),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const r=yield e.syncEngine.Qi();for(const u of r){if(u===e.ps)continue;const p=e.getItem(fh(e.persistenceKey,u));if(p){const _=du.Rs(u,p);_&&(e.Ss=e.Ss.insert(_.clientId,_))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const u=e.Ls(o);u&&e.Bs(u)}for(const u of e.bs)e.ws(u);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const u=this.storage.getItem(Vc(this.persistenceKey,e));if(u){const p=Na.Rs(e,u);p&&(o=p.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vc(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Qs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return oe("SharedClientState","READ",e,r),r}setItem(e,r){oe("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(oe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.Z)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const u=r.Gs(o.key);return r.zs(u,null)}{const u=r.js(o.key,o.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const u=r.Hs(o.key,o.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const u=r.Ys(o.key,o.newValue);if(u)return r.Zs(u)}}else if(o.key===r.xs){if(null!==o.newValue){const u=r.Ls(o.newValue);if(u)return r.Bs(u)}}else if(o.key===r.vs){const u=function(_){let C=$.oe;if(null!=_)try{const V=JSON.parse(_);lt("number"==typeof V),C=V}catch(V){ze("SharedClientState","Failed to read sequence number from WebStorage",V)}return C}(o.newValue);u!==$.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Os){const u=r.Xs(o.newValue);yield Promise.all(u.map(p=>r.syncEngine.eo(p)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const u=new Xl(this.currentUser,e,r,o),p=hs(this.persistenceKey,this.currentUser,e);this.setItem(p,u.Vs())}Qs(e){const r=hs(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const u=Vc(this.persistenceKey,e),p=new Na(e,r,o);this.setItem(u,p.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return du.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),u=Number(o[1]);return Xl.Rs(new Ke(void 0!==o[2]?o[2]:null),u,r)}Ys(e,r){const o=this.Ms.exec(e),u=Number(o[1]);return Na.Rs(u,r)}Ls(e){return b.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,c.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),u=this.ks(this.Ss),p=this.ks(o),_=[],C=[];return p.forEach(V=>{u.has(V)||_.push(V)}),u.forEach(V=>{p.has(V)||C.push(V)}),this.syncEngine.io(_,C).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Zs();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class w{constructor(){this.so=new h,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ne{_o(e){}shutdown(){}}class Te{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vt=null;function Bt(){return null===vt?vt=268435456+Math.round(2147483648*Math.random()):vt++,"0x"+vt.toString(16)}const hn={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Un{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const $n="WebChannelConnection";class Jr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(r,o,u,p,_){const C=Bt(),V=this.xo(r,o.toUriEncodedString());oe("RestConnection",`Sending RPC '${r}' ${C}:`,V,u);const J={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(J,p,_),this.No(r,V,J,u).then(_e=>(oe("RestConnection",`Received RPC '${r}' ${C}: `,_e),_e),_e=>{throw Xe("RestConnection",`RPC '${r}' ${C} failed with error: `,_e,"url: ",V,"request:",u),_e})}Lo(r,o,u,p,_,C){return this.Mo(r,o,u,p,_)}Oo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ge,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,_)=>r[_]=p),u&&u.headers.forEach((p,_)=>r[_]=p)}xo(r,o){return`${this.Do}/v1/${o}:${hn[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,u){const p=Bt();return new Promise((_,C)=>{const V=new Se;V.setWithCredentials(!0),V.listenOnce(ye.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Ve.NO_ERROR:const _e=V.getResponseJson();oe($n,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(_e)),_(_e);break;case Ve.TIMEOUT:oe($n,`RPC '${e}' ${p} timed out`),C(new M(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ve.HTTP_ERROR:const Ze=V.getStatus();if(oe($n,`RPC '${e}' ${p} failed with status:`,Ze,"response text:",V.getResponseText()),Ze>0){let mt=V.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Ut=mt?.error;if(Ut&&Ut.status&&Ut.message){const on=function(_n){const tr=_n.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tr)>=0?tr:Z.UNKNOWN}(Ut.status);C(new M(on,Ut.message))}else C(new M(Z.UNKNOWN,"Server responded with status "+V.getStatus()))}else C(new M(Z.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{oe($n,`RPC '${e}' ${p} completed.`)}});const J=JSON.stringify(u);oe($n,`RPC '${e}' ${p} sending request:`,u),V.send(r,"POST",J,o,15)})}Bo(e,r,o){const u=Bt(),p=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=yt(),C=ot(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(V.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(V.useFetchStreams=!0),this.Oo(V.initMessageHeaders,r,o),V.encodeInitMessageHeaders=!0;const _e=p.join("");oe($n,`Creating RPC '${e}' stream ${u}: ${_e}`,V);const Ze=_.createWebChannel(_e,V);let mt=!1,Ut=!1;const on=new Un({Io:_n=>{Ut?oe($n,`Not sending because RPC '${e}' stream ${u} is closed:`,_n):(mt||(oe($n,`Opening RPC '${e}' stream ${u} transport.`),Ze.open(),mt=!0),oe($n,`RPC '${e}' stream ${u} sending:`,_n),Ze.send(_n))},To:()=>Ze.close()}),Tn=(_n,tr,ur)=>{_n.listen(tr,ar=>{try{ur(ar)}catch(xr){setTimeout(()=>{throw xr},0)}})};return Tn(Ze,ce.EventType.OPEN,()=>{Ut||(oe($n,`RPC '${e}' stream ${u} transport opened.`),on.yo())}),Tn(Ze,ce.EventType.CLOSE,()=>{Ut||(Ut=!0,oe($n,`RPC '${e}' stream ${u} transport closed`),on.So())}),Tn(Ze,ce.EventType.ERROR,_n=>{Ut||(Ut=!0,Xe($n,`RPC '${e}' stream ${u} transport errored:`,_n),on.So(new M(Z.UNAVAILABLE,"The operation could not be completed")))}),Tn(Ze,ce.EventType.MESSAGE,_n=>{var tr;if(!Ut){const ur=_n.data[0];lt(!!ur);const xr=ur.error||(null===(tr=ur[0])||void 0===tr?void 0:tr.error);if(xr){oe($n,`RPC '${e}' stream ${u} received error:`,xr);const Fi=xr.status;let ei=function(It){const Pt=go[It];if(void 0!==Pt)return aa(Pt)}(Fi),Rt=xr.message;void 0===ei&&(ei=Z.INTERNAL,Rt="Unknown error status: "+Fi+" with message "+xr.message),Ut=!0,on.So(new M(ei,Rt)),Ze.close()}else oe($n,`RPC '${e}' stream ${u} received:`,ur),on.bo(ur)}}),Tn(C,Pe.STAT_EVENT,_n=>{_n.stat===Ce.PROXY?oe($n,`RPC '${e}' stream ${u} detected buffering proxy`):_n.stat===Ce.NOPROXY&&oe($n,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{on.wo()},0),on}}function xo(){return typeof window<"u"?window:null}function na(){return typeof document<"u"?document:null}function ka(a){return new Tu(a,!0)}class Ql{constructor(e,r,o=1e3,u=1.5,p=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-o);u>0&&oe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class hl{constructor(e,r,o,u,p,_,C,V){this.ui=e,this.Ho=o,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=C,this.listener=V,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ql(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,c.Z)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,c.Z)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,c.Z)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===Z.RESOURCE_EXHAUSTED?(ze(r.toString()),ze("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===Z.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Yo===r&&this.P_(o,u)},o=>{e(()=>{const u=new M(Z.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(u)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{o(()=>this.I_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,c.Z)(function*(){e.state=0,e.start()}))}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Id extends hl{constructor(e,r,o,u,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,_),this.serializer=p}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Js(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:xe(),u=e.targetChange.targetIds||[],p=function(J,_e){return J.useProto3Json?(lt(void 0===_e||"string"==typeof _e),er.fromBase64String(_e||"")):(lt(void 0===_e||_e instanceof Buffer||_e instanceof Uint8Array),er.fromUint8Array(_e||new Uint8Array))}(a,e.targetChange.resumeToken),_=e.targetChange.cause,C=_&&function(J){const _e=void 0===J.code?Z.UNKNOWN:aa(J.code);return new M(_e,J.message||"")}(_);r=new Ua(o,u,p,C||null)}else if("documentChange"in e){const o=e.documentChange,u=ys(a,o.document.name),p=Wi(o.document.updateTime),_=o.document.createTime?Wi(o.document.createTime):Ht.min(),C=new ct({mapValue:{fields:o.document.fields}}),V=$t.newFoundDocument(u,p,_,C);r=new ua(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,u=ys(a,o.document),p=o.readTime?Wi(o.readTime):Ht.min(),_=$t.newNoDocument(u,p);r=new ua([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=ys(a,o.document);r=new ua([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return xe();{const o=e.filter,{count:u=0,unchangedNames:p}=o,_=new Ls(u,p);r=new Bs(o.targetId,_)}}var J;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return Ht.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?Ht.min():_.readTime?Wi(_.readTime):Ht.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=Aa(this.serializer),r.addTarget=function(p,_){let C;const V=_.target;if(C=Xr(V)?{documents:E(p,V)}:{query:N(p,V)._t},C.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){C.resumeToken=wu(p,_.resumeToken);const J=Ha(p,_.expectedCount);null!==J&&(C.expectedCount=J)}else if(_.snapshotVersion.compareTo(Ht.min())>0){C.readTime=za(p,_.snapshotVersion.toTimestamp());const J=Ha(p,_.expectedCount);null!==J&&(C.expectedCount=J)}return C}(this.serializer,e);const o=function Be(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=Aa(this.serializer),r.removeTarget=e,this.a_(r)}}class bd extends hl{constructor(e,r,o,u,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function R(a,e){return a&&a.length>0?(lt(void 0!==e),a.map(r=>function(u,p){let _=Wi(u.updateTime?u.updateTime:p);return _.isEqual(Ht.min())&&(_=Wi(p)),new te(_,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Wi(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=Aa(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Ni(this.serializer,o))};this.a_(r)}}class ts extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new M(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(e,Ga(r,o),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new M(Z.UNKNOWN,p.toString())})}Lo(e,r,o,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,C])=>this.connection.Lo(e,Ga(r,o),u,_,C,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new M(Z.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jl{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ze(r),this.D_=!1):oe("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Bc{constructor(e,r,o,u,p){var _=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(C=>{o.enqueueAndForget((0,c.Z)(function*(){var V;Hu(_)&&(oe("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,c.Z)(function*(_e){const Ze=he(_e);Ze.L_.add(4),yield Is(Ze),Ze.q_.set("Unknown"),Ze.L_.delete(4),yield _a(Ze)}),function J(_e){return V.apply(this,arguments)})(_))}))}),this.q_=new Jl(o,u)}}function _a(a){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(a){if(Hu(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function Is(a){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function fl(a,e){const r=he(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),ph(r)?wd(r):ra(r).r_()&&Td(r,e))}function ec(a,e){const r=he(a),o=ra(r);r.N_.delete(e),o.r_()&&Tf(r,e),0===r.N_.size&&(o.r_()?o.o_():Hu(r)&&r.q_.set("Unknown"))}function Td(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ra(a).A_(e)}function Tf(a,e){a.Q_.xe(e),ra(a).R_(e)}function wd(a){a.Q_=new Ro({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),ra(a).start(),a.q_.v_()}function ph(a){return Hu(a)&&!ra(a).n_()&&a.N_.size>0}function Hu(a){return 0===he(a).L_.size}function Dd(a){a.Q_=void 0}function Up(a){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function $c(a){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(a){a.N_.forEach((e,r)=>{Td(a,e)})})).apply(this,arguments)}function Uc(a,e){return wf.apply(this,arguments)}function wf(){return(wf=(0,c.Z)(function*(a,e){Dd(a),ph(a)?(a.q_.M_(e),wd(a)):a.q_.set("Unknown")})).apply(this,arguments)}function gh(a,e,r){return tc.apply(this,arguments)}function tc(){return tc=(0,c.Z)(function*(a,e,r){if(a.q_.set("Online"),e instanceof Ua&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(p,_){const C=_.cause;for(const V of _.targetIds)p.N_.has(V)&&(yield p.remoteSyncer.rejectListen(V,C),p.N_.delete(V),p.Q_.removeTarget(V))}),function u(p,_){return o.apply(this,arguments)})(a,e)}catch(o){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield hu(a,o)}else if(e instanceof ua?a.Q_.Ke(e):e instanceof Bs?a.Q_.He(e):a.Q_.We(e),!r.isEqual(Ht.min()))try{const o=yield uu(a.localStore);r.compareTo(o)>=0&&(yield function(p,_){const C=p.Q_.rt(_);return C.targetChanges.forEach((V,J)=>{if(V.resumeToken.approximateByteSize()>0){const _e=p.N_.get(J);_e&&p.N_.set(J,_e.withResumeToken(V.resumeToken,_))}}),C.targetMismatches.forEach((V,J)=>{const _e=p.N_.get(V);if(!_e)return;p.N_.set(V,_e.withResumeToken(er.EMPTY_BYTE_STRING,_e.snapshotVersion)),Tf(p,V);const Ze=new Po(_e.target,V,J,_e.sequenceNumber);Td(p,Ze)}),p.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(o){oe("RemoteStore","Failed to raise snapshot:",o),yield hu(a,o)}var o}),tc.apply(this,arguments)}function hu(a,e,r){return nc.apply(this,arguments)}function nc(){return(nc=(0,c.Z)(function*(a,e,r){if(!vr(e))throw e;a.L_.add(1),yield Is(a),a.q_.set("Offline"),r||(r=()=>uu(a.localStore)),a.asyncQueue.enqueueRetryable((0,c.Z)(function*(){oe("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield _a(a)}))})).apply(this,arguments)}function gl(a,e){return e().catch(r=>hu(a,r,e))}function fu(a){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,c.Z)(function*(a){const e=he(a),r=zu(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mh(e);)try{const u=yield Ed(e.localStore,o);if(null===u){0===e.O_.length&&r.o_();break}o=u.batchId,Sd(e,u)}catch(u){yield hu(e,u)}Df(e)&&jp(e)})).apply(this,arguments)}function mh(a){return Hu(a)&&a.O_.length<10}function Sd(a,e){a.O_.push(e);const r=zu(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Df(a){return Hu(a)&&!zu(a).n_()&&a.O_.length>0}function jp(a){zu(a).start()}function vm(a){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(a){zu(a).p_()})).apply(this,arguments)}function Em(a){return Af.apply(this,arguments)}function Af(){return(Af=(0,c.Z)(function*(a){const e=zu(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function Hp(a,e,r){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(a,e,r){const o=a.O_.shift(),u=Ho.from(o,e,r);yield gl(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield fu(a)})).apply(this,arguments)}function zp(a,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,c.Z)(function*(a,e){var r;e&&zu(a).V_&&(yield(r=(0,c.Z)(function*(u,p){if(Da(C=p.code)&&C!==Z.ABORTED){const _=u.O_.shift();zu(u).s_(),yield gl(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield fu(u)}var C}),function o(u,p){return r.apply(this,arguments)})(a,e)),Df(a)&&jp(a)}),Pd.apply(this,arguments)}function Gp(a,e){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,c.Z)(function*(a,e){const r=he(a);r.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const o=Hu(r);r.L_.add(3),yield Is(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield _a(r)})).apply(this,arguments)}function Md(a,e){return _h.apply(this,arguments)}function _h(){return(_h=(0,c.Z)(function*(a,e){const r=he(a);e?(r.L_.delete(2),yield _a(r)):e||(r.L_.add(2),yield Is(r),r.q_.set("Unknown"))})).apply(this,arguments)}function ra(a){return a.K_||(a.K_=function(r,o,u){const p=he(r);return p.w_(),new Id(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Eo:Up.bind(null,a),Ro:$c.bind(null,a),mo:Uc.bind(null,a),d_:gh.bind(null,a)}),a.B_.push(function(){var e=(0,c.Z)(function*(r){r?(a.K_.s_(),ph(a)?wd(a):a.q_.set("Unknown")):(yield a.K_.stop(),Dd(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function zu(a){return a.U_||(a.U_=function(r,o,u){const p=he(r);return p.w_(),new bd(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vm.bind(null,a),mo:zp.bind(null,a),f_:Em.bind(null,a),g_:Hp.bind(null,a)}),a.B_.push(function(){var e=(0,c.Z)(function*(r){r?(a.U_.s_(),yield fu(a)):(yield a.U_.stop(),a.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class yh{constructor(e,r,o,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new A,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,p){const _=Date.now()+o,C=new yh(e,r,_,u,p);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(a,e){if(ze("AsyncQueue",`${e}: ${a}`),vr(a))return new M(Z.UNAVAILABLE,`${e}: ${a}`);throw a}class Hc{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Jt.comparator(r.key,o.key):(r,o)=>Jt.comparator(r.key,o.key),this.keyedMap=Cs(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Hc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Hc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Hc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class ml{constructor(){this.W_=new ut(Jt.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class _l{constructor(e,r,o,u,p,_,C,V,J){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=C,this.excludesMetadataChanges=V,this.hasCachedResults=J}static fromInitialDocuments(e,r,o,u,p){const _=[];return r.forEach(C=>{_.push({type:0,doc:C})}),new _l(e,r,Hc.emptySet(r),_,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Rf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Wp{constructor(){this.queries=zc(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const u=he(r),p=u.queries;u.queries=zc(),p.forEach((_,C)=>{for(const V of C.j_)V.onError(o)})}(this,new M(Z.ABORTED,"Firestore shutting down"))}}function zc(){return new Xo(a=>Ri(a),Xi)}function Gc(a,e){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(a,e){const r=he(a);let o=3;const u=e.query;let p=r.queries.get(u);p?!p.H_()&&e.J_()&&(o=2):(p=new Rf,o=e.J_()?0:1);try{switch(o){case 0:p.z_=yield r.onListen(u,!0);break;case 1:p.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(_){const C=jc(_,`Initialization of query '${so(e.query)}' failed`);return void e.onError(C)}r.queries.set(u,p),p.j_.push(e),e.Z_(r.onlineState),p.z_&&e.X_(p.z_)&&Wc(r)})).apply(this,arguments)}function rc(a,e){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(a,e){const r=he(a),o=e.query;let u=3;const p=r.queries.get(o);if(p){const _=p.j_.indexOf(e);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=e.J_()?0:1:!p.H_()&&e.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Pf(a,e){const r=he(a);let o=!1;for(const u of e){const _=r.queries.get(u.query);if(_){for(const C of _.j_)C.X_(u)&&(o=!0);_.z_=u}}o&&Wc(r)}function vh(a,e,r){const o=he(a),u=o.queries.get(e);if(u)for(const p of u.j_)p.onError(r);o.queries.delete(e)}function Wc(a){a.Y_.forEach(e=>{e.next()})}var Eh,Ih;(Ih=Eh||(Eh={})).ea="default",Ih.Cache="cache";class ic{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new _l(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Eh.Cache}}class Im{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class Mf{constructor(e){this.serializer=e}Es(e){return ys(this.serializer,e)}ds(e){return e.metadata.exists?vc(this.serializer,e.document,!1):$t.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Wi(e)}}class bm{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qp(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=cn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new Mf(this.serializer);for(const u of e)if(u.metadata.queries){const p=o.Es(u.metadata.name);for(const _ of u.metadata.queries){const C=(r.get(_)||Er()).add(p);r.set(_,C)}}return r}complete(){var e=this;return(0,c.Z)(function*(){const r=yield function Fc(a,e,r,o){return ju.apply(this,arguments)}(e.localStore,new Mf(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const u of e.queries)yield bf(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function qp(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class xf{constructor(e){this.key=e}}class Of{constructor(e){this.key=e}}class Nf{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Er(),this.mutatedKeys=Er(),this.Aa=Ia(e),this.Ra=new Hc(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new ml,u=r?r.Ra:this.Ra;let p=r?r.mutatedKeys:this.mutatedKeys,_=u,C=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,J="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((_e,Ze)=>{const mt=u.get(_e),Ut=Zo(this.query,Ze)?Ze:null,on=!!mt&&this.mutatedKeys.has(mt.key),Tn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let _n=!1;mt&&Ut?mt.data.isEqual(Ut.data)?on!==Tn&&(o.track({type:3,doc:Ut}),_n=!0):this.ga(mt,Ut)||(o.track({type:2,doc:Ut}),_n=!0,(V&&this.Aa(Ut,V)>0||J&&this.Aa(Ut,J)<0)&&(C=!0)):!mt&&Ut?(o.track({type:0,doc:Ut}),_n=!0):mt&&!Ut&&(o.track({type:1,doc:mt}),_n=!0,(V||J)&&(C=!0)),_n&&(Ut?(_=_.add(Ut),p=Tn?p.add(_e):p.delete(_e)):(_=_.delete(_e),p=p.delete(_e)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const _e="F"===this.query.limitType?_.last():_.first();_=_.delete(_e.key),p=p.delete(_e.key),o.track({type:1,doc:_e})}return{Ra:_,fa:o,ns:C,mutatedKeys:p}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const p=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const _=e.fa.G_();_.sort((_e,Ze)=>function(Ut,on){const Tn=_n=>{switch(_n){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return Tn(Ut)-Tn(on)}(_e.type,Ze.type)||this.Aa(_e.doc,Ze.doc)),this.pa(o),u=null!=u&&u;const C=r&&!u?this.ya():[],V=0===this.da.size&&this.current&&!u?1:0,J=V!==this.Ea;return this.Ea=V,0!==_.length||J?{snapshot:new _l(this.query,e.Ra,p,_,e.mutatedKeys,0===V,J,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ml,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Er(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Of(o))}),this.da.forEach(o=>{e.has(o)||r.push(new xf(o))}),r}ba(e){this.Ta=e.Ts,this.da=Er();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return _l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class bh{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class kf{constructor(e){this.key=e,this.va=!1}}class qc{constructor(e,r,o,u,p,_){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Xo(C=>Ri(C),Xi),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(Jt.comparator),this.Na=new Map,this.La=new Pc,this.Ba={},this.ka=new Map,this.qa=Pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Tm(a,e){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,c.Z)(function*(a,e,r=!0){const o=Bf(a);let u;const p=o.Fa.get(e);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield Od(o,e,r,!0),u})).apply(this,arguments)}function X_(a,e){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(a,e){const r=Bf(a);yield Od(r,e,!0,!1)})).apply(this,arguments)}function Od(a,e,r,o){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.Z)(function*(a,e,r,o){const u=yield lu(a.localStore,Rn(e)),p=u.targetId,_=a.sharedClientState.addLocalQueryTarget(p,r);let C;return o&&(C=yield vl(a,e,p,"current"===_,u.resumeToken)),a.isPrimaryClient&&r&&fl(a.remoteStore,u),C})).apply(this,arguments)}function vl(a,e,r,o,u){return oc.apply(this,arguments)}function oc(){return oc=(0,c.Z)(function*(a,e,r,o,u){a.Ka=(Ze,mt,Ut)=>{return(on=(0,c.Z)(function*(_n,tr,ur,ar){let xr=tr.view.ma(ur);xr.ns&&(xr=yield dl(_n.localStore,tr.query,!1).then(({documents:pt})=>tr.view.ma(pt,xr)));const Fi=ar&&ar.targetChanges.get(tr.targetId),ei=ar&&null!=ar.targetMismatches.get(tr.targetId),Rt=tr.view.applyChanges(xr,_n.isPrimaryClient,Fi,ei);return Kp(_n,tr.targetId,Rt.wa),Rt.snapshot}),function Tn(_n,tr,ur,ar){return on.apply(this,arguments)})(a,Ze,mt,Ut);var on};const p=yield dl(a.localStore,e,!0),_=new Nf(e,p.Ts),C=_.ma(p.documents),V=Xs.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),J=_.applyChanges(C,a.isPrimaryClient,V);Kp(a,r,J.wa);const _e=new bh(e,r,_);return a.Fa.set(e,_e),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),J.snapshot}),oc.apply(this,arguments)}function wh(a,e,r){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(a,e,r){const o=he(a),u=o.Fa.get(e),p=o.Ma.get(u.targetId);if(p.length>1)return o.Ma.set(u.targetId,p.filter(_=>!Xi(_,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield cu(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&ec(o.remoteStore,u.targetId),Gs(o,u.targetId)}).catch(Dr))):(Gs(o,u.targetId),yield cu(o.localStore,u.targetId,!0))})).apply(this,arguments)}function q(a,e){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(a,e){const r=he(a),o=r.Fa.get(e),u=r.Ma.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),ec(r.remoteStore,o.targetId))})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(a,e,r){const o=Go(a);try{const u=yield function(_,C){const V=he(_),J=xt.now(),_e=C.reduce((Ut,on)=>Ut.add(on.key),Er());let Ze,mt;return V.persistence.runTransaction("Locally write mutations","readwrite",Ut=>{let on=Qi(),Tn=Er();return V.cs.getEntries(Ut,_e).next(_n=>{on=_n,on.forEach((tr,ur)=>{ur.isValidDocument()||(Tn=Tn.add(tr))})}).next(()=>V.localDocuments.getOverlayedDocuments(Ut,on)).next(_n=>{Ze=_n;const tr=[];for(const ur of C){const ar=oi(ur,Ze.get(ur.key).overlayedDocument);null!=ar&&tr.push(new Wn(ur.key,ar,bt(ar.value.mapValue),L.exists(!0)))}return V.mutationQueue.addMutationBatch(Ut,J,tr,C)}).next(_n=>{mt=_n;const tr=_n.applyToLocalDocumentSet(Ze,Tn);return V.documentOverlayCache.saveOverlays(Ut,_n.batchId,tr)})}).then(()=>({batchId:mt.batchId,changes:Ys(Ze)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(_,C,V){let J=_.Ba[_.currentUser.toKey()];J||(J=new ut(Tt)),J=J.insert(C,V),_.Ba[_.currentUser.toKey()]=J}(o,u.batchId,r),yield bs(o,u.changes),yield fu(o.remoteStore)}catch(u){const p=jc(u,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function rn(a,e){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(a,e){const r=he(a);try{const o=yield function vd(a,e){const r=he(a),o=e.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const C=[];e.targetChanges.forEach((_e,Ze)=>{const mt=u.get(Ze);if(!mt)return;C.push(r.Ur.removeMatchingKeys(p,_e.removedDocuments,Ze).next(()=>r.Ur.addMatchingKeys(p,_e.addedDocuments,Ze)));let Ut=mt.withSequenceNumber(p.currentSequenceNumber);var Tn,_n,tr;null!==e.targetMismatches.get(Ze)?Ut=Ut.withResumeToken(er.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):_e.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(_e.resumeToken,o)),u=u.insert(Ze,Ut),_n=Ut,tr=_e,(0===(Tn=mt).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-Tn.snapshotVersion.toMicroseconds()>=3e8||tr.addedDocuments.size+tr.modifiedDocuments.size+tr.removedDocuments.size>0)&&C.push(r.Ur.updateTargetData(p,Ut))});let V=Qi(),J=Er();if(e.documentUpdates.forEach(_e=>{e.resolvedLimboDocuments.has(_e)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(p,_e))}),C.push(Nc(p,_,e.documentUpdates).next(_e=>{V=_e.Ps,J=_e.Is})),!o.isEqual(Ht.min())){const _e=r.Ur.getLastRemoteSnapshotVersion(p).next(Ze=>r.Ur.setTargetsMetadata(p,p.currentSequenceNumber,o));C.push(_e)}return wt.waitFor(C).next(()=>_.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,V,J)).next(()=>V)}).then(p=>(r.os=u,p))}(r.localStore,e);e.targetChanges.forEach((u,p)=>{const _=r.Na.get(p);_&&(lt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?lt(_.va):u.removedDocuments.size>0&&(lt(_.va),_.va=!1))}),yield bs(r,o,e)}catch(o){yield Dr(o)}})).apply(this,arguments)}function Ir(a,e,r){const o=he(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Fa.forEach((p,_)=>{const C=_.view.Z_(e);C.snapshot&&u.push(C.snapshot)}),function(_,C){const V=he(_);V.onlineState=C;let J=!1;V.queries.forEach((_e,Ze)=>{for(const mt of Ze.j_)mt.Z_(C)&&(J=!0)}),J&&Wc(V)}(o.eventManager,e),u.length&&o.Ca.d_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ti(a,e,r){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(a,e,r){const o=he(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Na.get(e),p=u&&u.key;if(p){let _=new ut(Jt.comparator);_=_.insert(p,$t.newNoDocument(p,Ht.min()));const C=Er().add(p),V=new mo(Ht.min(),new Map,new ut(Tt),_,C);yield rn(o,V),o.Oa=o.Oa.remove(p),o.Na.delete(e),Ah(o)}else yield cu(o.localStore,e,!1).then(()=>Gs(o,e,r)).catch(Dr)})).apply(this,arguments)}function wi(a,e){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(a,e){const r=he(a),o=e.batch.batchId;try{const u=yield function Oc(a,e){const r=he(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=r.cs.newChangeBuffer({trackRemovals:!0});return function(C,V,J,_e){const Ze=J.batch,mt=Ze.keys();let Ut=wt.resolve();return mt.forEach(on=>{Ut=Ut.next(()=>_e.getEntry(V,on)).next(Tn=>{const _n=J.docVersions.get(on);lt(null!==_n),Tn.version.compareTo(_n)<0&&(Ze.applyToRemoteDocument(Tn,J),Tn.isValidDocument()&&(Tn.setReadTime(J.commitVersion),_e.addEntry(Tn)))})}),Ut.next(()=>C.mutationQueue.removeMutationBatch(V,Ze))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let V=Er();for(let J=0;J<C.mutationResults.length;++J)C.mutationResults[J].transformResults.length>0&&(V=V.add(C.batch.mutations[J].key));return V}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);xs(r,o,null),sc(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield bs(r,u)}catch(u){yield Dr(u)}})).apply(this,arguments)}function El(a,e,r){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(a,e,r){const o=he(a);try{const u=yield function(_,C){const V=he(_);return V.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let _e;return V.mutationQueue.lookupMutationBatch(J,C).next(Ze=>(lt(null!==Ze),_e=Ze.keys(),V.mutationQueue.removeMutationBatch(J,Ze))).next(()=>V.mutationQueue.performConsistencyCheck(J)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(J,_e,C)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,_e)).next(()=>V.localDocuments.getDocuments(J,_e))})}(o.localStore,e);xs(o,e,r),sc(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield bs(o,u)}catch(u){yield Dr(u)}})).apply(this,arguments)}function Nd(){return(Nd=(0,c.Z)(function*(a,e){const r=he(a);Hu(r.remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const C=he(_);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>C.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===o)return void e.resolve();const u=r.ka.get(o)||[];u.push(e),r.ka.set(o,u)}catch(o){const u=jc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function sc(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function xs(a,e,r){const o=he(a);let u=o.Ba[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),o.Ba[o.currentUser.toKey()]=u}}function Gs(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Ma.get(e))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(o=>{a.La.containsKey(o)||Ch(a,o)})}function Ch(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(ec(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),Ah(a))}function Kp(a,e,r){for(const o of r)o instanceof xf?(a.La.addReference(o.key,e),Q_(a,o)):o instanceof Of?(oe("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,e),a.La.containsKey(o.key)||Ch(a,o.key)):xe()}function Q_(a,e){const r=e.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(oe("SyncEngine","New document in limbo: "+r),a.xa.add(o),Ah(a))}function Ah(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new Jt(cn.fromString(e)),o=a.qa.next();a.Na.set(o,new kf(r)),a.Oa=a.Oa.insert(r,o),fl(a.remoteStore,new Po(Rn(H(r.path)),o,"TargetPurposeLimboResolution",$.oe))}}function bs(a,e,r){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,c.Z)(function*(a,e,r){const o=he(a),u=[],p=[],_=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,V)=>{_.push(o.Ka(V,e,r).then(J=>{var _e;if((J||r)&&o.isPrimaryClient){const Ze=J?!J.fromCache:null===(_e=r?.targetChanges.get(V.targetId))||void 0===_e?void 0:_e.current;o.sharedClientState.updateQueryState(V.targetId,Ze?"current":"not-current")}if(J){u.push(J);const Ze=cl.Wi(V.targetId,J);p.push(Ze)}}))}),yield Promise.all(_),o.Ca.d_(u),yield(C=(0,c.Z)(function*(J,_e){const Ze=he(J);try{yield Ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>wt.forEach(_e,Ut=>wt.forEach(Ut.$i,on=>Ze.persistence.referenceDelegate.addReference(mt,Ut.targetId,on)).next(()=>wt.forEach(Ut.Ui,on=>Ze.persistence.referenceDelegate.removeReference(mt,Ut.targetId,on)))))}catch(mt){if(!vr(mt))throw mt;oe("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of _e){const Ut=mt.targetId;if(!mt.fromCache){const on=Ze.os.get(Ut),_n=on.withLastLimboFreeSnapshotVersion(on.snapshotVersion);Ze.os=Ze.os.insert(Ut,_n)}}}),function V(J,_e){return C.apply(this,arguments)})(o.localStore,p))}),Yc.apply(this,arguments)}function wm(a,e){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.Z)(function*(a,e){const r=he(a);if(!r.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const o=yield $u(r.localStore,e);r.currentUser=e,(p=r).ka.forEach(C=>{C.forEach(V=>{V.reject(new M(Z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield bs(r,o.hs)}var p})).apply(this,arguments)}function Dm(a,e){const r=he(a),o=r.Na.get(e);if(o&&o.va)return Er().add(o.key);{let u=Er();const p=r.Ma.get(e);if(!p)return u;for(const _ of p){const C=r.Fa.get(_);u=u.unionWith(C.view.Va)}return u}}function qv(a,e){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,c.Z)(function*(a,e){const r=he(a),o=yield dl(r.localStore,e.query,!0),u=e.view.ba(o);return r.isPrimaryClient&&Kp(r,e.targetId,u.wa),u})).apply(this,arguments)}function Kv(a,e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,c.Z)(function*(a,e){const r=he(a);return Uu(r.localStore,e).then(o=>bs(r,o))})).apply(this,arguments)}function Yp(a,e,r,o){return Am.apply(this,arguments)}function Am(){return(Am=(0,c.Z)(function*(a,e,r,o){const u=he(a),p=yield function(C,V){const J=he(C),_e=he(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Ze=>_e.Mn(Ze,V).next(mt=>mt?J.localDocuments.getDocuments(Ze,mt):wt.resolve(null)))}(u.localStore,e);var V;null!==p?("pending"===r?yield fu(u.remoteStore):"acknowledged"===r||"rejected"===r?(xs(u,e,o||null),sc(u,e),V=e,he(he(u.localStore).mutationQueue).On(V)):xe(),yield bs(u,p)):oe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Vf(){return(Vf=(0,c.Z)(function*(a,e){const r=he(a);if(Bf(r),Go(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield Sm(r,o.toArray());r.Qa=!0,yield Md(r.remoteStore,!0);for(const p of u)fl(r.remoteStore,p)}else if(!1===e&&!1!==r.Qa){const o=[];let u=Promise.resolve();r.Ma.forEach((p,_)=>{r.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Gs(r,_),cu(r.localStore,_,!0))),ec(r.remoteStore,_)}),yield u,yield Sm(r,o),function(_){const C=he(_);C.Na.forEach((V,J)=>{ec(C.remoteStore,J)}),C.La.pr(),C.Na=new Map,C.Oa=new ut(Jt.comparator)}(r),r.Qa=!1,yield Md(r.remoteStore,!1)}})).apply(this,arguments)}function Sm(a,e,r){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,c.Z)(function*(a,e,r){const o=he(a),u=[],p=[];for(const _ of e){let C;const V=o.Ma.get(_);if(V&&0!==V.length){C=yield lu(o.localStore,Rn(V[0]));for(const J of V){const _e=o.Fa.get(J),Ze=yield qv(o,_e);Ze.snapshot&&p.push(Ze.snapshot)}}else{const J=yield kc(o.localStore,_);C=yield lu(o.localStore,J),yield vl(o,Rm(J),_,!1,C.resumeToken)}u.push(C)}return o.Ca.d_(p),u})).apply(this,arguments)}function Rm(a){return W(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function J_(a){return r=he(a).localStore,he(he(r).persistence).Qi();var r}function Pm(a,e,r,o){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.Z)(function*(a,e,r,o){const u=he(a);if(u.Qa)return void oe("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const _=yield Uu(u.localStore,Ks(p[0])),C=mo.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,er.EMPTY_BYTE_STRING);yield bs(u,_,C);break}case"rejected":yield cu(u.localStore,e,!0),Gs(u,e,o);break;default:xe()}})).apply(this,arguments)}function ey(a,e,r){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,c.Z)(function*(a,e,r){const o=Bf(a);if(o.Qa){for(const u of e){if(o.Ma.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){oe("SyncEngine","Adding an already active target "+u);continue}const p=yield kc(o.localStore,u),_=yield lu(o.localStore,p);yield vl(o,Rm(p),_.targetId,!1,_.resumeToken),fl(o.remoteStore,_)}for(const u of r)o.Ma.has(u)&&(yield cu(o.localStore,u,!1).then(()=>{ec(o.remoteStore,u),Gs(o,u)}).catch(Dr))}})).apply(this,arguments)}function Bf(a){const e=he(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=rn.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ti.bind(null,e),e.Ca.d_=Pf.bind(null,e.eventManager),e.Ca.$a=vh.bind(null,e.eventManager),e}function Go(a){const e=he(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wi.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=El.bind(null,e),e}let Ph=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,c.Z)(function*(){o.serializer=ka(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return yd(this.persistence,new xc,r.initialUser,this.serializer)}Ga(r){return new Mc(Bu.Zr,this.serializer)}Wa(r){return new w}terminate(){var r=this;return(0,c.Z)(function*(){var o,u;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class $f extends Ph{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield Go(o.Ja.syncEngine),yield fu(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return yd(this.persistence,new xc,e.initialUser,this.serializer)}ja(e,r){return new Wl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new S(r,this.persistence);return new F(e.asyncQueue,o)}Ga(e){const r=au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new _d(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,xo(),na(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new w}}class Mm extends $f{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield r().call(o,e);const u=o.Ja.syncEngine;o.sharedClientState instanceof g&&(o.sharedClientState.syncEngine={no:Yp.bind(null,u),ro:Pm.bind(null,u),io:ey.bind(null,u),Qi:J_.bind(null,u),eo:Kv.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var p=(0,c.Z)(function*(_){yield function Yv(a,e){return Vf.apply(this,arguments)}(o.Ja.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}Wa(e){const r=xo();if(!g.D(r))throw new M(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new g(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let Fd=(()=>{class a{initialize(r,o){var u=this;return(0,c.Z)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>Ir(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=wm.bind(null,u.syncEngine),yield Md(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Wp}createDatastore(r){const o=ka(r.databaseInfo.databaseId),u=new Jr(r.databaseInfo);return new ts(r.authCredentials,r.appCheckCredentials,u,o)}createRemoteStore(r){return u=this.localStore,p=this.datastore,_=r.asyncQueue,C=o=>Ir(this.syncEngine,o,0),V=Te.D()?new Te:new ne,new Bc(u,p,_,C,V);var u,p,_,C,V}createSyncEngine(r,o){return function(p,_,C,V,J,_e,Ze){const mt=new qc(p,_,C,V,J,_e);return Ze&&(mt.Qa=!0),mt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,c.Z)(function*(){var o,u,p;yield(p=(0,c.Z)(function*(C){const V=he(C);oe("RemoteStore","RemoteStore shutting down."),V.L_.add(5),yield Is(V),V.k_.shutdown(),V.q_.set("Unknown")}),function _(C){return p.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function xm(a,e=10240){let r=0;return{read:()=>(0,c.Z)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Uf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ze("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Om{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new A,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,c.Z)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),u=Number(o);isNaN(u)&&e.ru(`length string (${o}) is not valid number`);const p=yield e.iu(u);return new Im(JSON.parse(p),r.length+u)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,c.Z)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,c.Z)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,c.Z)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class Zv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new M(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,c.Z)(function*(_,C){const V=he(_),J={documents:C.map(Ut=>cs(V.serializer,Ut))},_e=yield V.Lo("BatchGetDocuments",V.serializer.databaseId,cn.emptyPath(),J,C.length),Ze=new Map;_e.forEach(Ut=>{const on=function zo(a,e){return"found"in e?function(o,u){lt(!!u.found);const p=ys(o,u.found.name),_=Wi(u.found.updateTime),C=u.found.createTime?Wi(u.found.createTime):Ht.min(),V=new ct({mapValue:{fields:u.found.fields}});return $t.newFoundDocument(p,_,C,V)}(a,e):"missing"in e?function(o,u){lt(!!u.missing),lt(!!u.readTime);const p=ys(o,u.missing),_=Wi(u.readTime);return $t.newNoDocument(p,_)}(a,e):xe()}(V.serializer,Ut);Ze.set(on.key.toString(),on)});const mt=[];return C.forEach(Ut=>{const on=Ze.get(Ut.toString());lt(!!on),mt.push(on)}),mt}),function p(_,C){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const p=Jt.fromPath(u);e.mutations.push(new is(p,e.precondition(p)))}),yield(o=(0,c.Z)(function*(p,_){const C=he(p),V={writes:_.map(J=>Ni(C.serializer,J))};yield C.Mo("Commit",C.serializer.databaseId,cn.emptyPath(),V)}),function u(p,_){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw xe();r=Ht.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new M(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ht.min())?L.exists(!1):L.updateTime(r):L.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ht.min()))throw new M(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return L.updateTime(r)}return L.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xv{constructor(e,r,o,u,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=p,this._u=o.maxAttempts,this.t_=new Ql(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,c.Z)(function*(){const r=new Zv(e.datastore),o=e.cu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.lu(p)}))}).catch(u=>{e.lu(u)})}))}cu(e){try{const r=this.updateFunction(e);return!K(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Da(r)}return!1}}class Mh{constructor(e,r,o,u,p){var _=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=Kt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(o,function(){var C=(0,c.Z)(function*(V){oe("FirestoreClient","Received user=",V.uid),yield _.authCredentialListener(V),_.user=V});return function(V){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(oe("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new A;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=jc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Mi(a,e){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,c.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(p){o.isEqual(p)||(yield $u(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Zc.apply(this,arguments)}function Qp(a,e){return jf.apply(this,arguments)}function jf(){return(jf=(0,c.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield Hf(a);oe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Gp(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Gp(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function Hf(a){return xh.apply(this,arguments)}function xh(){return(xh=(0,c.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mi(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Xe("Error using user provided cache. Falling back to memory cache: "+e),yield Mi(a,new Ph)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),yield Mi(a,new Ph);var u;return a._offlineComponents})).apply(this,arguments)}function zf(a){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qp(a,a._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),yield Qp(a,new Fd))),a._onlineComponents})).apply(this,arguments)}function Jp(a){return Hf(a).then(e=>e.persistence)}function ac(a){return Hf(a).then(e=>e.localStore)}function ny(a){return zf(a).then(e=>e.remoteStore)}function Oh(a){return zf(a).then(e=>e.syncEngine)}function uc(a){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,c.Z)(function*(a){const e=yield zf(a),r=e.eventManager;return r.onListen=Tm.bind(null,e.syncEngine),r.onUnlisten=wh.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=X_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=q.bind(null,e.syncEngine),r})).apply(this,arguments)}function qf(a,e,r={}){const o=new A;return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(p,_,C,V,J){const _e=new Uf({next:mt=>{_e.Za(),_.enqueueAndForget(()=>rc(p,Ze));const Ut=mt.docs.has(C);!Ut&&mt.fromCache?J.reject(new M(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Ut&&mt.fromCache&&V&&"server"===V.source?J.reject(new M(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(mt)},error:mt=>J.reject(mt)}),Ze=new ic(H(C.path),_e,{includeMetadataChanges:!0,_a:!0});return Gc(p,Ze)}(yield uc(a),a.asyncQueue,e,r,o)})),o.promise}function Fm(a,e,r={}){const o=new A;return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(p,_,C,V,J){const _e=new Uf({next:mt=>{_e.Za(),_.enqueueAndForget(()=>rc(p,Ze)),mt.fromCache&&"server"===V.source?J.reject(new M(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(mt)},error:mt=>J.reject(mt)}),Ze=new ic(C,_e,{includeMetadataChanges:!0,_a:!0});return Gc(p,Ze)}(yield uc(a),a.asyncQueue,e,r,o)})),o.promise}function rg(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Jc=new Map;function ig(a,e,r){if(!r)throw new M(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Lm(a,e,r,o){if(!0===e&&!0===o)throw new M(Z.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Vm(a){if(!Jt.isDocumentKey(a))throw new M(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Zf(a){if(Jt.isDocumentKey(a))throw new M(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Nh(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":xe()}function ci(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new M(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Nh(a);throw new M(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function og(a,e){if(e<=0)throw new M(Z.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class Xf{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new M(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rg(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new M(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new M(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new M(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qf{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xf(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Oe;switch(o.type){case"firstParty":return new Ue(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new M(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,c.Z)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Jc.get(r);o&&(oe("ComponentProvider","Removing Datastore"),Jc.delete(r),o.terminate())}(this),Promise.resolve()}}function sy(a,e,r,o={}){var u;const p=(a=ci(a,Qf))._getSettings(),_=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Xe("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),o.mockUserToken){let C,V;if("string"==typeof o.mockUserToken)C=o.mockUserToken,V=Ke.MOCK_USER;else{C=(0,Ae.Sg)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const J=o.mockUserToken.sub||o.mockUserToken.user_id;if(!J)throw new M(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Ke(J)}a._authCredentials=new pe(new j(C,V))}}class Ts{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Wo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wo(this.firestore,e,this._key)}}class Il extends Ts{constructor(e,r,o){super(e,r,H(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wo(this.firestore,null,new Jt(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function Qv(a,e,...r){if(a=(0,Ae.m9)(a),ig("collection","path",e),a instanceof Qf){const o=cn.fromString(e,...r);return Zf(o),new Il(a,null,o)}{if(!(a instanceof Wo||a instanceof Il))throw new M(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(cn.fromString(e,...r));return Zf(o),new Il(a.firestore,null,o)}}function Jf(a,e){if(a=ci(a,Qf),ig("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new M(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(a,null,(o=e,new _i(cn.emptyPath(),o)));var o}function Bm(a,e,...r){if(a=(0,Ae.m9)(a),1===arguments.length&&(e=Kt.newId()),ig("doc","path",e),a instanceof Qf){const o=cn.fromString(e,...r);return Vm(o),new Wo(a,null,new Jt(o))}{if(!(a instanceof Wo||a instanceof Il))throw new M(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(cn.fromString(e,...r));return Vm(o),new Wo(a.firestore,a instanceof Il?a.converter:null,new Jt(o))}}function sg(a,e){return a=(0,Ae.m9)(a),e=(0,Ae.m9)(e),(a instanceof Wo||a instanceof Il)&&(e instanceof Wo||e instanceof Il)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function kh(a,e){return a=(0,Ae.m9)(a),e=(0,Ae.m9)(e),a instanceof Ts&&e instanceof Ts&&a.firestore===e.firestore&&Xi(a._query,e._query)&&a.converter===e.converter}class Ld{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ql(this,"async_queue_retry"),this.Vu=()=>{const o=na();o&&oe("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=na();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=na();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new A;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,c.Z)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!vr(r))throw r;oe("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,ze("INTERNAL UNHANDLED ERROR: ",function(_){let C=_.message||"";return _.stack&&(C=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),C}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=yh.createAndSchedule(this,e,r,o,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&xe()}verifyOperationInProgress(){}wu(){var e=this;return(0,c.Z)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Fh(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(a)}class ag{constructor(){this._progressObserver={},this._taskCompletionResolver=new A,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Lh=-1;class ji extends Qf{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new Ld,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,c.Z)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Ld(r),e._firestoreClient=void 0,yield r}})()}}function $m(a,e){const r="object"==typeof a?a:(0,d.getApp)(),o="string"==typeof a?a:e||"(default)",u=(0,d._getProvider)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const p=(0,Ae.P0)("firestore");p&&sy(u,...p)}return u}function yo(a){if(a._terminated)throw new M(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Vh(a),a._firestoreClient}function Vh(a){var e,r,o;const u=a._freezeSettings(),p=(V=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Sn(a._databaseId,V,a._persistenceKey,(_e=u).host,_e.ssl,_e.experimentalForceLongPolling,_e.experimentalAutoDetectLongPolling,rg(_e.experimentalLongPollingOptions),_e.useFetchStreams));var V,_e;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new Mh(a._authCredentials,a._appCheckCredentials,a._queue,p,a._componentsProvider&&function(C){const V=C?._online.build();return{_offline:C?._offline.build(V),_online:V}}(a._componentsProvider))}function Jv(a,e){Xe("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return lg(a,Fd.provider,{build:o=>new $f(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function ug(a){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,c.Z)(function*(a){Xe("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();lg(a,Fd.provider,{build:r=>new Mm(r,e.cacheSizeBytes)})})).apply(this,arguments)}function lg(a,e,r){if((a=ci(a,ji))._firestoreClient||a._terminated)throw new M(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new M(Z.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:e,_offline:r},Vh(a)}function ay(a){if(a._initialized&&!a._terminated)throw new M(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new A;return a._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(r=(0,c.Z)(function*(u){if(!pr.D())return Promise.resolve();const p=u+"main";yield pr.delete(p)}),function o(u){return r.apply(this,arguments)})(au(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function uy(a){return function(r){const o=new A;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Dh(a,e){return Nd.apply(this,arguments)}(yield Oh(r),o)})),o.promise}(yo(a=ci(a,ji)))}function Um(a){return function km(a){return a.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Jp(a),r=yield ny(a);return e.setNetworkEnabled(!0),function(u){const p=he(u);return p.L_.delete(0),_a(p)}(r)}))}(yo(a=ci(a,ji)))}function jm(a){return function Xc(a){return a.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Jp(a),r=yield ny(a);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(p){const _=he(p);_.L_.add(0),yield Is(_),_.q_.set("Offline")}),function u(p){return o.apply(this,arguments)})(r);var o}))}(yo(a=ci(a,ji)))}function ly(a,e){const r=yo(a=ci(a,ji)),o=new ag;return function Qc(a,e,r,o){const u=function(_,C){let V;return V="string"==typeof _?Qr().encode(_):_,_e=function(_e,Ze){if(_e instanceof Uint8Array)return xm(_e,void 0);if(_e instanceof ArrayBuffer)return xm(new Uint8Array(_e),void 0);if(_e instanceof ReadableStream)return _e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new Om(_e,C);var _e}(r,ka(e));a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function ty(a,e,r){const o=he(a);var u;(u=(0,c.Z)(function*(_,C,V){try{const J=yield C.getMetadata();if(yield function(on,Tn){const _n=he(on),tr=Wi(Tn.createTime);return _n.persistence.runTransaction("hasNewerBundle","readonly",ur=>_n.Gr.getBundleMetadata(ur,Tn.id)).then(ur=>!!ur&&ur.createTime.compareTo(tr)>=0)}(_.localStore,J))return yield C.close(),V._completeWith({taskState:"Success",documentsLoaded:(on=J).totalDocuments,bytesLoaded:on.totalBytes,totalDocuments:on.totalDocuments,totalBytes:on.totalBytes}),Promise.resolve(new Set);V._updateProgress(qp(J));const _e=new bm(J,_.localStore,C.serializer);let Ze=yield C.Ua();for(;Ze;){const Ut=yield _e.la(Ze);Ut&&V._updateProgress(Ut),Ze=yield C.Ua()}const mt=yield _e.complete();return yield bs(_,mt.Ia,void 0),yield function(on,Tn){const _n=he(on);return _n.persistence.runTransaction("Save bundle","readwrite",tr=>_n.Gr.saveBundleMetadata(tr,Tn))}(_.localStore,J),V._completeWith(mt.progress),Promise.resolve(mt.Pa)}catch(J){return Xe("SyncEngine",`Loading bundle failed with ${J}`),V._failWith(J),Promise.resolve(new Set)}var on}),function p(_,C,V){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Oh(a),u,o)}))}(r,a._databaseId,e,o),o}function tE(a,e){return function tg(a,e){return a.asyncQueue.enqueue((0,c.Z)(function*(){return function(o,u){const p=he(o);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield ac(a),e)}))}(yo(a=ci(a,ji)),e).then(r=>r?new Ts(a,null,r.query):null)}class Gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gu(er.fromBase64String(e))}catch(r){throw new M(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gu(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new M(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._methodName=e}}class ed{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new M(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new M(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}class tp{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,u){if(o.length!==u.length)return!1;for(let p=0;p<o.length;++p)if(o[p]!==u[p])return!1;return!0}(this._values,e._values)}}const Hm=/^__.*__$/;class dy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Wn(e,this.data,this.fieldMask,r,this.fieldTransforms):new Vr(e,this.data,r,this.fieldTransforms)}}class dg{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Wn(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function hy(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class np{constructor(e,r,o,u,p,_){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:o,xu:!1});return u.Ou(e),u}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:o,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(hy(this.Cu)&&Hm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rp{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||ka(e)}Qu(e,r,o,u=!1){return new np({Cu:e,methodName:r,qu:o,path:On.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function td(a){const e=a._freezeSettings(),r=ka(a._databaseId);return new rp(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Tl(a,e,r,o,u,p={}){const _=a.Qu(p.merge||p.mergeFields?2:0,e,r,u);Uh("Data must be an object, but it was:",_,o);const C=gg(o,_);let V,J;if(p.merge)V=new Xt(_.fieldMask),J=_.fieldTransforms;else if(p.mergeFields){const _e=[];for(const Ze of p.mergeFields){const mt=Wu(e,Ze,r);if(!_.contains(mt))throw new M(Z.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);Gm(_e,mt)||_e.push(mt)}V=new Xt(_e),J=_.fieldTransforms.filter(Ze=>V.covers(Ze.field))}else V=null,J=_.fieldTransforms;return new dy(new ct(C),V,J)}class wl extends bl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wl}}function zm(a,e,r){return new np({Cu:3,qu:e.settings.qu,methodName:a._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ip extends bl{_toFieldTransform(e){return new us(e.path,new wa)}isEqual(e){return e instanceof ip}}class hg extends bl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=zm(this,e,!0),o=this.Ku.map(p=>gu(p,r)),u=new So(o);return new us(e.path,u)}isEqual(e){return e instanceof hg&&(0,Ae.vZ)(this.Ku,e.Ku)}}class fg extends bl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=zm(this,e,!0),o=this.Ku.map(p=>gu(p,r)),u=new Ss(o);return new us(e.path,u)}isEqual(e){return e instanceof fg&&(0,Ae.vZ)(this.Ku,e.Ku)}}class pg extends bl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Rs(e.serializer,Ll(e.serializer,this.$u));return new us(e.path,r)}isEqual(e){return e instanceof pg&&this.$u===e.$u}}function op(a,e,r,o){const u=a.Qu(1,e,r);Uh("Data must be an object, but it was:",u,o);const p=[],_=ct.empty();je(o,(V,J)=>{const _e=jh(e,V,r);J=(0,Ae.m9)(J);const Ze=u.Nu(_e);if(J instanceof wl)p.push(_e);else{const mt=gu(J,Ze);null!=mt&&(p.push(_e),_.set(_e,mt))}});const C=new Xt(p);return new dg(_,C,u.fieldTransforms)}function sp(a,e,r,o,u,p){const _=a.Qu(1,e,r),C=[Wu(e,o,r)],V=[u];if(p.length%2!=0)throw new M(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<p.length;mt+=2)C.push(Wu(e,p[mt])),V.push(p[mt+1]);const J=[],_e=ct.empty();for(let mt=C.length-1;mt>=0;--mt)if(!Gm(J,C[mt])){const Ut=C[mt];let on=V[mt];on=(0,Ae.m9)(on);const Tn=_.Nu(Ut);if(on instanceof wl)J.push(Ut);else{const _n=gu(on,Tn);null!=_n&&(J.push(Ut),_e.set(Ut,_n))}}const Ze=new Xt(J);return new dg(_e,Ze,_.fieldTransforms)}function ap(a,e,r,o=!1){return gu(r,a.Qu(o?4:3,e))}function gu(a,e){if(fy(a=(0,Ae.m9)(a)))return Uh("Unsupported field value:",e,a),gg(a,e);if(a instanceof bl)return function(o,u){if(!hy(u.Cu))throw u.Bu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,u){const p=[];let _=0;for(const C of o){let V=gu(C,u.Lu(_));null==V&&(V={nullValue:"NULL_VALUE"}),p.push(V),_++}return{arrayValue:{values:p}}}(a,e)}return function(o,u){if(null===(o=(0,Ae.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ll(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=xt.fromDate(o);return{timestampValue:za(u.serializer,p)}}if(o instanceof xt){const p=new xt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:za(u.serializer,p)}}if(o instanceof ed)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Gu)return{bytesValue:wu(u.serializer,o._byteString)};if(o instanceof Wo){const p=u.databaseId,_=o.firestore._databaseId;if(!_.isEqual(p))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:la(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof tp)return C=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(V=>{if("number"!=typeof V)throw C.Bu("VectorValues must only contain numeric values.");return Ta(C.serializer,V)})}}}}};var C;throw u.Bu(`Unsupported field value: ${Nh(o)}`)}(a,e)}function gg(a,e){const r={};return Ne(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):je(a,(o,u)=>{const p=gu(u,e.Mu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function fy(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof ed||a instanceof Gu||a instanceof Wo||a instanceof bl||a instanceof tp)}function Uh(a,e,r){if(!fy(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Nh(r);throw e.Bu("an object"===o?a+" a custom object":a+" "+o)}var u}function Wu(a,e,r){if((e=(0,Ae.m9)(e))instanceof lc)return e._internalPath;if("string"==typeof e)return jh(a,e);throw Hh("Field path arguments must be of type string or ",a,!1,void 0,r)}const up=new RegExp("[~\\*/\\[\\]]");function jh(a,e,r){if(e.search(up)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new lc(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Hh(a,e,r,o,u){const p=o&&!o.isEmpty(),_=void 0!==u;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let V="";return(p||_)&&(V+=" (found",p&&(V+=` in field ${o}`),_&&(V+=` in document ${u}`),V+=")"),new M(Z.INVALID_ARGUMENT,C+a+V)}function Gm(a,e){return a.some(r=>r.isEqual(e))}class zh{constructor(e,r,o,u,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class py extends zh{data(){return super.data()}}function lp(a,e){return"string"==typeof e?jh(a,e):e instanceof lc?e._internalPath:e._delegate._internalPath}function Wm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new M(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class Vd extends mg{}function Bd(a,e,...r){let o=[];e instanceof mg&&o.push(e),o=o.concat(r),function(p){const _=p.filter(V=>V instanceof Gh).length,C=p.filter(V=>V instanceof ya).length;if(_>1||_>0&&C>0)throw new M(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class ya extends Vd{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new ya(e,r,o)}_apply(e){const r=this._parse(e);return yg(e._query,r),new Ts(e.firestore,e.converter,qo(e._query,r))}_parse(e){const r=td(e.firestore);return function(p,_,C,V,J,_e,Ze){let mt;if(J.isKeyField()){if("array-contains"===_e||"array-contains-any"===_e)throw new M(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_e}' queries on documentId().`);if("in"===_e||"not-in"===_e){e_(Ze,_e);const Ut=[];for(const on of Ze)Ut.push(gy(V,p,on));mt={arrayValue:{values:Ut}}}else mt=gy(V,p,Ze)}else"in"!==_e&&"not-in"!==_e&&"array-contains-any"!==_e||e_(Ze,_e),mt=ap(C,"where",Ze,"in"===_e||"not-in"===_e);return Bn.create(J,_e,mt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function qm(a,e,r){const o=e,u=lp("where",a);return ya._create(u,o,r)}class Gh extends mg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gh(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Gn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,p){let _=u;const C=p.getFlattenedFilters();for(const V of C)yg(_,V),_=qo(_,V)}(e._query,r),new Ts(e.firestore,e.converter,qo(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Km extends Vd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Km(e,r)}_apply(e){const r=function(u,p,_){if(null!==u.startAt)throw new M(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new M(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _r(p,_)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new _i(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Ym(a,e="asc"){const r=e,o=lp("orderBy",a);return Km._create(o,r)}class Wh extends Vd{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Wh(e,r,o)}_apply(e){return new Ts(e.firestore,e.converter,Oi(e._query,this._limit,this._limitType))}}function rE(a){return og("limit",a),Wh._create("limit",a,"F")}function Zm(a){return og("limitToLast",a),Wh._create("limitToLast",a,"L")}class nd extends Vd{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new nd(e,r,o)}_apply(e){const r=_g(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(p=r,new _i((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}function Xm(...a){return nd._create("startAt",a,!0)}function Qm(...a){return nd._create("startAfter",a,!1)}class qh extends Vd{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new qh(e,r,o)}_apply(e){const r=_g(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(p=r,new _i((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function Gr(...a){return qh._create("endBefore",a,!1)}function Jm(...a){return qh._create("endAt",a,!0)}function _g(a,e,r,o){if(r[0]=(0,Ae.m9)(r[0]),r[0]instanceof zh)return function(p,_,C,V,J){if(!V)throw new M(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const _e=[];for(const Ze of Wt(p))if(Ze.field.isKeyField())_e.push(Di(_,V.key));else{const mt=V.data.field(Ze.field);if(Zr(mt))throw new M(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const Ut=Ze.field.canonicalString();throw new M(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ut}' (used as the orderBy) does not exist.`)}_e.push(mt)}return new fn(_e,J)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=td(a.firestore);return function(_,C,V,J,_e,Ze){const mt=_.explicitOrderBy;if(_e.length>mt.length)throw new M(Z.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ut=[];for(let on=0;on<_e.length;on++){const Tn=_e[on];if(mt[on].field.isKeyField()){if("string"!=typeof Tn)throw new M(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof Tn}`);if(!we(_)&&-1!==Tn.indexOf("/"))throw new M(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${Tn}' contains a slash.`);const _n=_.path.child(cn.fromString(Tn));if(!Jt.isDocumentKey(_n))throw new M(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const tr=new Jt(_n);Ut.push(Di(C,tr))}else{const _n=ap(V,J,Tn);Ut.push(_n)}}return new fn(Ut,Ze)}(a._query,a.firestore._databaseId,u,e,r,o)}}function gy(a,e,r){if("string"==typeof(r=(0,Ae.m9)(r))){if(""===r)throw new M(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!we(e)&&-1!==r.indexOf("/"))throw new M(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(cn.fromString(r));if(!Jt.isDocumentKey(o))throw new M(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Di(a,new Jt(o))}if(r instanceof Wo)return Di(a,r._key);throw new M(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(r)}.`)}function e_(a,e){if(!Array.isArray(a)||0===a.length)throw new M(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yg(a,e){const r=function(u,p){for(const _ of u)for(const C of _.getFlattenedFilters())if(p.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new M(Z.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class vg{convertValue(e,r="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return je(e,(u,p)=>{o[u]=this.convertValue(p,r)}),o}convertVectorValue(e){var r,o,u;const p=null===(u=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(_=>Ar(_.doubleValue));return new tp(p)}convertGeoPoint(e){return new ed(Ar(e.latitude),Ar(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ho(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Lr(e));default:return null}}convertTimestamp(e){const r=ai(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=cn.fromString(e);lt(Ka(o));const u=new Xn(o.get(1),o.get(3)),p=new Jt(o.popFirst(5));return u.isEqual(r)||ze(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Kh(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class my extends vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,r)}}class cc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends zh{constructor(e,r,o,u,p,_){super(e,r,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class qu extends ia{data(e={}){return super.data(e)}}class dc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new cc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new qu(this._firestore,this._userDataWriter,o.key,o,new cc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new M(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new qu(u._firestore,u._userDataWriter,C.doc.key,C.doc,new cc(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>p||3!==C.type).map(C=>{const V=new qu(u._firestore,u._userDataWriter,C.doc.key,C.doc,new cc(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let J=-1,_e=-1;return 0!==C.type&&(J=_.indexOf(C.doc.key),_=_.delete(C.doc.key)),1!==C.type&&(_=_.add(C.doc),_e=_.indexOf(C.doc.key)),{type:Ey(C.type),doc:V,oldIndex:J,newIndex:_e}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ey(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function cp(a,e){return a instanceof ia&&e instanceof ia?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof dc&&e instanceof dc&&a._firestore===e._firestore&&kh(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function $d(a){a=ci(a,Wo);const e=ci(a.firestore,ji);return qf(yo(e),a._key).then(r=>wg(e,a,r))}class Ku extends vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,r)}}function Yh(a){a=ci(a,Wo);const e=ci(a.firestore,ji),r=yo(e),o=new Ku(e);return function ry(a,e){const r=new A;return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(p,_,C){try{const V=yield function(_e,Ze){const mt=he(_e);return mt.persistence.runTransaction("read document","readonly",Ut=>mt.localDocuments.getDocument(Ut,Ze))}(p,_);V.isFoundDocument()?C.resolve(V):V.isNoDocument()?C.resolve(null):C.reject(new M(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const J=jc(V,`Failed to get document '${_} from cache`);C.reject(J)}}),function u(p,_,C){return o.apply(this,arguments)})(yield ac(a),e,r);var o})),r.promise}(r,a._key).then(u=>new ia(e,o,a._key,u,new cc(null!==u&&u.hasLocalMutations,!0),a.converter))}function n_(a){a=ci(a,Wo);const e=ci(a.firestore,ji);return qf(yo(e),a._key,{source:"server"}).then(r=>wg(e,a,r))}function Eg(a){a=ci(a,Ts);const e=ci(a.firestore,ji),r=yo(e),o=new Ku(e);return Wm(a._query),Fm(r,a._query).then(u=>new dc(e,o,a,u))}function Ig(a){a=ci(a,Ts);const e=ci(a.firestore,ji),r=yo(e),o=new Ku(e);return function Kf(a,e){const r=new A;return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(p,_,C){try{const V=yield dl(p,_,!0),J=new Nf(_,V.Ts),_e=J.ma(V.documents),Ze=J.applyChanges(_e,!1);C.resolve(Ze.snapshot)}catch(V){const J=jc(V,`Failed to execute query '${_} against cache`);C.reject(J)}}),function u(p,_,C){return o.apply(this,arguments)})(yield ac(a),e,r);var o})),r.promise}(r,a._query).then(u=>new dc(e,o,a,u))}function bg(a){a=ci(a,Ts);const e=ci(a.firestore,ji),r=yo(e),o=new Ku(e);return Fm(r,a._query,{source:"server"}).then(u=>new dc(e,o,a,u))}function r_(a,e,r){a=ci(a,Wo);const o=ci(a.firestore,ji),u=Kh(a.converter,e,r);return Ud(o,[Tl(td(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,L.none())])}function Tg(a,e,r,...o){a=ci(a,Wo);const u=ci(a.firestore,ji),p=td(u);let _;return _="string"==typeof(e=(0,Ae.m9)(e))||e instanceof lc?sp(p,"updateDoc",a._key,e,r,o):op(p,"updateDoc",a._key,e),Ud(u,[_.toMutation(a._key,L.exists(!0))])}function Iy(a){return Ud(ci(a.firestore,ji),[new Jo(a._key,L.none())])}function by(a,e){const r=ci(a.firestore,ji),o=Bm(a),u=Kh(a.converter,e);return Ud(r,[Tl(td(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,L.exists(!1))]).then(()=>o)}function Ty(a,...e){var r,o,u;a=(0,Ae.m9)(a);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof e[_]||Fh(e[_])||(p=e[_],_++);const C={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Fh(e[_])){const Ze=e[_];e[_]=null===(r=Ze.next)||void 0===r?void 0:r.bind(Ze),e[_+1]=null===(o=Ze.error)||void 0===o?void 0:o.bind(Ze),e[_+2]=null===(u=Ze.complete)||void 0===u?void 0:u.bind(Ze)}let V,J,_e;if(a instanceof Wo)J=ci(a.firestore,ji),_e=H(a._key.path),V={next:Ze=>{e[_]&&e[_](wg(J,a,Ze))},error:e[_+1],complete:e[_+2]};else{const Ze=ci(a,Ts);J=ci(Ze.firestore,ji),_e=Ze._query;const mt=new Ku(J);V={next:Ut=>{e[_]&&e[_](new dc(J,mt,Ze,Ut))},error:e[_+1],complete:e[_+2]},Wm(a._query)}return function(mt,Ut,on,Tn){const _n=new Uf(Tn),tr=new ic(Ut,_n,on);return mt.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Gc(yield uc(mt),tr)})),()=>{_n.Za(),mt.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return rc(yield uc(mt),tr)}))}}(yo(J),_e,C,V)}function i_(a,e){return function Yf(a,e){const r=new Uf(e);return a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return u=yield uc(a),p=r,he(u).Y_.add(p),void p.next();var u,p})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return u=yield uc(a),p=r,void he(u).Y_.delete(p);var u,p}))}}(yo(a=ci(a,ji)),Fh(e)?e:{next:e})}function Ud(a,e){return function(o,u){const p=new A;return o.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function ht(a,e,r){return qt.apply(this,arguments)}(yield Oh(o),u,p)})),p.promise}(yo(a),e)}function wg(a,e,r){const o=r.docs.get(e._key),u=new Ku(a);return new ia(a,u,e._key,o,new cc(r.hasPendingWrites,r.fromCache),e.converter)}const Sy={maxAttempts:5};class Cg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=td(e)}set(e,r,o){this._verifyNotCommitted();const u=hc(e,this._firestore),p=Kh(u.converter,r,o),_=Tl(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,L.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const p=hc(e,this._firestore);let _;return _="string"==typeof(r=(0,Ae.m9)(r))||r instanceof lc?sp(this._dataReader,"WriteBatch.update",p._key,r,o,u):op(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(_.toMutation(p._key,L.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=hc(e,this._firestore);return this._mutations=this._mutations.concat(new Jo(r._key,L.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hc(a,e){if((a=(0,Ae.m9)(a)).firestore!==e)throw new M(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Ry extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=td(r)}get(r){const o=hc(r,this._firestore),u=new my(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return xe();const _=p[0];if(_.isFoundDocument())return new zh(this._firestore,u,_.key,_,o.converter);if(_.isNoDocument())return new zh(this._firestore,u,o._key,null,o.converter);throw xe()})}set(r,o,u){const p=hc(r,this._firestore),_=Kh(p.converter,o,u),C=Tl(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,C),this}update(r,o,u,...p){const _=hc(r,this._firestore);let C;return C="string"==typeof(o=(0,Ae.m9)(o))||o instanceof lc?sp(this._dataReader,"Transaction.update",_._key,o,u,p):op(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,C),this}delete(r){const o=hc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=hc(e,this._firestore),o=new Ku(this._firestore);return super.get(e).then(u=>new ia(this._firestore,o,r._key,u._document,new cc(!1,!1),r.converter))}}function Ag(a,e,r){a=ci(a,ji);const o=Object.assign(Object.assign({},Sy),r);return function(p){if(p.maxAttempts<1)throw new M(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,_,C){const V=new A;return p.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const J=yield function Nm(a){return zf(a).then(e=>e.datastore)}(p);new Xv(p.asyncQueue,J,C,_,V).au()})),V.promise}(yo(a),u=>e(new Ry(a,u)),o)}function Py(){return new wl("deleteField")}function My(){return new ip("serverTimestamp")}function xy(...a){return new hg("arrayUnion",a)}function Oy(...a){return new fg("arrayRemove",a)}function Ny(a){return new pg("increment",a)}!function(e,r=!0){Ge=d.SDK_VERSION,(0,d._registerComponent)(new G.wA("firestore",(o,{instanceIdentifier:u,options:p})=>{const _=o.getProvider("app").getImmediate(),C=new ji(new He(o.getProvider("auth-internal")),new st(o.getProvider("app-check-internal")),function(J,_e){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new M(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xn(J.options.projectId,_e)}(_,u),_);return p=Object.assign({useFetchStreams:r},p),C._setSettings(p),C},"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(De,"4.7.3",e),(0,d.registerVersion)(De,"4.7.3","esm2017")}()},6961:(ln,gt,P)=>{"use strict";P.d(gt,{$Y:()=>pi,B0:()=>no,FN:()=>Oo,IX:()=>je,Jt:()=>ii,UJ:()=>sr,Ym:()=>ro,a1:()=>Fo,aF:()=>Di,bm:()=>un,cF:()=>To,g6:()=>io,gE:()=>be,gH:()=>ze,iH:()=>Co,oq:()=>bo,pb:()=>os,qm:()=>En,sd:()=>Qn,y4:()=>$e});var c=P(5861),d=P(9681),G=P(2090),ue=P(4859);const Ae="firebasestorage.googleapis.com",Fe="storageBucket";class fe extends G.ZR{constructor(ie,nt,ct=0){super(Se(ie),`Firebase Storage: ${nt} (${Se(ie)})`),this.status_=ct,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(ie){this.status_=ie}_codeEquals(ie){return Se(ie)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ie){this.customData.serverResponse=ie,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=(()=>((ae=ae||{}).UNKNOWN="unknown",ae.OBJECT_NOT_FOUND="object-not-found",ae.BUCKET_NOT_FOUND="bucket-not-found",ae.PROJECT_NOT_FOUND="project-not-found",ae.QUOTA_EXCEEDED="quota-exceeded",ae.UNAUTHENTICATED="unauthenticated",ae.UNAUTHORIZED="unauthorized",ae.UNAUTHORIZED_APP="unauthorized-app",ae.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ae.INVALID_CHECKSUM="invalid-checksum",ae.CANCELED="canceled",ae.INVALID_EVENT_NAME="invalid-event-name",ae.INVALID_URL="invalid-url",ae.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ae.NO_DEFAULT_BUCKET="no-default-bucket",ae.CANNOT_SLICE_BLOB="cannot-slice-blob",ae.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ae.NO_DOWNLOAD_URL="no-download-url",ae.INVALID_ARGUMENT="invalid-argument",ae.INVALID_ARGUMENT_COUNT="invalid-argument-count",ae.APP_DELETED="app-deleted",ae.INVALID_ROOT_OPERATION="invalid-root-operation",ae.INVALID_FORMAT="invalid-format",ae.INTERNAL_ERROR="internal-error",ae.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ae))();function Se(se){return"storage/"+se}function Ie(){return new fe(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ot(){return new fe(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yt(){return new fe(ae.CANCELED,"User canceled the upload/download.")}function Je(){return new fe(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ze(se){return new fe(ae.INVALID_ARGUMENT,se)}function Xe(){return new fe(ae.APP_DELETED,"The Firebase app was deleted.")}function $e(se){return new fe(ae.INVALID_ROOT_OPERATION,"The operation '"+se+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xe(se,ie){return new fe(ae.INVALID_FORMAT,"String does not match format '"+se+"': "+ie)}function lt(se){throw new fe(ae.INTERNAL_ERROR,"Internal error: "+se)}class be{constructor(ie,nt){this.bucket=ie,this.path_=nt}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ie=encodeURIComponent;return"/b/"+ie(this.bucket)+"/o/"+ie(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ie,nt){let ct;try{ct=be.makeFromUrl(ie,nt)}catch{return new be(ie,"")}if(""===ct.path)return ct;throw function Ke(se){return new fe(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+se+"'.")}(ie)}static makeFromUrl(ie,nt){let ct=null;const bt="([A-Za-z0-9.\\-_]+)",Ln=new RegExp("^gs://"+bt+"(/(.*))?$","i");function _r(mi){mi.path_=decodeURIComponent(mi.path)}const hr=nt.replace(/[.]/g,"\\."),Ci=[{regex:Ln,indices:{bucket:1,path:3},postModify:function $t(mi){"/"===mi.path.charAt(mi.path.length-1)&&(mi.path_=mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${hr}/v[A-Za-z0-9_]+/b/${bt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_r},{regex:new RegExp(`^https?://${nt===Ae?"(?:storage.googleapis.com|storage.cloud.google.com)":nt}/${bt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_r}];for(let mi=0;mi<Ci.length;mi++){const Ao=Ci[mi],Lo=Ao.regex.exec(ie);if(Lo){let ss=Lo[Ao.indices.path];ss||(ss=""),ct=new be(Lo[Ao.indices.bucket],ss),Ao.postModify(ct);break}}if(null==ct)throw function De(se){return new fe(ae.INVALID_URL,"Invalid URL '"+se+"'.")}(ie);return ct}}class he{constructor(ie){this.promise_=Promise.reject(ie)}getPromise(){return this.promise_}cancel(ie=!1){}}function pe(se){return"string"==typeof se||se instanceof String}function He(se){return We()&&se instanceof Blob}function We(){return typeof Blob<"u"}function Ue(se,ie,nt,ct){if(ct<ie)throw ze(`Invalid value for '${se}'. Expected ${ie} or greater.`);if(ct>nt)throw ze(`Invalid value for '${se}'. Expected ${nt} or less.`)}function it(se,ie,nt){let ct=ie;return null==nt&&(ct=`https://${ie}`),`${nt}://${ct}/v0${se}`}function st(se){const ie=encodeURIComponent;let nt="?";for(const ct in se)se.hasOwnProperty(ct)&&(nt=nt+(ie(ct)+"=")+ie(se[ct])+"&");return nt=nt.slice(0,-1),nt}var at=(()=>((at=at||{})[at.NO_ERROR=0]="NO_ERROR",at[at.NETWORK_ERROR=1]="NETWORK_ERROR",at[at.ABORT=2]="ABORT",at))();function Ct(se,ie){const nt=se>=500&&se<600,bt=-1!==[408,429].indexOf(se),$t=-1!==ie.indexOf(se);return nt||bt||$t}class Kt{constructor(ie,nt,ct,bt,$t,fn,Ln,bn,_r,or,hr,Bn=!0){this.url_=ie,this.method_=nt,this.headers_=ct,this.body_=bt,this.successCodes_=$t,this.additionalRetryCodes_=fn,this.callback_=Ln,this.errorCallback_=bn,this.timeout_=_r,this.progressCallback_=or,this.connectionFactory_=hr,this.retry=Bn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Gn,ui)=>{this.resolve_=Gn,this.reject_=ui,this.start_()})}start_(){const nt=(ct,bt)=>{const $t=this.resolve_,fn=this.reject_,Ln=bt.connection;if(bt.wasSuccessCode)try{const bn=this.callback_(Ln,Ln.getResponse());!function A(se){return void 0!==se}(bn)?$t():$t(bn)}catch(bn){fn(bn)}else if(null!==Ln){const bn=Ie();bn.serverResponse=Ln.getErrorText(),fn(this.errorCallback_?this.errorCallback_(Ln,bn):bn)}else fn(bt.canceled?this.appDelete_?Xe():yt():ot())};this.canceled_?nt(0,new Tt(!1,null,!0)):this.backoffId_=function Z(se,ie,nt){let ct=1,bt=null,$t=null,fn=!1,Ln=0;function bn(){return 2===Ln}let _r=!1;function or(...gi){_r||(_r=!0,ie.apply(null,gi))}function hr(gi){bt=setTimeout(()=>{bt=null,se(Gn,bn())},gi)}function Bn(){$t&&clearTimeout($t)}function Gn(gi,...Zi){if(_r)return void Bn();if(gi)return Bn(),void or.call(null,gi,...Zi);if(bn()||fn)return Bn(),void or.call(null,gi,...Zi);let Ci;ct<64&&(ct*=2),1===Ln?(Ln=2,Ci=0):Ci=1e3*(ct+Math.random()),hr(Ci)}let ui=!1;function kr(gi){ui||(ui=!0,Bn(),!_r&&(null!==bt?(gi||(Ln=2),clearTimeout(bt),hr(0)):gi||(Ln=1)))}return hr(0),$t=setTimeout(()=>{fn=!0,kr(!0)},nt),kr}((ct,bt)=>{if(bt)return void ct(!1,new Tt(!1,null,!0));const $t=this.connectionFactory_();this.pendingConnection_=$t;const fn=Ln=>{null!==this.progressCallback_&&this.progressCallback_(Ln.loaded,Ln.lengthComputable?Ln.total:-1)};null!==this.progressCallback_&&$t.addUploadProgressListener(fn),$t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&$t.removeUploadProgressListener(fn),this.pendingConnection_=null;const Ln=$t.getErrorCode()===at.NO_ERROR,bn=$t.getStatus();if(!Ln||Ct(bn,this.additionalRetryCodes_)&&this.retry){const or=$t.getErrorCode()===at.ABORT;return void ct(!1,new Tt(!1,null,or))}const _r=-1!==this.successCodes_.indexOf(bn);ct(!0,new Tt(_r,$t))})},nt,this.timeout_)}getPromise(){return this.promise_}cancel(ie){this.canceled_=!0,this.appDelete_=ie||!1,null!==this.backoffId_&&function M(se){se(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tt{constructor(ie,nt,ct){this.wasSuccessCode=ie,this.connection=nt,this.canceled=!!ct}}function xn(...se){const ie=function cn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ie){const nt=new ie;for(let ct=0;ct<se.length;ct++)nt.append(se[ct]);return nt.getBlob()}if(We())return new Blob(se);throw new fe(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wn{constructor(ie,nt){this.data=ie,this.contentType=nt||null}}function En(se,ie){switch(se){case un.RAW:return new wn(Zn(ie));case un.BASE64:case un.BASE64URL:return new wn(wr(se,ie));case un.DATA_URL:return new wn(function nr(se){const ie=new Dn(se);return ie.base64?wr(un.BASE64,ie.rest):function Nn(se){let ie;try{ie=decodeURIComponent(se)}catch{throw xe(un.DATA_URL,"Malformed data URL.")}return Zn(ie)}(ie.rest)}(ie),function yr(se){return new Dn(se).contentType}(ie))}throw Ie()}function Zn(se){const ie=[];for(let nt=0;nt<se.length;nt++){let ct=se.charCodeAt(nt);ct<=127?ie.push(ct):ct<=2047?ie.push(192|ct>>6,128|63&ct):55296==(64512&ct)?nt<se.length-1&&56320==(64512&se.charCodeAt(nt+1))?(ct=65536|(1023&ct)<<10|1023&se.charCodeAt(++nt),ie.push(240|ct>>18,128|ct>>12&63,128|ct>>6&63,128|63&ct)):ie.push(239,191,189):56320==(64512&ct)?ie.push(239,191,189):ie.push(224|ct>>12,128|ct>>6&63,128|63&ct)}return new Uint8Array(ie)}function wr(se,ie){switch(se){case un.BASE64:{const bt=-1!==ie.indexOf("-"),$t=-1!==ie.indexOf("_");if(bt||$t)throw xe(se,"Invalid character '"+(bt?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const bt=-1!==ie.indexOf("+"),$t=-1!==ie.indexOf("/");if(bt||$t)throw xe(se,"Invalid character '"+(bt?"+":"/")+"' found: is it base64 encoded?");ie=ie.replace(/-/g,"+").replace(/_/g,"/");break}}let nt;try{nt=function Jt(se){if(typeof atob>"u")throw function oe(se){return new fe(ae.UNSUPPORTED_ENVIRONMENT,`${se} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(se)}(ie)}catch(bt){throw bt.message.includes("polyfill")?bt:xe(se,"Invalid character found")}const ct=new Uint8Array(nt.length);for(let bt=0;bt<nt.length;bt++)ct[bt]=nt.charCodeAt(bt);return ct}class Dn{constructor(ie){this.base64=!1,this.contentType=null;const nt=ie.match(/^data:([^,]+)?,/);if(null===nt)throw xe(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ct=nt[1]||null;null!=ct&&(this.base64=function In(se,ie){return se.length>=ie.length&&se.substring(se.length-ie.length)===ie}(ct,";base64"),this.contentType=this.base64?ct.substring(0,ct.length-7):ct),this.rest=ie.substring(ie.indexOf(",")+1)}}class sr{constructor(ie,nt){let ct=0,bt="";He(ie)?(this.data_=ie,ct=ie.size,bt=ie.type):ie instanceof ArrayBuffer?(nt?this.data_=new Uint8Array(ie):(this.data_=new Uint8Array(ie.byteLength),this.data_.set(new Uint8Array(ie))),ct=this.data_.length):ie instanceof Uint8Array&&(nt?this.data_=ie:(this.data_=new Uint8Array(ie.length),this.data_.set(ie)),ct=ie.length),this.size_=ct,this.type_=bt}size(){return this.size_}type(){return this.type_}slice(ie,nt){if(He(this.data_)){const bt=function On(se,ie,nt){return se.webkitSlice?se.webkitSlice(ie,nt):se.mozSlice?se.mozSlice(ie,nt):se.slice?se.slice(ie,nt):null}(this.data_,ie,nt);return null===bt?null:new sr(bt)}{const ct=new Uint8Array(this.data_.buffer,ie,nt-ie);return new sr(ct,!0)}}static getBlob(...ie){if(We()){const nt=ie.map(ct=>ct instanceof sr?ct.data_:ct);return new sr(xn.apply(null,nt))}{const nt=ie.map(fn=>pe(fn)?En(un.RAW,fn).data:fn.data_);let ct=0;nt.forEach(fn=>{ct+=fn.byteLength});const bt=new Uint8Array(ct);let $t=0;return nt.forEach(fn=>{for(let Ln=0;Ln<fn.length;Ln++)bt[$t++]=fn[Ln]}),new sr(bt,!0)}}uploadData(){return this.data_}}function jn(se){let ie;try{ie=JSON.parse(se)}catch{return null}return function Oe(se){return"object"==typeof se&&!Array.isArray(se)}(ie)?ie:null}function fi(se){const ie=se.lastIndexOf("/",se.length-2);return-1===ie?se:se.slice(ie+1)}function wt(se,ie){return ie}class cr{constructor(ie,nt,ct,bt){this.server=ie,this.local=nt||ie,this.writable=!!ct,this.xform=bt||wt}}let pr=null;function qr(){if(pr)return pr;const se=[];se.push(new cr("bucket")),se.push(new cr("generation")),se.push(new cr("metageneration")),se.push(new cr("name","fullPath",!0));const nt=new cr("name");nt.xform=function ie($t,fn){return function vi(se){return!pe(se)||se.length<2?se:fi(se)}(fn)},se.push(nt);const bt=new cr("size");return bt.xform=function ct($t,fn){return void 0!==fn?Number(fn):fn},se.push(bt),se.push(new cr("timeCreated")),se.push(new cr("updated")),se.push(new cr("md5Hash",null,!0)),se.push(new cr("cacheControl",null,!0)),se.push(new cr("contentDisposition",null,!0)),se.push(new cr("contentEncoding",null,!0)),se.push(new cr("contentLanguage",null,!0)),se.push(new cr("contentType",null,!0)),se.push(new cr("metadata","customMetadata",!0)),pr=se,pr}function Cr(se,ie,nt){const ct=jn(ie);return null===ct?null:function vr(se,ie,nt){const ct={type:"file"},bt=nt.length;for(let $t=0;$t<bt;$t++){const fn=nt[$t];ct[fn.local]=fn.xform(ct,ie[fn.server])}return function ti(se,ie){Object.defineProperty(se,"ref",{get:function nt(){const $t=new be(se.bucket,se.fullPath);return ie._makeStorageReference($t)}})}(ct,se),ct}(se,ct,nt)}function dn(se,ie){const nt={},ct=ie.length;for(let bt=0;bt<ct;bt++){const $t=ie[bt];$t.writable&&(nt[$t.server]=se[$t.local])}return JSON.stringify(nt)}const et="prefixes",F="items";class K{constructor(ie,nt,ct,bt){this.url=ie,this.method=nt,this.handler=ct,this.timeout=bt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function z(se){if(!se)throw Ie()}function de(se,ie){return function nt(ct,bt){const $t=Cr(se,bt,ie);return z(null!==$t),$t}}function Ot(se){return function ie(nt,ct){let bt;return bt=401===nt.getStatus()?nt.getErrorText().includes("Firebase App Check token is invalid")?function Ce(){return new fe(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ve(){return new fe(ae.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===nt.getStatus()?function ye(se){return new fe(ae.QUOTA_EXCEEDED,"Quota for bucket '"+se+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(se.bucket):403===nt.getStatus()?function Pe(se){return new fe(ae.UNAUTHORIZED,"User does not have permission to access '"+se+"'.")}(se.path):ct,bt.status=nt.getStatus(),bt.serverResponse=ct.serverResponse,bt}}function Gt(se){const ie=Ot(se);return function nt(ct,bt){let $t=ie(ct,bt);return 404===ct.getStatus()&&($t=function ce(se){return new fe(ae.OBJECT_NOT_FOUND,"Object '"+se+"' does not exist.")}(se.path)),$t.serverResponse=bt.serverResponse,$t}}function Hn(se,ie,nt){const bt=it(ie.fullServerUrl(),se.host,se._protocol),fn=se.maxOperationRetryTime,Ln=new K(bt,"GET",de(se,nt),fn);return Ln.errorHandler=Gt(ie),Ln}function en(se,ie,nt,ct,bt){const $t={};$t.prefix=ie.isRoot?"":ie.path+"/",nt&&nt.length>0&&($t.delimiter=nt),ct&&($t.pageToken=ct),bt&&($t.maxResults=bt);const Ln=it(ie.bucketOnlyServerUrl(),se.host,se._protocol),_r=se.maxOperationRetryTime,or=new K(Ln,"GET",function ft(se,ie){return function nt(ct,bt){const $t=function $(se,ie,nt){const ct=jn(nt);return null===ct?null:function S(se,ie,nt){const ct={prefixes:[],items:[],nextPageToken:nt.nextPageToken};if(nt[et])for(const bt of nt[et]){const $t=bt.replace(/\/$/,""),fn=se._makeStorageReference(new be(ie,$t));ct.prefixes.push(fn)}if(nt[F])for(const bt of nt[F]){const $t=se._makeStorageReference(new be(ie,bt.name));ct.items.push($t)}return ct}(se,ie,ct)}(se,ie,bt);return z(null!==$t),$t}}(se,ie.bucket),_r);return or.urlParams=$t,or.errorHandler=Ot(ie),or}function Si(se,ie,nt){const ct=Object.assign({},nt);return ct.fullPath=se.path,ct.size=ie.size(),ct.contentType||(ct.contentType=function Ai(se,ie){return se&&se.contentType||ie&&ie.type()||"application/octet-stream"}(null,ie)),ct}class Tr{constructor(ie,nt,ct,bt){this.current=ie,this.total=nt,this.finalized=!!ct,this.metadata=bt||null}}function Yr(se,ie){let nt=null;try{nt=se.getResponseHeader("X-Goog-Upload-Status")}catch{z(!1)}return z(!!nt&&-1!==(ie||["active"]).indexOf(nt)),nt}const Oo={STATE_CHANGED:"state_changed"},pi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ei(se){switch(se){case"running":case"pausing":case"canceling":return pi.RUNNING;case"paused":return pi.PAUSED;case"success":return pi.SUCCESS;case"canceled":return pi.CANCELED;default:return pi.ERROR}}class No{constructor(ie,nt,ct){if(function j(se){return"function"==typeof se}(ie)||null!=nt||null!=ct)this.next=ie,this.error=nt??void 0,this.complete=ct??void 0;else{const $t=ie;this.next=$t.next,this.error=$t.error,this.complete=$t.complete}}}function Ki(se){return(...ie)=>{Promise.resolve().then(()=>se(...ie))}}let Mr=null;class Ii{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=at.NO_ERROR,this.sendPromise_=new Promise(ie=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=at.ABORT,ie()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=at.NETWORK_ERROR,ie()}),this.xhr_.addEventListener("load",()=>{ie()})})}send(ie,nt,ct,bt){if(this.sent_)throw lt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(nt,ie,!0),void 0!==bt)for(const $t in bt)bt.hasOwnProperty($t)&&this.xhr_.setRequestHeader($t,bt[$t].toString());return void 0!==ct?this.xhr_.send(ct):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ie){return this.xhr_.getResponseHeader(ie)}addUploadProgressListener(ie){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ie)}removeUploadProgressListener(ie){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ie)}}class Vi extends Ii{initXhr(){this.xhr_.responseType="text"}}function di(){return Mr?Mr():new Vi}class je{constructor(ie,nt,ct=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ie,this._blob=nt,this._metadata=ct,this._mappings=qr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=bt=>{if(this._request=void 0,this._chunkMultiplier=1,bt._codeEquals(ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const $t=this.isExponentialBackoffExpired();if(Ct(bt.status,[])){if(!$t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();bt=ot()}this._error=bt,this._transition("error")}},this._metadataErrorHandler=bt=>{this._request=void 0,bt._codeEquals(ae.CANCELED)?this.completeTransitions_():(this._error=bt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((bt,$t)=>{this._resolve=bt,this._reject=$t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ie=this._transferred;return nt=>this._updateProgress(ie+nt)}_shouldDoResumable(ie){return ie.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ie){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([nt,ct])=>{switch(this._state){case"running":ie(nt,ct);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ie,nt)=>{const ct=function Eo(se,ie,nt,ct,bt){const $t=ie.bucketOnlyServerUrl(),fn=Si(ie,ct,bt),Ln={name:fn.fullPath},bn=it($t,se.host,se._protocol),or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ct.size()}`,"X-Goog-Upload-Header-Content-Type":fn.contentType,"Content-Type":"application/json; charset=utf-8"},hr=dn(fn,nt),ui=new K(bn,"POST",function Gn(kr){let gi;Yr(kr);try{gi=kr.getResponseHeader("X-Goog-Upload-URL")}catch{z(!1)}return z(pe(gi)),gi},se.maxUploadRetryTime);return ui.urlParams=Ln,ui.headers=or,ui.body=hr,ui.errorHandler=Ot(ie),ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),bt=this._ref.storage._makeRequest(ct,di,ie,nt);this._request=bt,bt.getPromise().then($t=>{this._request=void 0,this._uploadUrl=$t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ie=this._uploadUrl;this._resolveToken((nt,ct)=>{const bt=function Wr(se,ie,nt,ct){const bn=new K(nt,"POST",function $t(_r){const or=Yr(_r,["active","final"]);let hr=null;try{hr=_r.getResponseHeader("X-Goog-Upload-Size-Received")}catch{z(!1)}hr||z(!1);const Bn=Number(hr);return z(!isNaN(Bn)),new Tr(Bn,ct.size(),"final"===or)},se.maxUploadRetryTime);return bn.headers={"X-Goog-Upload-Command":"query"},bn.errorHandler=Ot(ie),bn}(this._ref.storage,this._ref._location,ie,this._blob),$t=this._ref.storage._makeRequest(bt,di,nt,ct);this._request=$t,$t.getPromise().then(fn=>{this._request=void 0,this._updateProgress(fn.current),this._needToFetchStatus=!1,fn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ie=262144*this._chunkMultiplier,nt=new Tr(this._transferred,this._blob.size()),ct=this._uploadUrl;this._resolveToken((bt,$t)=>{let fn;try{fn=function dr(se,ie,nt,ct,bt,$t,fn,Ln){const bn=new Tr(0,0);if(fn?(bn.current=fn.current,bn.total=fn.total):(bn.current=0,bn.total=ct.size()),ct.size()!==bn.total)throw function Ye(){return new fe(ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _r=bn.total-bn.current;let or=_r;bt>0&&(or=Math.min(or,bt));const hr=bn.current;let Gn="";Gn=0===or?"finalize":_r===or?"upload, finalize":"upload";const ui={"X-Goog-Upload-Command":Gn,"X-Goog-Upload-Offset":`${bn.current}`},kr=ct.slice(hr,hr+or);if(null===kr)throw Je();const Ci=new K(nt,"POST",function gi(mi,Ao){const Lo=Yr(mi,["active","final"]),qs=bn.current+or,ss=ct.size();let v;return v="final"===Lo?de(ie,$t)(mi,Ao):null,new Tr(qs,ss,"final"===Lo,v)},ie.maxUploadRetryTime);return Ci.headers=ui,Ci.body=kr.uploadData(),Ci.progressCallback=Ln||null,Ci.errorHandler=Ot(se),Ci}(this._ref._location,this._ref.storage,ct,this._blob,ie,this._mappings,nt,this._makeProgressCallback())}catch(bn){return this._error=bn,void this._transition("error")}const Ln=this._ref.storage._makeRequest(fn,di,bt,$t,!1);this._request=Ln,Ln.getPromise().then(bn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(bn.current),bn.finalized?(this._metadata=bn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ie,nt)=>{const ct=Hn(this._ref.storage,this._ref._location,this._mappings),bt=this._ref.storage._makeRequest(ct,di,ie,nt);this._request=bt,bt.getPromise().then($t=>{this._request=void 0,this._metadata=$t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ie,nt)=>{const ct=function Pr(se,ie,nt,ct,bt){const $t=ie.bucketOnlyServerUrl(),fn={"X-Goog-Upload-Protocol":"multipart"},bn=function Ln(){let Ci="";for(let mi=0;mi<2;mi++)Ci+=Math.random().toString().slice(2);return Ci}();fn["Content-Type"]="multipart/related; boundary="+bn;const _r=Si(ie,ct,bt),or=dn(_r,nt),Gn=sr.getBlob("--"+bn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+or+"\r\n--"+bn+"\r\nContent-Type: "+_r.contentType+"\r\n\r\n",ct,"\r\n--"+bn+"--");if(null===Gn)throw Je();const ui={name:_r.fullPath},kr=it($t,se.host,se._protocol),Zi=se.maxUploadRetryTime,bi=new K(kr,"POST",de(se,nt),Zi);return bi.urlParams=ui,bi.headers=fn,bi.body=Gn.uploadData(),bi.errorHandler=Ot(ie),bi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),bt=this._ref.storage._makeRequest(ct,di,ie,nt);this._request=bt,bt.getPromise().then($t=>{this._request=void 0,this._metadata=$t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ie){const nt=this._transferred;this._transferred=ie,this._transferred!==nt&&this._notifyObservers()}_transition(ie){if(this._state!==ie)switch(ie){case"canceling":case"pausing":this._state=ie,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const nt="paused"===this._state;this._state=ie,nt&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ie,this._notifyObservers();break;case"canceled":this._error=yt(),this._state=ie,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ie=Ei(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ie,metadata:this._metadata,task:this,ref:this._ref}}on(ie,nt,ct,bt){const $t=new No(nt||void 0,ct||void 0,bt||void 0);return this._addObserver($t),()=>{this._removeObserver($t)}}then(ie,nt){return this._promise.then(ie,nt)}catch(ie){return this.then(null,ie)}_addObserver(ie){this._observers.push(ie),this._notifyObserver(ie)}_removeObserver(ie){const nt=this._observers.indexOf(ie);-1!==nt&&this._observers.splice(nt,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(nt=>{this._notifyObserver(nt)})}_finishPromise(){if(void 0!==this._resolve){let ie=!0;switch(Ei(this._state)){case pi.SUCCESS:Ki(this._resolve.bind(null,this.snapshot))();break;case pi.CANCELED:case pi.ERROR:Ki(this._reject.bind(null,this._error))();break;default:ie=!1}ie&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ie){switch(Ei(this._state)){case pi.RUNNING:case pi.PAUSED:ie.next&&Ki(ie.next.bind(ie,this.snapshot))();break;case pi.SUCCESS:ie.complete&&Ki(ie.complete.bind(ie))();break;default:ie.error&&Ki(ie.error.bind(ie,this._error))()}}resume(){const ie="paused"===this._state||"pausing"===this._state;return ie&&this._transition("running"),ie}pause(){const ie="running"===this._state;return ie&&this._transition("pausing"),ie}cancel(){const ie="running"===this._state||"pausing"===this._state;return ie&&this._transition("canceling"),ie}}class _t{constructor(ie,nt){this._service=ie,this._location=nt instanceof be?nt:be.makeFromUrl(nt,ie.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ie,nt){return new _t(ie,nt)}get root(){const ie=new be(this._location.bucket,"");return this._newRef(this._service,ie)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fi(this._location.path)}get storage(){return this._service}get parent(){const ie=function rr(se){if(0===se.length)return null;const ie=se.lastIndexOf("/");return-1===ie?"":se.slice(0,ie)}(this._location.path);if(null===ie)return null;const nt=new be(this._location.bucket,ie);return new _t(this._service,nt)}_throwIfRoot(ie){if(""===this._location.path)throw $e(ie)}}function tn(se,ie,nt){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(se,ie,nt){const bt=yield Mn(se,{pageToken:nt});ie.prefixes.push(...bt.prefixes),ie.items.push(...bt.items),null!=bt.nextPageToken&&(yield tn(se,ie,bt.nextPageToken))})).apply(this,arguments)}function Mn(se,ie){null!=ie&&"number"==typeof ie.maxResults&&Ue("options.maxResults",1,1e3,ie.maxResults);const nt=ie||{},ct=en(se.storage,se._location,"/",nt.pageToken,nt.maxResults);return se.storage.makeRequestWithTokens(ct,di)}function Fr(se){se._throwIfRoot("getDownloadURL");const ie=function fr(se,ie,nt){const bt=it(ie.fullServerUrl(),se.host,se._protocol),fn=se.maxOperationRetryTime,Ln=new K(bt,"GET",function St(se,ie){return function nt(ct,bt){const $t=Cr(se,bt,ie);return z(null!==$t),function Kn(se,ie,nt,ct){const bt=jn(ie);if(null===bt||!pe(bt.downloadTokens))return null;const $t=bt.downloadTokens;if(0===$t.length)return null;const fn=encodeURIComponent;return $t.split(",").map(_r=>{const hr=se.fullPath;return it("/b/"+fn(se.bucket)+"/o/"+fn(hr),nt,ct)+st({alt:"media",token:_r})})[0]}($t,bt,se.host,se._protocol)}}(se,nt),fn);return Ln.errorHandler=Gt(ie),Ln}(se.storage,se._location,qr());return se.storage.makeRequestWithTokens(ie,di).then(nt=>{if(null===nt)throw function Me(){return new fe(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return nt})}function Ar(se,ie){const nt=function Dr(se,ie){const nt=ie.split("/").filter(ct=>ct.length>0).join("/");return 0===se.length?nt:se+"/"+nt}(se._location.path,ie),ct=new be(se._location.bucket,nt);return new _t(se.storage,ct)}function ho(se,ie){if(se instanceof mr){const nt=se;if(null==nt._bucket)throw function Ge(){return new fe(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fe+"' property when initializing the app?")}();const ct=new _t(nt,nt._bucket);return null!=ie?ho(ct,ie):ct}return void 0!==ie?Ar(se,ie):se}function Lr(se,ie){if(ie&&function Ur(se){return/^[A-Za-z]+:\/\//.test(se)}(ie)){if(se instanceof mr)return function Zr(se,ie){return new _t(se,ie)}(se,ie);throw ze("To use ref(service, url), the first argument must be a Storage instance.")}return ho(se,ie)}function Sn(se,ie){const nt=ie?.[Fe];return null==nt?null:be.makeFromBucketSpec(nt,se)}class mr{constructor(ie,nt,ct,bt,$t){this.app=ie,this._authProvider=nt,this._appCheckProvider=ct,this._url=bt,this._firebaseVersion=$t,this._bucket=null,this._host=Ae,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=bt?be.makeFromBucketSpec(bt,this._host):Sn(this._host,this.app.options)}get host(){return this._host}set host(ie){this._host=ie,this._bucket=null!=this._url?be.makeFromBucketSpec(this._url,ie):Sn(ie,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ie){Ue("time",0,Number.POSITIVE_INFINITY,ie),this._maxUploadRetryTime=ie}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ie){Ue("time",0,Number.POSITIVE_INFINITY,ie),this._maxOperationRetryTime=ie}_getAuthToken(){var ie=this;return(0,c.Z)(function*(){if(ie._overrideAuthToken)return ie._overrideAuthToken;const nt=ie._authProvider.getImmediate({optional:!0});if(nt){const ct=yield nt.getToken();if(null!==ct)return ct.accessToken}return null})()}_getAppCheckToken(){var ie=this;return(0,c.Z)(function*(){const nt=ie._appCheckProvider.getImmediate({optional:!0});return nt?(yield nt.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ie=>ie.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ie){return new _t(this,ie)}_makeRequest(ie,nt,ct,bt,$t=!0){if(this._deleted)return new he(Xe());{const fn=function kt(se,ie,nt,ct,bt,$t,fn=!0){const Ln=st(se.urlParams),bn=se.url+Ln,_r=Object.assign({},se.headers);return function xt(se,ie){ie&&(se["X-Firebase-GMPID"]=ie)}(_r,ie),function gn(se,ie){null!==ie&&ie.length>0&&(se.Authorization="Firebase "+ie)}(_r,nt),function yn(se,ie){se["X-Firebase-Storage-Version"]="webjs/"+(ie??"AppManager")}(_r,$t),function Ht(se,ie){null!==ie&&(se["X-Firebase-AppCheck"]=ie)}(_r,ct),new Kt(bn,se.method,_r,se.body,se.successCodes,se.additionalRetryCodes,se.handler,se.errorHandler,se.timeout,se.progressCallback,bt,fn)}(ie,this._appId,ct,bt,nt,this._firebaseVersion,$t);return this._requests.add(fn),fn.getPromise().then(()=>this._requests.delete(fn),()=>this._requests.delete(fn)),fn}}makeRequestWithTokens(ie,nt){var ct=this;return(0,c.Z)(function*(){const[bt,$t]=yield Promise.all([ct._getAuthToken(),ct._getAppCheckToken()]);return ct._makeRequest(ie,nt,bt,$t).getPromise()})()}}const Bi="@firebase/storage",zr="storage";function no(se,ie,nt){return function Vt(se,ie,nt){return se._throwIfRoot("uploadBytesResumable"),new je(se,new sr(ie),nt)}(se=(0,G.m9)(se),ie,nt)}function Qn(se){return function qn(se){se._throwIfRoot("getMetadata");const ie=Hn(se.storage,se._location,qr());return se.storage.makeRequestWithTokens(ie,di)}(se=(0,G.m9)(se))}function ro(se,ie){return function er(se,ie){se._throwIfRoot("updateMetadata");const nt=function $r(se,ie,nt,ct){const $t=it(ie.fullServerUrl(),se.host,se._protocol),Ln=dn(nt,ct),_r=se.maxOperationRetryTime,or=new K($t,"PATCH",de(se,ct),_r);return or.headers={"Content-Type":"application/json; charset=utf-8"},or.body=Ln,or.errorHandler=Gt(ie),or}(se.storage,se._location,ie,qr());return se.storage.makeRequestWithTokens(nt,di)}(se=(0,G.m9)(se),ie)}function os(se,ie){return Mn(se=(0,G.m9)(se),ie)}function Di(se){return function Yt(se){const ie={prefixes:[],items:[]};return tn(se,ie).then(()=>ie)}(se=(0,G.m9)(se))}function ii(se){return Fr(se=(0,G.m9)(se))}function bo(se){return function ai(se){se._throwIfRoot("deleteObject");const ie=function ni(se,ie){const ct=it(ie.fullServerUrl(),se.host,se._protocol),Ln=new K(ct,"DELETE",function fn(bn,_r){},se.maxOperationRetryTime);return Ln.successCodes=[200,204],Ln.errorHandler=Gt(ie),Ln}(se.storage,se._location);return se.storage.makeRequestWithTokens(ie,di)}(se=(0,G.m9)(se))}function Co(se,ie){return Lr(se=(0,G.m9)(se),ie)}function io(se,ie){return Ar(se,ie)}function To(se=(0,d.getApp)(),ie){se=(0,G.m9)(se);const ct=(0,d._getProvider)(se,zr).getImmediate({identifier:ie}),bt=(0,G.P0)("storage");return bt&&Fo(ct,...bt),ct}function Fo(se,ie,nt,ct={}){!function Xn(se,ie,nt,ct={}){se.host=`${ie}:${nt}`,se._protocol="http";const{mockUserToken:bt}=ct;bt&&(se._overrideAuthToken="string"==typeof bt?bt:(0,G.Sg)(bt,se.app.options.projectId))}(se,ie,nt,ct)}function Yi(se,{instanceIdentifier:ie}){const nt=se.getProvider("app").getImmediate(),ct=se.getProvider("auth-internal"),bt=se.getProvider("app-check-internal");return new mr(nt,ct,bt,ie,d.SDK_VERSION)}!function po(){(0,d._registerComponent)(new ue.wA(zr,Yi,"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(Bi,"0.13.2",""),(0,d.registerVersion)(Bi,"0.13.2","esm2017")}()},2090:(ln,gt,P)=>{"use strict";P.d(gt,{$s:()=>Cr,BH:()=>Ge,G6:()=>A,L:()=>Qe,LL:()=>Ue,L_:()=>$e,P0:()=>yt,Pz:()=>Ke,Rd:()=>ce,Sg:()=>Je,UG:()=>oe,ZB:()=>Se,ZR:()=>We,aH:()=>De,b$:()=>lt,eu:()=>Oe,hl:()=>j,jU:()=>ze,m9:()=>et,n2:()=>Xe,ne:()=>wr,pd:()=>Zn,q4:()=>ot,r3:()=>Ht,ru:()=>xe,tV:()=>fe,uI:()=>Me,vZ:()=>On,w1:()=>he,xO:()=>wn,xb:()=>cn,z$:()=>Ye,zI:()=>pe,zd:()=>En});const ue=function(F){const S=[];let $=0;for(let K=0;K<F.length;K++){let z=F.charCodeAt(K);z<128?S[$++]=z:z<2048?(S[$++]=z>>6|192,S[$++]=63&z|128):55296==(64512&z)&&K+1<F.length&&56320==(64512&F.charCodeAt(K+1))?(z=65536+((1023&z)<<10)+(1023&F.charCodeAt(++K)),S[$++]=z>>18|240,S[$++]=z>>12&63|128,S[$++]=z>>6&63|128,S[$++]=63&z|128):(S[$++]=z>>12|224,S[$++]=z>>6&63|128,S[$++]=63&z|128)}return S},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,S){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let z=0;z<F.length;z+=3){const de=F[z],ft=z+1<F.length,St=ft?F[z+1]:0,Ot=z+2<F.length,Gt=Ot?F[z+2]:0;let ir=(15&St)<<2|Gt>>6,fr=63&Gt;Ot||(fr=64,ft||(ir=64)),K.push($[de>>2],$[(3&de)<<4|St>>4],$[ir],$[fr])}return K.join("")},encodeString(F,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(F):this.encodeByteArray(ue(F),S)},decodeString(F,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(F):function(F){const S=[];let $=0,K=0;for(;$<F.length;){const z=F[$++];if(z<128)S[K++]=String.fromCharCode(z);else if(z>191&&z<224){const de=F[$++];S[K++]=String.fromCharCode((31&z)<<6|63&de)}else if(z>239&&z<365){const Ot=((7&z)<<18|(63&F[$++])<<12|(63&F[$++])<<6|63&F[$++])-65536;S[K++]=String.fromCharCode(55296+(Ot>>10)),S[K++]=String.fromCharCode(56320+(1023&Ot))}else{const de=F[$++],ft=F[$++];S[K++]=String.fromCharCode((15&z)<<12|(63&de)<<6|63&ft)}}return S.join("")}(this.decodeStringToByteArray(F,S))},decodeStringToByteArray(F,S){this.init_();const $=S?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let z=0;z<F.length;){const de=$[F.charAt(z++)],St=z<F.length?$[F.charAt(z)]:0;++z;const Gt=z<F.length?$[F.charAt(z)]:64;++z;const en=z<F.length?$[F.charAt(z)]:64;if(++z,null==de||null==St||null==Gt||null==en)throw new le;K.push(de<<2|St>>4),64!==Gt&&(K.push(St<<4&240|Gt>>2),64!==en&&K.push(Gt<<6&192|en))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qe=function(F){return function(F){const S=ue(F);return Fe.encodeByteArray(S,!0)}(F).replace(/\./g,"")},fe=function(F){try{return Fe.decodeString(F,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Se(F,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return S}for(const $ in S)!S.hasOwnProperty($)||!Ie($)||(F[$]=Se(F[$],S[$]));return F}function Ie(F){return"__proto__"!==F}function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pe=()=>{try{return ce().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=F&&fe(F[1]);return S&&JSON.parse(S)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},ot=F=>{var S,$;return null===($=null===(S=Pe())||void 0===S?void 0:S.emulatorHosts)||void 0===$?void 0:$[F]},yt=F=>{const S=ot(F);if(!S)return;const $=S.lastIndexOf(":");if($<=0||$+1===S.length)throw new Error(`Invalid host ${S} with no separate hostname and port!`);const K=parseInt(S.substring($+1),10);return"["===S[0]?[S.substring(1,$-1),K]:[S.substring(0,$),K]},De=()=>{var F;return null===(F=Pe())||void 0===F?void 0:F.config},Ke=F=>{var S;return null===(S=Pe())||void 0===S?void 0:S[`_${F}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,$)=>{this.resolve=S,this.reject=$})}wrapCallback(S){return($,K)=>{$?this.reject($):this.resolve(K),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S($):S($,K))}}}function Je(F,S){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=S||"demo-project",z=F.iat||0,de=F.sub||F.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:z,exp:z+3600,auth_time:z,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(ft)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function oe(){var F;const S=null===(F=Pe())||void 0===F?void 0:F.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return typeof window<"u"||Xe()}function Xe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function $e(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function xe(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function he(){const F=Ye();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function A(){return!oe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((F,S)=>{try{let $=!0;const K="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(K);z.onsuccess=()=>{z.result.close(),$||self.indexedDB.deleteDatabase(K),F(!0)},z.onupgradeneeded=()=>{$=!1},z.onerror=()=>{var de;S((null===(de=z.error)||void 0===de?void 0:de.message)||"")}}catch($){S($)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class We extends Error{constructor(S,$,K){super($),this.code=S,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(S,$,K){this.service=S,this.serviceName=$,this.errors=K}create(S,...$){const K=$[0]||{},z=`${this.service}/${S}`,de=this.errors[S],ft=de?function it(F,S){return F.replace(st,($,K)=>{const z=S[K];return null!=z?String(z):`<${K}?>`})}(de,K):"Error";return new We(z,`${this.serviceName}: ${ft} (${z}).`,K)}}const st=/\{\$([^}]+)}/g;function Ht(F,S){return Object.prototype.hasOwnProperty.call(F,S)}function cn(F){for(const S in F)if(Object.prototype.hasOwnProperty.call(F,S))return!1;return!0}function On(F,S){if(F===S)return!0;const $=Object.keys(F),K=Object.keys(S);for(const z of $){if(!K.includes(z))return!1;const de=F[z],ft=S[z];if(Jt(de)&&Jt(ft)){if(!On(de,ft))return!1}else if(de!==ft)return!1}for(const z of K)if(!$.includes(z))return!1;return!0}function Jt(F){return null!==F&&"object"==typeof F}function wn(F){const S=[];for(const[$,K]of Object.entries(F))Array.isArray(K)?K.forEach(z=>{S.push(encodeURIComponent($)+"="+encodeURIComponent(z))}):S.push(encodeURIComponent($)+"="+encodeURIComponent(K));return S.length?"&"+S.join("&"):""}function En(F){const S={};return F.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[z,de]=K.split("=");S[decodeURIComponent(z)]=decodeURIComponent(de)}}),S}function Zn(F){const S=F.indexOf("?");if(!S)return"";const $=F.indexOf("#",S);return F.substring(S,$>0?$:void 0)}function wr(F,S){const $=new Dn(F,S);return $.subscribe.bind($)}class Dn{constructor(S,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{S(this)}).catch(K=>{this.error(K)})}next(S){this.forEachObserver($=>{$.next(S)})}error(S){this.forEachObserver($=>{$.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,$,K){let z;if(void 0===S&&void 0===$&&void 0===K)throw new Error("Missing Observer.");z=function yr(F,S){if("object"!=typeof F||null===F)return!1;for(const $ of S)if($ in F&&"function"==typeof F[$])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:$,complete:K},void 0===z.next&&(z.next=In),void 0===z.error&&(z.error=In),void 0===z.complete&&(z.complete=In);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),de}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,S)}sendOne(S,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{$(this.observers[S])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const vi=1e3,qr=2,ti=144e5,vr=.5;function Cr(F,S=vi,$=qr){const K=S*Math.pow($,F),z=Math.round(vr*K*(Math.random()-.5)*2);return Math.min(ti,K+z)}function et(F){return F&&F._delegate?F._delegate:F}},8127:(ln,gt,P)=>{"use strict";P.d(gt,{c:()=>Ve});var c=P(4110),d=P(6655);let G;const Ae=Ce=>Ce.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fe=Ce=>(void 0===G&&(G=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),G),le=(Ce,Pe,ot)=>{const yt=Pe.startsWith("animation")?Fe(Ce):"";Ce.style.setProperty(yt+Pe,ot)},qe=(Ce,Pe)=>{const ot=Pe.startsWith("animation")?Fe(Ce):"";Ce.style.removeProperty(ot+Pe)},ae=[],ye=(Ce=[],Pe)=>{if(void 0!==Pe){const ot=Array.isArray(Pe)?Pe:[Pe];return[...Ce,...ot]}return Ce},Ve=Ce=>{let Pe,ot,yt,De,Ke,Ge,ze,M,A,j,Oe,Ue,it,Je=[],Ye=[],Me=[],oe=!1,Xe={},$e=[],xe=[],lt={},be=0,he=!1,Z=!1,pe=!0,He=!1,We=!0,st=!1;const at=Ce,Ct=[],Kt=[],Tt=[],gn=[],yn=[],xt=[],Ht=[],kt=[],cn=[],xn=[],On="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Jt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&On,wn=()=>xn,Dn=(Ne,ut)=>((ut?.oneTimeCallback?Kt:Ct).push({c:Ne,o:ut}),it),yr=()=>{if(Jt)xn.forEach(Ne=>{Ne.cancel()}),xn.length=0;else{const Ne=Tt.slice();(0,d.r)(()=>{Ne.forEach(ut=>{qe(ut,"animation-name"),qe(ut,"animation-duration"),qe(ut,"animation-timing-function"),qe(ut,"animation-iteration-count"),qe(ut,"animation-delay"),qe(ut,"animation-play-state"),qe(ut,"animation-fill-mode"),qe(ut,"animation-direction")})})}},In=()=>{yn.forEach(Ne=>{Ne?.parentNode&&Ne.parentNode.removeChild(Ne)}),yn.length=0},Cr=()=>void 0!==Ke?Ke:ze?ze.getFill():"both",Kn=()=>void 0!==A?A:void 0!==Ge?Ge:ze?ze.getDirection():"normal",dn=()=>he?"linear":void 0!==yt?yt:ze?ze.getEasing():"linear",et=()=>Z?0:void 0!==j?j:void 0!==ot?ot:ze?ze.getDuration():0,F=()=>void 0!==De?De:ze?ze.getIterations():1,S=()=>void 0!==Oe?Oe:void 0!==Pe?Pe:ze?ze.getDelay():0,Ai=()=>{0!==be&&(be--,0===be&&((()=>{Mr(),kt.forEach(Ft=>Ft()),cn.forEach(Ft=>Ft());const Ne=pe?1:0,ut=$e,dt=xe,Vt=lt;Tt.forEach(Ft=>{const Yt=Ft.classList;ut.forEach(tn=>Yt.add(tn)),dt.forEach(tn=>Yt.remove(tn));for(const tn in Vt)Vt.hasOwnProperty(tn)&&le(Ft,tn,Vt[tn])}),Ct.forEach(Ft=>Ft.c(Ne,it)),Kt.forEach(Ft=>Ft.c(Ne,it)),Kt.length=0,We=!0,pe&&(He=!0),pe=!0})(),ze&&ze.animationFinish()))},Si=(Ne=!0)=>{In();const ut=(Ce=>(Ce.forEach(Pe=>{for(const ot in Pe)if(Pe.hasOwnProperty(ot)){const yt=Pe[ot];if("easing"===ot)Pe["animation-timing-function"]=yt,delete Pe[ot];else{const De=Ae(ot);De!==ot&&(Pe[De]=yt,delete Pe[ot])}}}),Ce))(Je);Tt.forEach(dt=>{if(ut.length>0){const Vt=((Ce=[])=>Ce.map(Pe=>{const ot=Pe.offset,yt=[];for(const De in Pe)Pe.hasOwnProperty(De)&&"offset"!==De&&yt.push(`${De}: ${Pe[De]};`);return`${100*ot}% { ${yt.join(" ")} }`}).join(" "))(ut);Ue=void 0!==Ce?Ce:(Ce=>{let Pe=ae.indexOf(Ce);return Pe<0&&(Pe=ae.push(Ce)-1),`ion-animation-${Pe}`})(Vt);const Ft=((Ce,Pe,ot)=>{var yt;const De=(Ce=>{const Pe=void 0!==Ce.getRootNode?Ce.getRootNode():Ce;return Pe.head||Pe})(ot),Ke=Fe(ot),Ge=De.querySelector("#"+Ce);if(Ge)return Ge;const Je=(null!==(yt=ot.ownerDocument)&&void 0!==yt?yt:document).createElement("style");return Je.id=Ce,Je.textContent=`@${Ke}keyframes ${Ce} { ${Pe} } @${Ke}keyframes ${Ce}-alt { ${Pe} }`,De.appendChild(Je),Je})(Ue,Vt,dt);yn.push(Ft),le(dt,"animation-duration",`${et()}ms`),le(dt,"animation-timing-function",dn()),le(dt,"animation-delay",`${S()}ms`),le(dt,"animation-fill-mode",Cr()),le(dt,"animation-direction",Kn());const Yt=F()===1/0?"infinite":F().toString();le(dt,"animation-iteration-count",Yt),le(dt,"animation-play-state","paused"),Ne&&le(dt,"animation-name",`${Ft.id}-alt`),(0,d.r)(()=>{le(dt,"animation-name",Ft.id||null)})}})},Tr=(Ne=!0)=>{(()=>{xt.forEach(Vt=>Vt()),Ht.forEach(Vt=>Vt());const Ne=Ye,ut=Me,dt=Xe;Tt.forEach(Vt=>{const Ft=Vt.classList;Ne.forEach(Yt=>Ft.add(Yt)),ut.forEach(Yt=>Ft.remove(Yt));for(const Yt in dt)dt.hasOwnProperty(Yt)&&le(Vt,Yt,dt[Yt])})})(),Je.length>0&&(Jt?(Tt.forEach(Ne=>{const ut=Ne.animate(Je,{id:at,delay:S(),duration:et(),easing:dn(),iterations:F(),fill:Cr(),direction:Kn()});ut.pause(),xn.push(ut)}),xn.length>0&&(xn[0].onfinish=()=>{Ai()})):Si(Ne)),oe=!0},Yr=Ne=>{if(Ne=Math.min(Math.max(Ne,0),.9999),Jt)xn.forEach(ut=>{ut.currentTime=ut.effect.getComputedTiming().delay+et()*Ne,ut.pause()});else{const ut=`-${et()*Ne}ms`;Tt.forEach(dt=>{Je.length>0&&(le(dt,"animation-delay",ut),le(dt,"animation-play-state","paused"))})}},Eo=Ne=>{xn.forEach(ut=>{ut.effect.updateTiming({delay:S(),duration:et(),easing:dn(),iterations:F(),fill:Cr(),direction:Kn()})}),void 0!==Ne&&Yr(Ne)},Wr=(Ne=!0,ut)=>{(0,d.r)(()=>{Tt.forEach(dt=>{le(dt,"animation-name",Ue||null),le(dt,"animation-duration",`${et()}ms`),le(dt,"animation-timing-function",dn()),le(dt,"animation-delay",void 0!==ut?`-${ut*et()}ms`:`${S()}ms`),le(dt,"animation-fill-mode",Cr()||null),le(dt,"animation-direction",Kn()||null);const Vt=F()===1/0?"infinite":F().toString();le(dt,"animation-iteration-count",Vt),Ne&&le(dt,"animation-name",`${Ue}-alt`),(0,d.r)(()=>{le(dt,"animation-name",Ue||null)})})})},gr=(Ne=!1,ut=!0,dt)=>(Ne&&gn.forEach(Vt=>{Vt.update(Ne,ut,dt)}),Jt?Eo(dt):Wr(ut,dt),it),Ei=()=>{oe&&(Jt?xn.forEach(Ne=>{Ne.pause()}):Tt.forEach(Ne=>{le(Ne,"animation-play-state","paused")}),st=!0)},Ki=()=>{M=void 0,Ai()},Mr=()=>{M&&clearTimeout(M)},co=Ne=>new Promise(ut=>{Ne?.sync&&(Z=!0,Dn(()=>Z=!1,{oneTimeCallback:!0})),oe||Tr(),He&&(Jt?(Yr(0),Eo()):Wr(),He=!1),We&&(be=gn.length+1,We=!1),Dn(()=>ut(),{oneTimeCallback:!0}),gn.forEach(dt=>{dt.play()}),Jt?(xn.forEach(Ne=>{Ne.play()}),(0===Je.length||0===Tt.length)&&Ai()):(()=>{if(Mr(),(0,d.r)(()=>{Tt.forEach(Ne=>{Je.length>0&&le(Ne,"animation-play-state","running")})}),0===Je.length||0===Tt.length)Ai();else{const Ne=S()||0,ut=et()||0,dt=F()||1;isFinite(dt)&&(M=setTimeout(Ki,Ne+ut*dt+100)),((Ce,Pe)=>{let ot;const yt={passive:!0},Ke=Ge=>{Ce===Ge.target&&(ot&&ot(),Mr(),(0,d.r)(()=>{Tt.forEach(Ne=>{qe(Ne,"animation-duration"),qe(Ne,"animation-delay"),qe(Ne,"animation-play-state")}),(0,d.r)(Ai)}))};Ce&&(Ce.addEventListener("webkitAnimationEnd",Ke,yt),Ce.addEventListener("animationend",Ke,yt),ot=()=>{Ce.removeEventListener("webkitAnimationEnd",Ke,yt),Ce.removeEventListener("animationend",Ke,yt)})})(Tt[0])}})(),st=!1}),me=(Ne,ut)=>{const dt=Je[0];return void 0===dt||void 0!==dt.offset&&0!==dt.offset?Je=[{offset:0,[Ne]:ut},...Je]:dt[Ne]=ut,it};return it={parentAnimation:ze,elements:Tt,childAnimations:gn,id:at,animationFinish:Ai,from:me,to:(Ne,ut)=>{const dt=Je[Je.length-1];return void 0===dt||void 0!==dt.offset&&1!==dt.offset?Je=[...Je,{offset:1,[Ne]:ut}]:dt[Ne]=ut,it},fromTo:(Ne,ut,dt)=>me(Ne,ut).to(Ne,dt),parent:Ne=>(ze=Ne,it),play:co,pause:()=>(gn.forEach(Ne=>{Ne.pause()}),Ei(),it),stop:()=>{gn.forEach(Ne=>{Ne.stop()}),oe&&(yr(),oe=!1),he=!1,Z=!1,We=!0,A=void 0,j=void 0,Oe=void 0,be=0,He=!1,pe=!0,st=!1},destroy:Ne=>(gn.forEach(ut=>{ut.destroy(Ne)}),(Ne=>{yr(),Ne&&In()})(Ne),Tt.length=0,gn.length=0,Je.length=0,Ct.length=0,Kt.length=0,oe=!1,We=!0,it),keyframes:Ne=>{const ut=Je!==Ne;return Je=Ne,ut&&(Ne=>{Jt?wn().forEach(ut=>{if(ut.effect.setKeyframes)ut.effect.setKeyframes(Ne);else{const dt=new KeyframeEffect(ut.effect.target,Ne,ut.effect.getTiming());ut.effect=dt}}):Si()})(Je),it},addAnimation:Ne=>{if(null!=Ne)if(Array.isArray(Ne))for(const ut of Ne)ut.parent(it),gn.push(ut);else Ne.parent(it),gn.push(Ne);return it},addElement:Ne=>{if(null!=Ne)if(1===Ne.nodeType)Tt.push(Ne);else if(Ne.length>=0)for(let ut=0;ut<Ne.length;ut++)Tt.push(Ne[ut]);else console.error("Invalid addElement value");return it},update:gr,fill:Ne=>(Ke=Ne,gr(!0),it),direction:Ne=>(Ge=Ne,gr(!0),it),iterations:Ne=>(De=Ne,gr(!0),it),duration:Ne=>(!Jt&&0===Ne&&(Ne=1),ot=Ne,gr(!0),it),easing:Ne=>(yt=Ne,gr(!0),it),delay:Ne=>(Pe=Ne,gr(!0),it),getWebAnimations:wn,getKeyframes:()=>Je,getFill:Cr,getDirection:Kn,getDelay:S,getIterations:F,getEasing:dn,getDuration:et,afterAddRead:Ne=>(kt.push(Ne),it),afterAddWrite:Ne=>(cn.push(Ne),it),afterClearStyles:(Ne=[])=>{for(const ut of Ne)lt[ut]="";return it},afterStyles:(Ne={})=>(lt=Ne,it),afterRemoveClass:Ne=>(xe=ye(xe,Ne),it),afterAddClass:Ne=>($e=ye($e,Ne),it),beforeAddRead:Ne=>(xt.push(Ne),it),beforeAddWrite:Ne=>(Ht.push(Ne),it),beforeClearStyles:(Ne=[])=>{for(const ut of Ne)Xe[ut]="";return it},beforeStyles:(Ne={})=>(Xe=Ne,it),beforeRemoveClass:Ne=>(Me=ye(Me,Ne),it),beforeAddClass:Ne=>(Ye=ye(Ye,Ne),it),onFinish:Dn,isRunning:()=>0!==be&&!st,progressStart:(Ne=!1,ut)=>(gn.forEach(dt=>{dt.progressStart(Ne,ut)}),Ei(),he=Ne,oe||Tr(),gr(!1,!0,ut),it),progressStep:Ne=>(gn.forEach(ut=>{ut.progressStep(Ne)}),Yr(Ne),it),progressEnd:(Ne,ut,dt)=>(he=!1,gn.forEach(Vt=>{Vt.progressEnd(Ne,ut,dt)}),void 0!==dt&&(j=dt),He=!1,pe=!0,0===Ne?(A="reverse"===Kn()?"normal":"reverse","reverse"===A&&(pe=!1),Jt?(gr(),Yr(1-ut)):(Oe=(1-ut)*et()*-1,gr(!1,!1))):1===Ne&&(Jt?(gr(),Yr(ut)):(Oe=ut*et()*-1,gr(!1,!1))),void 0!==Ne&&(Dn(()=>{j=void 0,A=void 0,Oe=void 0},{oneTimeCallback:!0}),ze||co()),it)}}},3982:(ln,gt,P)=>{"use strict";P.d(gt,{E:()=>fe,a:()=>c,s:()=>qe});const c=ae=>{try{if(ae instanceof le)return ae.value;if(!ue()||"string"!=typeof ae||""===ae)return ae;if(ae.includes("onload="))return"";const Se=document.createDocumentFragment(),Ie=document.createElement("div");Se.appendChild(Ie),Ie.innerHTML=ae,Fe.forEach(Ce=>{const Pe=Se.querySelectorAll(Ce);for(let ot=Pe.length-1;ot>=0;ot--){const yt=Pe[ot];yt.parentNode?yt.parentNode.removeChild(yt):Se.removeChild(yt);const De=G(yt);for(let Ke=0;Ke<De.length;Ke++)d(De[Ke])}});const ce=G(Se);for(let Ce=0;Ce<ce.length;Ce++)d(ce[Ce]);const ye=document.createElement("div");ye.appendChild(Se);const Ve=ye.querySelector("div");return null!==Ve?Ve.innerHTML:ye.innerHTML}catch(Se){return console.error(Se),""}},d=ae=>{if(ae.nodeType&&1!==ae.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ae.attributes instanceof NamedNodeMap))return void ae.remove();for(let Ie=ae.attributes.length-1;Ie>=0;Ie--){const ce=ae.attributes.item(Ie),ye=ce.name;if(!Ae.includes(ye.toLowerCase())){ae.removeAttribute(ye);continue}const Ve=ce.value,Ce=ae[ye];(null!=Ve&&Ve.toLowerCase().includes("javascript:")||null!=Ce&&Ce.toLowerCase().includes("javascript:"))&&ae.removeAttribute(ye)}const Se=G(ae);for(let Ie=0;Ie<Se.length;Ie++)d(Se[Ie])},G=ae=>null!=ae.children?ae.children:ae.childNodes,ue=()=>{var ae;const Se=window,Ie=null===(ae=Se?.Ionic)||void 0===ae?void 0:ae.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},Ae=["class","id","href","src","name","slot"],Fe=["script","style","iframe","meta","link","object","embed"];class le{constructor(Se){this.value=Se}}const qe=ae=>{const Se=window,Ie=Se.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return Se.Ionic=Se.Ionic||{},Se.Ionic.config=Object.assign(Object.assign({},Se.Ionic.config),ae),Se.Ionic.config},fe=!1},5381:(ln,gt,P)=>{"use strict";P.d(gt,{C:()=>Ae,a:()=>G,d:()=>ue});var c=P(5861),d=P(6655);const G=function(){var Fe=(0,c.Z)(function*(le,qe,Qe,fe,ae,Se){var Ie;if(le)return le.attachViewToDom(qe,Qe,ae,fe);if(!(Se||"string"==typeof Qe||Qe instanceof HTMLElement))throw new Error("framework delegate is missing");const ce="string"==typeof Qe?null===(Ie=qe.ownerDocument)||void 0===Ie?void 0:Ie.createElement(Qe):Qe;return fe&&fe.forEach(ye=>ce.classList.add(ye)),ae&&Object.assign(ce,ae),qe.appendChild(ce),yield new Promise(ye=>(0,d.c)(ce,ye)),ce});return function(qe,Qe,fe,ae,Se,Ie){return Fe.apply(this,arguments)}}(),ue=(Fe,le)=>{if(le){if(Fe)return Fe.removeViewFromDom(le.parentElement,le);le.remove()}return Promise.resolve()},Ae=()=>{let Fe,le;return{attachViewToDom:function(){var fe=(0,c.Z)(function*(ae,Se,Ie={},ce=[]){var ye,Ve;if(Fe=ae,Se){const Pe="string"==typeof Se?null===(ye=Fe.ownerDocument)||void 0===ye?void 0:ye.createElement(Se):Se;ce.forEach(ot=>Pe.classList.add(ot)),Object.assign(Pe,Ie),Fe.appendChild(Pe),yield new Promise(ot=>(0,d.c)(Pe,ot))}else if(Fe.children.length>0&&("ION-MODAL"===Fe.tagName||"ION-POPOVER"===Fe.tagName)&&!Fe.children[0].classList.contains("ion-delegate-host")){const ot=null===(Ve=Fe.ownerDocument)||void 0===Ve?void 0:Ve.createElement("div");ot.classList.add("ion-delegate-host"),ce.forEach(yt=>ot.classList.add(yt)),ot.append(...Fe.children),Fe.appendChild(ot)}const Ce=document.querySelector("ion-app")||document.body;return le=document.createComment("ionic teleport"),Fe.parentNode.insertBefore(le,Fe),Ce.appendChild(Fe),Fe});return function(Se,Ie){return fe.apply(this,arguments)}}(),removeViewFromDom:()=>(Fe&&le&&(le.parentNode.insertBefore(Fe,le),le.remove()),Promise.resolve())}}},4349:(ln,gt,P)=>{"use strict";P.d(gt,{G:()=>Ae});class d{constructor(le,qe,Qe,fe,ae){this.id=qe,this.name=Qe,this.disableScroll=ae,this.priority=1e6*fe+qe,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor(le,qe,Qe,fe){this.id=qe,this.disable=Qe,this.disableScroll=fe,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ue="backdrop-no-scroll",Ae=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var qe;return new d(this,this.newID(),le.name,null!==(qe=le.priority)&&void 0!==qe?qe:0,!!le.disableScroll)}createBlocker(le={}){return new G(this,this.newID(),le.disable,!!le.disableScroll)}start(le,qe,Qe){return this.canStart(le)?(this.requestedStart.set(qe,Qe),!0):(this.requestedStart.delete(qe),!1)}capture(le,qe,Qe){if(!this.start(le,qe,Qe))return!1;const fe=this.requestedStart;let ae=-1e4;if(fe.forEach(Se=>{ae=Math.max(ae,Se)}),ae===Qe){this.capturedId=qe,fe.clear();const Se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(Se),!0}return fe.delete(qe),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,qe){let Qe=this.disabledGestures.get(le);void 0===Qe&&(Qe=new Set,this.disabledGestures.set(le,Qe)),Qe.add(qe)}enableGesture(le,qe){const Qe=this.disabledGestures.get(le);void 0!==Qe&&Qe.delete(qe)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(ue)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(ue)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const qe=this.disabledGestures.get(le);return!!(qe&&qe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ln,gt,P)=>{"use strict";P.r(gt),P.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>Ae,OVERLAY_BACK_BUTTON_PRIORITY:()=>ue,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>G});var c=P(5861);const d=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const Fe=document;let le=!1;Fe.addEventListener("backbutton",()=>{if(le)return;let qe=0,Qe=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ie,ce){Qe.push({priority:Ie,handler:ce,id:qe++})}}});Fe.dispatchEvent(fe);const ae=function(){var Ie=(0,c.Z)(function*(ce){try{if(ce?.handler){const ye=ce.handler(Se);null!=ye&&(yield ye)}}catch(ye){console.error(ye)}});return function(ye){return Ie.apply(this,arguments)}}(),Se=()=>{if(Qe.length>0){let Ie={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Qe.forEach(ce=>{ce.priority>=Ie.priority&&(Ie=ce)}),le=!0,Qe=Qe.filter(ce=>ce.id!==Ie.id),ae(Ie).then(()=>le=!1)}};Se()})},ue=100,Ae=99},6655:(ln,gt,P)=>{"use strict";P.d(gt,{a:()=>qe,b:()=>Qe,c:()=>G,d:()=>Ve,e:()=>ye,f:()=>ce,g:()=>fe,h:()=>Ie,i:()=>le,j:()=>Ke,k:()=>Ae,l:()=>Ce,m:()=>ue,n:()=>Se,o:()=>Pe,p:()=>De,q:()=>Ge,r:()=>ae,s:()=>Je,t:()=>c,u:()=>ot,v:()=>yt});const c=(Ye,Me=0)=>new Promise(oe=>{d(Ye,Me,oe)}),d=(Ye,Me=0,oe)=>{let ze,Xe;const $e={passive:!0},lt=()=>{ze&&ze()},be=he=>{(void 0===he||Ye===he.target)&&(lt(),oe(he))};return Ye&&(Ye.addEventListener("webkitTransitionEnd",be,$e),Ye.addEventListener("transitionend",be,$e),Xe=setTimeout(be,Me+500),ze=()=>{Xe&&(clearTimeout(Xe),Xe=void 0),Ye.removeEventListener("webkitTransitionEnd",be,$e),Ye.removeEventListener("transitionend",be,$e)}),lt},G=(Ye,Me)=>{Ye.componentOnReady?Ye.componentOnReady().then(oe=>Me(oe)):ae(()=>Me(Ye))},ue=Ye=>void 0!==Ye.componentOnReady,Ae=(Ye,Me=[])=>{const oe={};return Me.forEach(ze=>{Ye.hasAttribute(ze)&&(null!==Ye.getAttribute(ze)&&(oe[ze]=Ye.getAttribute(ze)),Ye.removeAttribute(ze))}),oe},Fe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],le=(Ye,Me)=>{let oe=Fe;return Me&&Me.length>0&&(oe=oe.filter(ze=>!Me.includes(ze))),Ae(Ye,oe)},qe=(Ye,Me,oe,ze)=>{var Xe;if(typeof window<"u"){const $e=window,xe=null===(Xe=$e?.Ionic)||void 0===Xe?void 0:Xe.config;if(xe){const lt=xe.get("_ael");if(lt)return lt(Ye,Me,oe,ze);if(xe._ael)return xe._ael(Ye,Me,oe,ze)}}return Ye.addEventListener(Me,oe,ze)},Qe=(Ye,Me,oe,ze)=>{var Xe;if(typeof window<"u"){const $e=window,xe=null===(Xe=$e?.Ionic)||void 0===Xe?void 0:Xe.config;if(xe){const lt=xe.get("_rel");if(lt)return lt(Ye,Me,oe,ze);if(xe._rel)return xe._rel(Ye,Me,oe,ze)}}return Ye.removeEventListener(Me,oe,ze)},fe=(Ye,Me=Ye)=>Ye.shadowRoot||Me,ae=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye),Se=Ye=>!!Ye.shadowRoot&&!!Ye.attachShadow,Ie=Ye=>{const Me=Ye.closest("ion-item");return Me?Me.querySelector("ion-label"):null},ce=Ye=>{if(Ye.focus(),Ye.classList.contains("ion-focusable")){const Me=Ye.closest("ion-app");Me&&Me.setFocus([Ye])}},ye=(Ye,Me)=>{let oe;const ze=Ye.getAttribute("aria-labelledby"),Xe=Ye.id;let $e=null!==ze&&""!==ze.trim()?ze:Me+"-lbl",xe=null!==ze&&""!==ze.trim()?document.getElementById(ze):Ie(Ye);return xe?(null===ze&&(xe.id=$e),oe=xe.textContent,xe.setAttribute("aria-hidden","true")):""!==Xe.trim()&&(xe=document.querySelector(`label[for="${Xe}"]`),xe&&(""!==xe.id?$e=xe.id:xe.id=$e=`${Xe}-lbl`,oe=xe.textContent)),{label:xe,labelId:$e,labelText:oe}},Ve=(Ye,Me,oe,ze,Xe)=>{if(Ye||Se(Me)){let $e=Me.querySelector("input.aux-input");$e||($e=Me.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),Me.appendChild($e)),$e.disabled=Xe,$e.name=oe,$e.value=ze||""}},Ce=(Ye,Me,oe)=>Math.max(Ye,Math.min(Me,oe)),Pe=(Ye,Me)=>{if(!Ye){const oe="ASSERT: "+Me;throw console.error(oe),new Error(oe)}},ot=Ye=>Ye.timeStamp||Date.now(),yt=Ye=>{if(Ye){const Me=Ye.changedTouches;if(Me&&Me.length>0){const oe=Me[0];return{x:oe.clientX,y:oe.clientY}}if(void 0!==Ye.pageX)return{x:Ye.pageX,y:Ye.pageY}}return{x:0,y:0}},De=Ye=>{const Me="rtl"===document.dir;switch(Ye){case"start":return Me;case"end":return!Me;default:throw new Error(`"${Ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ke=(Ye,Me)=>{const oe=Ye._original||Ye;return{_original:Ye,emit:Ge(oe.emit.bind(oe),Me)}},Ge=(Ye,Me=0)=>{let oe;return(...ze)=>{clearTimeout(oe),oe=setTimeout(Ye,Me,...ze)}},Je=(Ye,Me)=>{if(Ye??(Ye={}),Me??(Me={}),Ye===Me)return!0;const oe=Object.keys(Ye);if(oe.length!==Object.keys(Me).length)return!1;for(const ze of oe)if(!(ze in Me)||Ye[ze]!==Me[ze])return!1;return!0}},1898:(ln,gt,P)=>{"use strict";P.r(gt),P.d(gt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Qe});var c=P(4349);const d=(Ie,ce,ye,Ve)=>{const Ce=G(Ie)?{capture:!!Ve.capture,passive:!!Ve.passive}:!!Ve.capture;let Pe,ot;return Ie.__zone_symbol__addEventListener?(Pe="__zone_symbol__addEventListener",ot="__zone_symbol__removeEventListener"):(Pe="addEventListener",ot="removeEventListener"),Ie[Pe](ce,ye,Ce),()=>{Ie[ot](ce,ye,Ce)}},G=Ie=>{if(void 0===ue)try{const ce=Object.defineProperty({},"passive",{get:()=>{ue=!0}});Ie.addEventListener("optsTest",()=>{},ce)}catch{ue=!1}return!!ue};let ue;const le=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,Qe=Ie=>{let ce=!1,ye=!1,Ve=!0,Ce=!1;const Pe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),ot=Pe.canStart,yt=Pe.onWillStart,De=Pe.onStart,Ke=Pe.onEnd,Ge=Pe.notCaptured,Je=Pe.onMove,Ye=Pe.threshold,Me=Pe.passive,oe=Pe.blurOnStart,ze={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Xe=((Ie,ce,ye)=>{const Ve=ye*(Math.PI/180),Ce="x"===Ie,Pe=Math.cos(Ve),ot=ce*ce;let yt=0,De=0,Ke=!1,Ge=0;return{start(Je,Ye){yt=Je,De=Ye,Ge=0,Ke=!0},detect(Je,Ye){if(!Ke)return!1;const Me=Je-yt,oe=Ye-De,ze=Me*Me+oe*oe;if(ze<ot)return!1;const Xe=Math.sqrt(ze),$e=(Ce?Me:oe)/Xe;return Ge=$e>Pe?1:$e<-Pe?-1:0,Ke=!1,!0},isGesture:()=>0!==Ge,getDirection:()=>Ge}})(Pe.direction,Pe.threshold,Pe.maxAngle),$e=c.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),be=()=>{ce&&(Ce=!1,Je&&Je(ze))},he=()=>!!$e.capture()&&(ce=!0,Ve=!1,ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime,yt?yt(ze).then(M):M(),!0),M=()=>{oe&&(()=>{if(typeof document<"u"){const He=document.activeElement;He?.blur&&He.blur()}})(),De&&De(ze),Ve=!0},A=()=>{ce=!1,ye=!1,Ce=!1,Ve=!0,$e.release()},j=He=>{const We=ce,Ue=Ve;if(A(),Ue){if(fe(ze,He),We)return void(Ke&&Ke(ze));Ge&&Ge(ze)}},Oe=((Ie,ce,ye,Ve,Ce)=>{let Pe,ot,yt,De,Ke,Ge,Je,Ye=0;const Me=Z=>{Ye=Date.now()+2e3,ce(Z)&&(!ot&&ye&&(ot=d(Ie,"touchmove",ye,Ce)),yt||(yt=d(Z.target,"touchend",ze,Ce)),De||(De=d(Z.target,"touchcancel",ze,Ce)))},oe=Z=>{Ye>Date.now()||ce(Z)&&(!Ge&&ye&&(Ge=d(le(Ie),"mousemove",ye,Ce)),Je||(Je=d(le(Ie),"mouseup",Xe,Ce)))},ze=Z=>{$e(),Ve&&Ve(Z)},Xe=Z=>{xe(),Ve&&Ve(Z)},$e=()=>{ot&&ot(),yt&&yt(),De&&De(),ot=yt=De=void 0},xe=()=>{Ge&&Ge(),Je&&Je(),Ge=Je=void 0},lt=()=>{$e(),xe()},be=(Z=!0)=>{Z?(Pe||(Pe=d(Ie,"touchstart",Me,Ce)),Ke||(Ke=d(Ie,"mousedown",oe,Ce))):(Pe&&Pe(),Ke&&Ke(),Pe=Ke=void 0,lt())};return{enable:be,stop:lt,destroy:()=>{be(!1),Ve=ye=ce=void 0}}})(Pe.el,He=>{const We=Se(He);return!(ye||!Ve||(ae(He,ze),ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime=We,ze.velocityX=ze.velocityY=ze.deltaX=ze.deltaY=0,ze.event=He,ot&&!1===ot(ze))||($e.release(),!$e.start()))&&(ye=!0,0===Ye?he():(Xe.start(ze.startX,ze.startY),!0))},He=>{ce?!Ce&&Ve&&(Ce=!0,fe(ze,He),requestAnimationFrame(be)):(fe(ze,He),Xe.detect(ze.currentX,ze.currentY)&&(!Xe.isGesture()||!he())&&pe())},j,{capture:!1,passive:Me}),pe=()=>{A(),Oe.stop(),Ge&&Ge(ze)};return{enable(He=!0){He||(ce&&j(void 0),A()),Oe.enable(He)},destroy(){$e.destroy(),Oe.destroy()}}},fe=(Ie,ce)=>{if(!ce)return;const ye=Ie.currentX,Ve=Ie.currentY,Ce=Ie.currentTime;ae(ce,Ie);const Pe=Ie.currentX,ot=Ie.currentY,De=(Ie.currentTime=Se(ce))-Ce;if(De>0&&De<100){const Ge=(ot-Ve)/De;Ie.velocityX=(Pe-ye)/De*.7+.3*Ie.velocityX,Ie.velocityY=.7*Ge+.3*Ie.velocityY}Ie.deltaX=Pe-Ie.startX,Ie.deltaY=ot-Ie.startY,Ie.event=ce},ae=(Ie,ce)=>{let ye=0,Ve=0;if(Ie){const Ce=Ie.changedTouches;if(Ce&&Ce.length>0){const Pe=Ce[0];ye=Pe.clientX,Ve=Pe.clientY}else void 0!==Ie.pageX&&(ye=Ie.pageX,Ve=Ie.pageY)}ce.currentX=ye,ce.currentY=Ve},Se=Ie=>Ie.timeStamp||Date.now()},7774:(ln,gt,P)=>{"use strict";P.d(gt,{L:()=>ue,a:()=>Ae,b:()=>Fe,c:()=>le,d:()=>qe,e:()=>Ye,g:()=>ze,l:()=>Ge,s:()=>Me,t:()=>ae,w:()=>Je});var c=P(5861),d=P(661),G=P(6655);const ue="ionViewWillEnter",Ae="ionViewDidEnter",Fe="ionViewWillLeave",le="ionViewDidLeave",qe="ionViewWillUnload",ae=Xe=>new Promise(($e,xe)=>{(0,d.w)(()=>{Se(Xe),Ie(Xe).then(lt=>{lt.animation&&lt.animation.destroy(),ce(Xe),$e(lt)},lt=>{ce(Xe),xe(lt)})})}),Se=Xe=>{const $e=Xe.enteringEl,xe=Xe.leavingEl;oe($e,xe,Xe.direction),Xe.showGoBack?$e.classList.add("can-go-back"):$e.classList.remove("can-go-back"),Me($e,!1),$e.style.setProperty("pointer-events","none"),xe&&(Me(xe,!1),xe.style.setProperty("pointer-events","none"))},Ie=function(){var Xe=(0,c.Z)(function*($e){const xe=yield ye($e);return xe&&d.B.isBrowser?Ve(xe,$e):Ce($e)});return function(xe){return Xe.apply(this,arguments)}}(),ce=Xe=>{const $e=Xe.enteringEl,xe=Xe.leavingEl;$e.classList.remove("ion-page-invisible"),$e.style.removeProperty("pointer-events"),void 0!==xe&&(xe.classList.remove("ion-page-invisible"),xe.style.removeProperty("pointer-events"))},ye=function(){var Xe=(0,c.Z)(function*($e){return $e.leavingEl&&$e.animated&&0!==$e.duration?$e.animationBuilder?$e.animationBuilder:"ios"===$e.mode?(yield Promise.resolve().then(P.bind(P,9858))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,2923))).mdTransitionAnimation:void 0});return function(xe){return Xe.apply(this,arguments)}}(),Ve=function(){var Xe=(0,c.Z)(function*($e,xe){yield Pe(xe,!0);const lt=$e(xe.baseEl,xe);De(xe.enteringEl,xe.leavingEl);const be=yield yt(lt,xe);return xe.progressCallback&&xe.progressCallback(void 0),be&&Ke(xe.enteringEl,xe.leavingEl),{hasCompleted:be,animation:lt}});return function(xe,lt){return Xe.apply(this,arguments)}}(),Ce=function(){var Xe=(0,c.Z)(function*($e){const xe=$e.enteringEl,lt=$e.leavingEl;return yield Pe($e,!1),De(xe,lt),Ke(xe,lt),{hasCompleted:!0}});return function(xe){return Xe.apply(this,arguments)}}(),Pe=function(){var Xe=(0,c.Z)(function*($e,xe){(void 0!==$e.deepWait?$e.deepWait:xe)&&(yield Promise.all([Ye($e.enteringEl),Ye($e.leavingEl)])),yield ot($e.viewIsReady,$e.enteringEl)});return function(xe,lt){return Xe.apply(this,arguments)}}(),ot=function(){var Xe=(0,c.Z)(function*($e,xe){$e&&(yield $e(xe))});return function(xe,lt){return Xe.apply(this,arguments)}}(),yt=(Xe,$e)=>{const xe=$e.progressCallback,lt=new Promise(be=>{Xe.onFinish(he=>be(1===he))});return xe?(Xe.progressStart(!0),xe(Xe)):Xe.play(),lt},De=(Xe,$e)=>{Ge($e,Fe),Ge(Xe,ue)},Ke=(Xe,$e)=>{Ge(Xe,Ae),Ge($e,le)},Ge=(Xe,$e)=>{if(Xe){const xe=new CustomEvent($e,{bubbles:!1,cancelable:!1});Xe.dispatchEvent(xe)}},Je=()=>new Promise(Xe=>(0,G.r)(()=>(0,G.r)(()=>Xe()))),Ye=function(){var Xe=(0,c.Z)(function*($e){const xe=$e;if(xe){if(null!=xe.componentOnReady){if(null!=(yield xe.componentOnReady()))return}else if(null!=xe.__registerHost)return void(yield new Promise(be=>(0,G.r)(be)));yield Promise.all(Array.from(xe.children).map(Ye))}});return function(xe){return Xe.apply(this,arguments)}}(),Me=(Xe,$e)=>{$e?(Xe.setAttribute("aria-hidden","true"),Xe.classList.add("ion-page-hidden")):(Xe.hidden=!1,Xe.removeAttribute("aria-hidden"),Xe.classList.remove("ion-page-hidden"))},oe=(Xe,$e,xe)=>{void 0!==Xe&&(Xe.style.zIndex="back"===xe?"99":"101"),void 0!==$e&&($e.style.zIndex="100")},ze=Xe=>Xe.classList.contains("ion-page")?Xe:Xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Xe},1840:(ln,gt,P)=>{"use strict";P.d(gt,{m:()=>ae});var c=P(5861),d=P(7593),G=P(6655),ue=P(953),Ae=P(8127);const Fe=Se=>(0,Ae.c)().duration(Se?400:300),le=Se=>{let Ie,ce;const ye=Se.width+8,Ve=(0,Ae.c)(),Ce=(0,Ae.c)();Se.isEndSide?(Ie=ye+"px",ce="0px"):(Ie=-ye+"px",ce="0px"),Ve.addElement(Se.menuInnerEl).fromTo("transform",`translateX(${Ie})`,`translateX(${ce})`);const ot="ios"===(0,ue.b)(Se),yt=ot?.2:.25;return Ce.addElement(Se.backdropEl).fromTo("opacity",.01,yt),Fe(ot).addAnimation([Ve,Ce])},qe=Se=>{let Ie,ce;const ye=(0,ue.b)(Se),Ve=Se.width;Se.isEndSide?(Ie=-Ve+"px",ce=Ve+"px"):(Ie=Ve+"px",ce=-Ve+"px");const Ce=(0,Ae.c)().addElement(Se.menuInnerEl).fromTo("transform",`translateX(${ce})`,"translateX(0px)"),Pe=(0,Ae.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`),ot=(0,Ae.c)().addElement(Se.backdropEl).fromTo("opacity",.01,.32);return Fe("ios"===ye).addAnimation([Ce,Pe,ot])},Qe=Se=>{const Ie=(0,ue.b)(Se),ce=Se.width*(Se.isEndSide?-1:1)+"px",ye=(0,Ae.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`);return Fe("ios"===Ie).addAnimation(ye)},ae=(()=>{const Se=new Map,Ie=[],ce=function(){var M=(0,c.Z)(function*(A){const j=yield De(A);return!!j&&j.open()});return function(j){return M.apply(this,arguments)}}(),ye=function(){var M=(0,c.Z)(function*(A){const j=yield void 0!==A?De(A):Ke();return void 0!==j&&j.close()});return function(j){return M.apply(this,arguments)}}(),Ve=function(){var M=(0,c.Z)(function*(A){const j=yield De(A);return!!j&&j.toggle()});return function(j){return M.apply(this,arguments)}}(),Ce=function(){var M=(0,c.Z)(function*(A,j){const Oe=yield De(j);return Oe&&(Oe.disabled=!A),Oe});return function(j,Oe){return M.apply(this,arguments)}}(),Pe=function(){var M=(0,c.Z)(function*(A,j){const Oe=yield De(j);return Oe&&(Oe.swipeGesture=A),Oe});return function(j,Oe){return M.apply(this,arguments)}}(),ot=function(){var M=(0,c.Z)(function*(A){if(null!=A){const j=yield De(A);return void 0!==j&&j.isOpen()}return void 0!==(yield Ke())});return function(j){return M.apply(this,arguments)}}(),yt=function(){var M=(0,c.Z)(function*(A){const j=yield De(A);return!!j&&!j.disabled});return function(j){return M.apply(this,arguments)}}(),De=function(){var M=(0,c.Z)(function*(A){return yield Z(),"start"===A||"end"===A?he(pe=>pe.side===A&&!pe.disabled)||he(pe=>pe.side===A):null!=A?he(Oe=>Oe.menuId===A):he(Oe=>!Oe.disabled)||(Ie.length>0?Ie[0].el:void 0)});return function(j){return M.apply(this,arguments)}}(),Ke=function(){var M=(0,c.Z)(function*(){return yield Z(),xe()});return function(){return M.apply(this,arguments)}}(),Ge=function(){var M=(0,c.Z)(function*(){return yield Z(),lt()});return function(){return M.apply(this,arguments)}}(),Je=function(){var M=(0,c.Z)(function*(){return yield Z(),be()});return function(){return M.apply(this,arguments)}}(),Ye=(M,A)=>{Se.set(M,A)},ze=M=>{const A=M.side;Ie.filter(j=>j.side===A&&j!==M).forEach(j=>j.disabled=!0)},Xe=function(){var M=(0,c.Z)(function*(A,j,Oe){if(be())return!1;if(j){const pe=yield Ke();pe&&A.el!==pe&&(yield pe.setOpen(!1,!1))}return A._setOpen(j,Oe)});return function(j,Oe,pe){return M.apply(this,arguments)}}(),xe=()=>he(M=>M._isOpen),lt=()=>Ie.map(M=>M.el),be=()=>Ie.some(M=>M.isAnimating),he=M=>{const A=Ie.find(M);if(void 0!==A)return A.el},Z=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(M=>new Promise(A=>(0,G.c)(M,A))));return Ye("reveal",Qe),Ye("push",qe),Ye("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",M=>{const A=xe();A&&M.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>A.close())}),{registerAnimation:Ye,get:De,getMenus:Ge,getOpen:Ke,isEnabled:yt,swipeGesture:Pe,isAnimating:Je,isOpen:ot,enable:Ce,toggle:Ve,close:ye,open:ce,_getOpenSync:xe,_createAnimation:(M,A)=>{const j=Se.get(M);if(!j)throw new Error("animation not registered");return j(A)},_register:M=>{Ie.indexOf(M)<0&&(M.disabled||ze(M),Ie.push(M))},_unregister:M=>{const A=Ie.indexOf(M);A>-1&&Ie.splice(A,1)},_setOpen:Xe,_setActiveMenu:ze}})()},4110:(ln,gt,P)=>{"use strict";P.d(gt,{d:()=>d,w:()=>c});const c=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},661:(ln,gt,P)=>{"use strict";P.d(gt,{B:()=>ae,H:()=>lt,a:()=>Oo,b:()=>ft,c:()=>He,d:()=>st,e:()=>co,f:()=>it,g:()=>We,h:()=>$e,i:()=>ti,j:()=>Se,p:()=>Ei,r:()=>$r,w:()=>ri});var c=P(5861);let G,ue,Ae,Fe=!1,le=!1,qe=!1,Qe=!1,fe=!1;const ae={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Se=me=>{const je=new URL(me,dr.$resourcesUrl$);return je.origin!==Wr.location.origin?je.href:je.pathname},ot="s-id",yt="sty-id",Ge="http://www.w3.org/1999/xlink",Je={},ze=me=>"object"==(me=typeof me)||"function"===me;function Xe(me){var je,_t,Ne;return null!==(Ne=null===(_t=null===(je=me.head)||void 0===je?void 0:je.querySelector('meta[name="csp-nonce"]'))||void 0===_t?void 0:_t.getAttribute("content"))&&void 0!==Ne?Ne:void 0}const $e=(me,je,..._t)=>{let Ne=null,ut=null,dt=null,Vt=!1,Ft=!1;const Yt=[],tn=Mn=>{for(let qn=0;qn<Mn.length;qn++)Ne=Mn[qn],Array.isArray(Ne)?tn(Ne):null!=Ne&&"boolean"!=typeof Ne&&((Vt="function"!=typeof me&&!ze(Ne))&&(Ne=String(Ne)),Vt&&Ft?Yt[Yt.length-1].$text$+=Ne:Yt.push(Vt?xe(null,Ne):Ne),Ft=Vt)};if(tn(_t),je){je.key&&(ut=je.key),je.name&&(dt=je.name);{const Mn=je.className||je.class;Mn&&(je.class="object"!=typeof Mn?Mn:Object.keys(Mn).filter(qn=>Mn[qn]).join(" "))}}if("function"==typeof me)return me(null===je?{}:je,Yt,he);const Xt=xe(me,null);return Xt.$attrs$=je,Yt.length>0&&(Xt.$children$=Yt),Xt.$key$=ut,Xt.$name$=dt,Xt},xe=(me,je)=>({$flags$:0,$tag$:me,$text$:je,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),lt={},he={forEach:(me,je)=>me.map(Z).forEach(je),map:(me,je)=>me.map(Z).map(je).map(M)},Z=me=>({vattrs:me.$attrs$,vchildren:me.$children$,vkey:me.$key$,vname:me.$name$,vtag:me.$tag$,vtext:me.$text$}),M=me=>{if("function"==typeof me.vtag){const _t=Object.assign({},me.vattrs);return me.vkey&&(_t.key=me.vkey),me.vname&&(_t.name=me.vname),$e(me.vtag,_t,...me.vchildren||[])}const je=xe(me.vtag,me.vtext);return je.$attrs$=me.vattrs,je.$children$=me.vchildren,je.$key$=me.vkey,je.$name$=me.vname,je},j=(me,je,_t,Ne,ut,dt,Vt)=>{let Ft,Yt,tn,Xt;if(1===dt.nodeType){for(Ft=dt.getAttribute("c-id"),Ft&&(Yt=Ft.split("."),(Yt[0]===Vt||"0"===Yt[0])&&(tn={$flags$:0,$hostId$:Yt[0],$nodeId$:Yt[1],$depth$:Yt[2],$index$:Yt[3],$tag$:dt.tagName.toLowerCase(),$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},je.push(tn),dt.removeAttribute("c-id"),me.$children$||(me.$children$=[]),me.$children$[tn.$index$]=tn,me=tn,Ne&&"0"===tn.$depth$&&(Ne[tn.$index$]=tn.$elm$))),Xt=dt.childNodes.length-1;Xt>=0;Xt--)j(me,je,_t,Ne,ut,dt.childNodes[Xt],Vt);if(dt.shadowRoot)for(Xt=dt.shadowRoot.childNodes.length-1;Xt>=0;Xt--)j(me,je,_t,Ne,ut,dt.shadowRoot.childNodes[Xt],Vt)}else if(8===dt.nodeType)Yt=dt.nodeValue.split("."),(Yt[1]===Vt||"0"===Yt[1])&&(Ft=Yt[0],tn={$flags$:0,$hostId$:Yt[1],$nodeId$:Yt[2],$depth$:Yt[3],$index$:Yt[4],$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ft?(tn.$elm$=dt.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,je.push(tn),dt.remove(),me.$children$||(me.$children$=[]),me.$children$[tn.$index$]=tn,Ne&&"0"===tn.$depth$&&(Ne[tn.$index$]=tn.$elm$))):tn.$hostId$===Vt&&("s"===Ft?(tn.$tag$="slot",dt["s-sn"]=Yt[5]?tn.$name$=Yt[5]:"",dt["s-sr"]=!0,Ne&&(tn.$elm$=gr.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),dt.parentNode.insertBefore(tn.$elm$,dt),dt.remove(),"0"===tn.$depth$&&(Ne[tn.$index$]=tn.$elm$)),_t.push(tn),me.$children$||(me.$children$=[]),me.$children$[tn.$index$]=tn):"r"===Ft&&(Ne?dt.remove():(ut["s-cr"]=dt,dt["s-cn"]=!0))));else if(me&&"style"===me.$tag$){const Mn=xe(null,dt.textContent);Mn.$elm$=dt,Mn.$index$="0",me.$children$=[Mn]}},Oe=(me,je)=>{if(1===me.nodeType){let _t=0;for(;_t<me.childNodes.length;_t++)Oe(me.childNodes[_t],je);if(me.shadowRoot)for(_t=0;_t<me.shadowRoot.childNodes.length;_t++)Oe(me.shadowRoot.childNodes[_t],je)}else if(8===me.nodeType){const _t=me.nodeValue.split(".");"o"===_t[0]&&(je.set(_t[1]+"."+_t[2],me),me.nodeValue="",me["s-en"]=_t[3])}},He=me=>Eo.push(me),We=me=>fr(me).$modeName$,it=me=>fr(me).$hostElement$,st=(me,je,_t)=>{const Ne=it(me);return{emit:ut=>at(Ne,je,{bubbles:!!(4&_t),composed:!!(2&_t),cancelable:!!(1&_t),detail:ut})}},at=(me,je,_t)=>{const Ne=dr.ce(je,_t);return me.dispatchEvent(Ne),Ne},Ct=new WeakMap,Kt=(me,je,_t)=>{let Ne=Yr.get(me);No&&_t?(Ne=Ne||new CSSStyleSheet,"string"==typeof Ne?Ne=je:Ne.replaceSync(je)):Ne=je,Yr.set(me,Ne)},Tt=(me,je,_t,Ne)=>{var ut;let dt=yn(je,_t);const Vt=Yr.get(dt);if(me=11===me.nodeType?me:gr,Vt)if("string"==typeof Vt){let Yt,Ft=Ct.get(me=me.head||me);if(Ft||Ct.set(me,Ft=new Set),!Ft.has(dt)){if(me.host&&(Yt=me.querySelector(`[${yt}="${dt}"]`)))Yt.innerHTML=Vt;else{Yt=gr.createElement("style"),Yt.innerHTML=Vt;const tn=null!==(ut=dr.$nonce$)&&void 0!==ut?ut:Xe(gr);null!=tn&&Yt.setAttribute("nonce",tn),me.insertBefore(Yt,me.querySelector("link"))}Ft&&Ft.add(dt)}}else me.adoptedStyleSheets.includes(Vt)||(me.adoptedStyleSheets=[...me.adoptedStyleSheets,Vt]);return dt},yn=(me,je)=>"sc-"+(je&&32&me.$flags$?me.$tagName$+"-"+je:me.$tagName$),xt=me=>me.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ht=(me,je,_t,Ne,ut,dt)=>{if(_t!==Ne){let Vt=Ai(me,je),Ft=je.toLowerCase();if("class"===je){const Yt=me.classList,tn=cn(_t),Xt=cn(Ne);Yt.remove(...tn.filter(Mn=>Mn&&!Xt.includes(Mn))),Yt.add(...Xt.filter(Mn=>Mn&&!tn.includes(Mn)))}else if("style"===je){for(const Yt in _t)(!Ne||null==Ne[Yt])&&(Yt.includes("-")?me.style.removeProperty(Yt):me.style[Yt]="");for(const Yt in Ne)(!_t||Ne[Yt]!==_t[Yt])&&(Yt.includes("-")?me.style.setProperty(Yt,Ne[Yt]):me.style[Yt]=Ne[Yt])}else if("key"!==je)if("ref"===je)Ne&&Ne(me);else if(Vt||"o"!==je[0]||"n"!==je[1]){const Yt=ze(Ne);if((Vt||Yt&&null!==Ne)&&!ut)try{if(me.tagName.includes("-"))me[je]=Ne;else{const Xt=Ne??"";"list"===je?Vt=!1:(null==_t||me[je]!=Xt)&&(me[je]=Xt)}}catch{}let tn=!1;Ft!==(Ft=Ft.replace(/^xlink\:?/,""))&&(je=Ft,tn=!0),null==Ne||!1===Ne?(!1!==Ne||""===me.getAttribute(je))&&(tn?me.removeAttributeNS(Ge,je):me.removeAttribute(je)):(!Vt||4&dt||ut)&&!Yt&&(Ne=!0===Ne?"":Ne,tn?me.setAttributeNS(Ge,je,Ne):me.setAttribute(je,Ne))}else je="-"===je[2]?je.slice(3):Ai(Wr,Ft)?Ft.slice(2):Ft[2]+je.slice(3),_t&&dr.rel(me,je,_t,!1),Ne&&dr.ael(me,je,Ne,!1)}},kt=/\s/,cn=me=>me?me.split(kt):[],xn=(me,je,_t,Ne)=>{const ut=11===je.$elm$.nodeType&&je.$elm$.host?je.$elm$.host:je.$elm$,dt=me&&me.$attrs$||Je,Vt=je.$attrs$||Je;for(Ne in dt)Ne in Vt||Ht(ut,Ne,dt[Ne],void 0,_t,je.$flags$);for(Ne in Vt)Ht(ut,Ne,dt[Ne],Vt[Ne],_t,je.$flags$)},On=(me,je,_t,Ne)=>{const ut=je.$children$[_t];let Vt,Ft,Yt,dt=0;if(Fe||(qe=!0,"slot"===ut.$tag$&&(G&&Ne.classList.add(G+"-s"),ut.$flags$|=ut.$children$?2:1)),null!==ut.$text$)Vt=ut.$elm$=gr.createTextNode(ut.$text$);else if(1&ut.$flags$)Vt=ut.$elm$=gr.createTextNode("");else{if(Qe||(Qe="svg"===ut.$tag$),Vt=ut.$elm$=gr.createElementNS(Qe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ut.$flags$?"slot-fb":ut.$tag$),Qe&&"foreignObject"===ut.$tag$&&(Qe=!1),xn(null,ut,Qe),(me=>null!=me)(G)&&Vt["s-si"]!==G&&Vt.classList.add(Vt["s-si"]=G),ut.$children$)for(dt=0;dt<ut.$children$.length;++dt)Ft=On(me,ut,dt,Vt),Ft&&Vt.appendChild(Ft);"svg"===ut.$tag$?Qe=!1:"foreignObject"===Vt.tagName&&(Qe=!0)}return Vt["s-hn"]=Ae,3&ut.$flags$&&(Vt["s-sr"]=!0,Vt["s-cr"]=ue,Vt["s-sn"]=ut.$name$||"",Yt=me&&me.$children$&&me.$children$[_t],Yt&&Yt.$tag$===ut.$tag$&&me.$elm$&&Jt(me.$elm$,!1)),Vt},Jt=(me,je)=>{dr.$flags$|=1;const _t=me.childNodes;for(let Ne=_t.length-1;Ne>=0;Ne--){const ut=_t[Ne];ut["s-hn"]!==Ae&&ut["s-ol"]&&(wr(ut).insertBefore(ut,Nn(ut)),ut["s-ol"].remove(),ut["s-ol"]=void 0,qe=!0),je&&Jt(ut,je)}dr.$flags$&=-2},un=(me,je,_t,Ne,ut,dt)=>{let Ft,Vt=me["s-cr"]&&me["s-cr"].parentNode||me;for(Vt.shadowRoot&&Vt.tagName===Ae&&(Vt=Vt.shadowRoot);ut<=dt;++ut)Ne[ut]&&(Ft=On(null,_t,ut,me),Ft&&(Ne[ut].$elm$=Ft,Vt.insertBefore(Ft,Nn(je))))},wn=(me,je,_t)=>{for(let Ne=je;Ne<=_t;++Ne){const ut=me[Ne];if(ut){const dt=ut.$elm$;jn(ut),dt&&(le=!0,dt["s-ol"]?dt["s-ol"].remove():Jt(dt,!0),dt.remove())}}},Zn=(me,je)=>me.$tag$===je.$tag$&&("slot"===me.$tag$?me.$name$===je.$name$:me.$key$===je.$key$),Nn=me=>me&&me["s-ol"]||me,wr=me=>(me["s-ol"]?me["s-ol"]:me).parentNode,Dn=(me,je)=>{const _t=je.$elm$=me.$elm$,Ne=me.$children$,ut=je.$children$,dt=je.$tag$,Vt=je.$text$;let Ft;null===Vt?(Qe="svg"===dt||"foreignObject"!==dt&&Qe,"slot"===dt||xn(me,je,Qe),null!==Ne&&null!==ut?((me,je,_t,Ne)=>{let Fr,ai,ut=0,dt=0,Vt=0,Ft=0,Yt=je.length-1,tn=je[0],Xt=je[Yt],Mn=Ne.length-1,qn=Ne[0],er=Ne[Mn];for(;ut<=Yt&&dt<=Mn;)if(null==tn)tn=je[++ut];else if(null==Xt)Xt=je[--Yt];else if(null==qn)qn=Ne[++dt];else if(null==er)er=Ne[--Mn];else if(Zn(tn,qn))Dn(tn,qn),tn=je[++ut],qn=Ne[++dt];else if(Zn(Xt,er))Dn(Xt,er),Xt=je[--Yt],er=Ne[--Mn];else if(Zn(tn,er))("slot"===tn.$tag$||"slot"===er.$tag$)&&Jt(tn.$elm$.parentNode,!1),Dn(tn,er),me.insertBefore(tn.$elm$,Xt.$elm$.nextSibling),tn=je[++ut],er=Ne[--Mn];else if(Zn(Xt,qn))("slot"===tn.$tag$||"slot"===er.$tag$)&&Jt(Xt.$elm$.parentNode,!1),Dn(Xt,qn),me.insertBefore(Xt.$elm$,tn.$elm$),Xt=je[--Yt],qn=Ne[++dt];else{for(Vt=-1,Ft=ut;Ft<=Yt;++Ft)if(je[Ft]&&null!==je[Ft].$key$&&je[Ft].$key$===qn.$key$){Vt=Ft;break}Vt>=0?(ai=je[Vt],ai.$tag$!==qn.$tag$?Fr=On(je&&je[dt],_t,Vt,me):(Dn(ai,qn),je[Vt]=void 0,Fr=ai.$elm$),qn=Ne[++dt]):(Fr=On(je&&je[dt],_t,dt,me),qn=Ne[++dt]),Fr&&wr(tn.$elm$).insertBefore(Fr,Nn(tn.$elm$))}ut>Yt?un(me,null==Ne[Mn+1]?null:Ne[Mn+1].$elm$,_t,Ne,dt,Mn):dt>Mn&&wn(je,ut,Yt)})(_t,Ne,je,ut):null!==ut?(null!==me.$text$&&(_t.textContent=""),un(_t,null,je,ut,0,ut.length-1)):null!==Ne&&wn(Ne,0,Ne.length-1),Qe&&"svg"===dt&&(Qe=!1)):(Ft=_t["s-cr"])?Ft.parentNode.textContent=Vt:me.$text$!==Vt&&(_t.data=Vt)},nr=me=>{const je=me.childNodes;let _t,Ne,ut,dt,Vt,Ft;for(Ne=0,ut=je.length;Ne<ut;Ne++)if(_t=je[Ne],1===_t.nodeType){if(_t["s-sr"])for(Vt=_t["s-sn"],_t.hidden=!1,dt=0;dt<ut;dt++)if(Ft=je[dt].nodeType,je[dt]["s-hn"]!==_t["s-hn"]||""!==Vt){if(1===Ft&&Vt===je[dt].getAttribute("slot")){_t.hidden=!0;break}}else if(1===Ft||3===Ft&&""!==je[dt].textContent.trim()){_t.hidden=!0;break}nr(_t)}},yr=[],In=me=>{let je,_t,Ne,ut,dt,Vt,Ft=0;const Yt=me.childNodes,tn=Yt.length;for(;Ft<tn;Ft++){if(je=Yt[Ft],je["s-sr"]&&(_t=je["s-cr"])&&_t.parentNode)for(Ne=_t.parentNode.childNodes,ut=je["s-sn"],Vt=Ne.length-1;Vt>=0;Vt--)_t=Ne[Vt],!_t["s-cn"]&&!_t["s-nr"]&&_t["s-hn"]!==je["s-hn"]&&(sr(_t,ut)?(dt=yr.find(Xt=>Xt.$nodeToRelocate$===_t),le=!0,_t["s-sn"]=_t["s-sn"]||ut,dt?dt.$slotRefNode$=je:yr.push({$slotRefNode$:je,$nodeToRelocate$:_t}),_t["s-sr"]&&yr.map(Xt=>{sr(Xt.$nodeToRelocate$,_t["s-sn"])&&(dt=yr.find(Mn=>Mn.$nodeToRelocate$===_t),dt&&!Xt.$slotRefNode$&&(Xt.$slotRefNode$=dt.$slotRefNode$))})):yr.some(Xt=>Xt.$nodeToRelocate$===_t)||yr.push({$nodeToRelocate$:_t}));1===je.nodeType&&In(je)}},sr=(me,je)=>1===me.nodeType?null===me.getAttribute("slot")&&""===je||me.getAttribute("slot")===je:me["s-sn"]===je||""===je,jn=me=>{me.$attrs$&&me.$attrs$.ref&&me.$attrs$.ref(null),me.$children$&&me.$children$.map(jn)},Dr=(me,je)=>{je&&!me.$onRenderResolve$&&je["s-p"]&&je["s-p"].push(new Promise(_t=>me.$onRenderResolve$=_t))},fi=(me,je)=>{if(me.$flags$|=16,!(4&me.$flags$))return Dr(me,me.$ancestorComponent$),ri(()=>wt(me,je));me.$flags$|=512},wt=(me,je)=>{const Ne=me.$lazyInstance$;let ut;return je&&(me.$flags$|=256,me.$queuedListeners$&&(me.$queuedListeners$.map(([dt,Vt])=>Cr(Ne,dt,Vt)),me.$queuedListeners$=void 0),ut=Cr(Ne,"componentWillLoad")),ut=cr(ut,()=>Cr(Ne,"componentWillRender")),cr(ut,()=>pr(me,Ne,je))},cr=(me,je)=>me instanceof Promise?me.then(je):je(),pr=function(){var me=(0,c.Z)(function*(je,_t,Ne){var ut;const dt=je.$hostElement$,Ft=dt["s-rc"];Ne&&(me=>{const je=me.$cmpMeta$,_t=me.$hostElement$,Ne=je.$flags$,dt=Tt(_t.shadowRoot?_t.shadowRoot:_t.getRootNode(),je,me.$modeName$);10&Ne&&(_t["s-sc"]=dt,_t.classList.add(dt+"-h"),2&Ne&&_t.classList.add(dt+"-s"))})(je);vi(je,_t),Ft&&(Ft.map(tn=>tn()),dt["s-rc"]=void 0);{const tn=null!==(ut=dt["s-p"])&&void 0!==ut?ut:[],Xt=()=>qr(je);0===tn.length?Xt():(Promise.all(tn).then(Xt),je.$flags$|=4,tn.length=0)}});return function(_t,Ne,ut){return me.apply(this,arguments)}}(),vi=(me,je,_t)=>{try{je=je.render&&je.render(),me.$flags$&=-17,me.$flags$|=2,((me,je)=>{const _t=me.$hostElement$,Ne=me.$cmpMeta$,ut=me.$vnode$||xe(null,null),dt=(me=>me&&me.$tag$===lt)(je)?je:$e(null,null,je);if(Ae=_t.tagName,Ne.$attrsToReflect$&&(dt.$attrs$=dt.$attrs$||{},Ne.$attrsToReflect$.map(([Vt,Ft])=>dt.$attrs$[Ft]=_t[Vt])),dt.$tag$=null,dt.$flags$|=4,me.$vnode$=dt,dt.$elm$=ut.$elm$=_t.shadowRoot||_t,G=_t["s-sc"],ue=_t["s-cr"],Fe=0!=(1&Ne.$flags$),le=!1,Dn(ut,dt),dr.$flags$|=1,qe){In(dt.$elm$);let Vt,Ft,Yt,tn,Xt,Mn,qn=0;for(;qn<yr.length;qn++)Vt=yr[qn],Ft=Vt.$nodeToRelocate$,Ft["s-ol"]||(Yt=gr.createTextNode(""),Yt["s-nr"]=Ft,Ft.parentNode.insertBefore(Ft["s-ol"]=Yt,Ft));for(qn=0;qn<yr.length;qn++)if(Vt=yr[qn],Ft=Vt.$nodeToRelocate$,Vt.$slotRefNode$){for(tn=Vt.$slotRefNode$.parentNode,Xt=Vt.$slotRefNode$.nextSibling,Yt=Ft["s-ol"];Yt=Yt.previousSibling;)if(Mn=Yt["s-nr"],Mn&&Mn["s-sn"]===Ft["s-sn"]&&tn===Mn.parentNode&&(Mn=Mn.nextSibling,!Mn||!Mn["s-nr"])){Xt=Mn;break}(!Xt&&tn!==Ft.parentNode||Ft.nextSibling!==Xt)&&Ft!==Xt&&(!Ft["s-hn"]&&Ft["s-ol"]&&(Ft["s-hn"]=Ft["s-ol"].parentNode.nodeName),tn.insertBefore(Ft,Xt))}else 1===Ft.nodeType&&(Ft.hidden=!0)}le&&nr(dt.$elm$),dr.$flags$&=-2,yr.length=0})(me,je)}catch(Ne){Si(Ne,me.$hostElement$)}return null},qr=me=>{const _t=me.$hostElement$,ut=me.$lazyInstance$,dt=me.$ancestorComponent$;Cr(ut,"componentDidRender"),64&me.$flags$?Cr(ut,"componentDidUpdate"):(me.$flags$|=64,Kn(_t),Cr(ut,"componentDidLoad"),me.$onReadyResolve$(_t),dt||vr()),me.$onInstanceResolve$(_t),me.$onRenderResolve$&&(me.$onRenderResolve$(),me.$onRenderResolve$=void 0),512&me.$flags$&&Hi(()=>fi(me,!1)),me.$flags$&=-517},ti=me=>{{const je=fr(me),_t=je.$hostElement$.isConnected;return _t&&2==(18&je.$flags$)&&fi(je,!1),_t}},vr=me=>{Kn(gr.documentElement),Hi(()=>at(Wr,"appload",{detail:{namespace:"ionic"}}))},Cr=(me,je,_t)=>{if(me&&me[je])try{return me[je](_t)}catch(Ne){Si(Ne)}},Kn=me=>me.classList.add("hydrated"),F=(me,je,_t)=>{if(je.$members$){me.watchers&&(je.$watchers$=me.watchers);const Ne=Object.entries(je.$members$),ut=me.prototype;if(Ne.map(([dt,[Vt]])=>{31&Vt||2&_t&&32&Vt?Object.defineProperty(ut,dt,{get(){return((me,je)=>fr(this).$instanceValues$.get(je))(0,dt)},set(Ft){((me,je,_t,Ne)=>{const ut=fr(me),dt=ut.$hostElement$,Vt=ut.$instanceValues$.get(je),Ft=ut.$flags$,Yt=ut.$lazyInstance$;_t=((me,je)=>null==me||ze(me)?me:4&je?"false"!==me&&(""===me||!!me):2&je?parseFloat(me):1&je?String(me):me)(_t,Ne.$members$[je][0]);const tn=Number.isNaN(Vt)&&Number.isNaN(_t);if((!(8&Ft)||void 0===Vt)&&_t!==Vt&&!tn&&(ut.$instanceValues$.set(je,_t),Yt)){if(Ne.$watchers$&&128&Ft){const Mn=Ne.$watchers$[je];Mn&&Mn.map(qn=>{try{Yt[qn](_t,Vt,je)}catch(er){Si(er,dt)}})}2==(18&Ft)&&fi(ut,!1)}})(this,dt,Ft,je)},configurable:!0,enumerable:!0}):1&_t&&64&Vt&&Object.defineProperty(ut,dt,{value(...Ft){const Yt=fr(this);return Yt.$onInstancePromise$.then(()=>Yt.$lazyInstance$[dt](...Ft))}})}),1&_t){const dt=new Map;ut.attributeChangedCallback=function(Vt,Ft,Yt){dr.jmp(()=>{const tn=dt.get(Vt);if(this.hasOwnProperty(tn))Yt=this[tn],delete this[tn];else if(ut.hasOwnProperty(tn)&&"number"==typeof this[tn]&&this[tn]==Yt)return;this[tn]=(null!==Yt||"boolean"!=typeof this[tn])&&Yt})},me.observedAttributes=Ne.filter(([Vt,Ft])=>15&Ft[0]).map(([Vt,Ft])=>{const Yt=Ft[1]||Vt;return dt.set(Yt,Vt),512&Ft[0]&&je.$attrsToReflect$.push([Vt,Yt]),Yt})}}return me},S=function(){var me=(0,c.Z)(function*(je,_t,Ne,ut,dt){if(!(32&_t.$flags$)){_t.$flags$|=32;{if((dt=Tr(Ne)).then){const tn=()=>{};dt=yield dt,tn()}dt.isProxied||(Ne.$watchers$=dt.watchers,F(dt,Ne,2),dt.isProxied=!0);const Yt=()=>{};_t.$flags$|=8;try{new dt(_t)}catch(tn){Si(tn)}_t.$flags$&=-9,_t.$flags$|=128,Yt(),$(_t.$lazyInstance$)}if(dt.style){let Yt=dt.style;"string"!=typeof Yt&&(Yt=Yt[_t.$modeName$=(me=>Eo.map(je=>je(me)).find(je=>!!je))(je)]);const tn=yn(Ne,_t.$modeName$);if(!Yr.has(tn)){const Xt=()=>{};Kt(tn,Yt,!!(1&Ne.$flags$)),Xt()}}}const Vt=_t.$ancestorComponent$,Ft=()=>fi(_t,!0);Vt&&Vt["s-rc"]?Vt["s-rc"].push(Ft):Ft()});return function(_t,Ne,ut,dt,Vt){return me.apply(this,arguments)}}(),$=me=>{Cr(me,"connectedCallback")},z=me=>{const je=me["s-cr"]=gr.createComment("");je["s-cn"]=!0,me.insertBefore(je,me.firstChild)},ft=(me,je={})=>{var _t;const ut=[],dt=je.exclude||[],Vt=Wr.customElements,Ft=gr.head,Yt=Ft.querySelector("meta[charset]"),tn=gr.createElement("style"),Xt=[],Mn=gr.querySelectorAll(`[${yt}]`);let qn,er=!0,Fr=0;for(Object.assign(dr,je),dr.$resourcesUrl$=new URL(je.resourcesUrl||"./",gr.baseURI).href,dr.$flags$|=2;Fr<Mn.length;Fr++)Kt(Mn[Fr].getAttribute(yt),xt(Mn[Fr].innerHTML),!0);me.map(ai=>{ai[1].map(Ar=>{const Ur={$flags$:Ar[0],$tagName$:Ar[1],$members$:Ar[2],$listeners$:Ar[3]};Ur.$members$=Ar[2],Ur.$listeners$=Ar[3],Ur.$attrsToReflect$=[],Ur.$watchers$={};const Zr=Ur.$tagName$,ho=class extends HTMLElement{constructor(Lr){super(Lr),ni(Lr=this,Ur),1&Ur.$flags$&&Lr.attachShadow({mode:"open",delegatesFocus:!!(16&Ur.$flags$)})}connectedCallback(){qn&&(clearTimeout(qn),qn=null),er?Xt.push(this):dr.jmp(()=>(me=>{if(!(1&dr.$flags$)){const je=fr(me),_t=je.$cmpMeta$,Ne=()=>{};if(1&je.$flags$)St(me,je,_t.$listeners$),$(je.$lazyInstance$);else{let ut;if(je.$flags$|=1,ut=me.getAttribute(ot),ut){if(1&_t.$flags$){const dt=Tt(me.shadowRoot,_t,me.getAttribute("s-mode"));me.classList.remove(dt+"-h",dt+"-s")}((me,je,_t,Ne)=>{const dt=me.shadowRoot,Vt=[],Yt=dt?[]:null,tn=Ne.$vnode$=xe(je,null);dr.$orgLocNodes$||Oe(gr.body,dr.$orgLocNodes$=new Map),me[ot]=_t,me.removeAttribute(ot),j(tn,Vt,[],Yt,me,me,_t),Vt.map(Xt=>{const Mn=Xt.$hostId$+"."+Xt.$nodeId$,qn=dr.$orgLocNodes$.get(Mn),er=Xt.$elm$;qn&&pi&&""===qn["s-en"]&&qn.parentNode.insertBefore(er,qn.nextSibling),dt||(er["s-hn"]=je,qn&&(er["s-ol"]=qn,er["s-ol"]["s-nr"]=er)),dr.$orgLocNodes$.delete(Mn)}),dt&&Yt.map(Xt=>{Xt&&dt.appendChild(Xt)})})(me,_t.$tagName$,ut,je)}ut||12&_t.$flags$&&z(me);{let dt=me;for(;dt=dt.parentNode||dt.host;)if(1===dt.nodeType&&dt.hasAttribute("s-id")&&dt["s-p"]||dt["s-p"]){Dr(je,je.$ancestorComponent$=dt);break}}_t.$members$&&Object.entries(_t.$members$).map(([dt,[Vt]])=>{if(31&Vt&&me.hasOwnProperty(dt)){const Ft=me[dt];delete me[dt],me[dt]=Ft}}),S(me,je,_t)}Ne()}})(this))}disconnectedCallback(){dr.jmp(()=>(me=>{if(!(1&dr.$flags$)){const je=fr(this),_t=je.$lazyInstance$;je.$rmListeners$&&(je.$rmListeners$.map(Ne=>Ne()),je.$rmListeners$=void 0),Cr(_t,"disconnectedCallback")}})())}componentOnReady(){return fr(this).$onReadyPromise$}};Ur.$lazyBundleId$=ai[0],!dt.includes(Zr)&&!Vt.get(Zr)&&(ut.push(Zr),Vt.define(Zr,F(ho,Ur,1)))})});{tn.innerHTML=ut+"{visibility:hidden}.hydrated{visibility:inherit}",tn.setAttribute("data-styles","");const ai=null!==(_t=dr.$nonce$)&&void 0!==_t?_t:Xe(gr);null!=ai&&tn.setAttribute("nonce",ai),Ft.insertBefore(tn,Yt?Yt.nextSibling:Ft.firstChild)}er=!1,Xt.length?Xt.map(ai=>ai.connectedCallback()):dr.jmp(()=>qn=setTimeout(vr,30))},St=(me,je,_t,Ne)=>{_t&&_t.map(([ut,dt,Vt])=>{const Ft=Gt(me,ut),Yt=Ot(je,Vt),tn=Hn(ut);dr.ael(Ft,dt,Yt,tn),(je.$rmListeners$=je.$rmListeners$||[]).push(()=>dr.rel(Ft,dt,Yt,tn))})},Ot=(me,je)=>_t=>{try{256&me.$flags$?me.$lazyInstance$[je](_t):(me.$queuedListeners$=me.$queuedListeners$||[]).push([je,_t])}catch(Ne){Si(Ne)}},Gt=(me,je)=>4&je?gr:8&je?Wr:16&je?gr.body:me,Hn=me=>0!=(2&me),ir=new WeakMap,fr=me=>ir.get(me),$r=(me,je)=>ir.set(je.$lazyInstance$=me,je),ni=(me,je)=>{const _t={$flags$:0,$hostElement$:me,$cmpMeta$:je,$instanceValues$:new Map};return _t.$onInstancePromise$=new Promise(Ne=>_t.$onInstanceResolve$=Ne),_t.$onReadyPromise$=new Promise(Ne=>_t.$onReadyResolve$=Ne),me["s-p"]=[],me["s-rc"]=[],St(me,_t,je.$listeners$),ir.set(me,_t)},Ai=(me,je)=>je in me,Si=(me,je)=>(0,console.error)(me,je),Pr=new Map,Tr=(me,je,_t)=>{const Ne=me.$tagName$.replace(/-/g,"_"),ut=me.$lazyBundleId$,dt=Pr.get(ut);return dt?dt[Ne]:P(863)(`./${ut}.entry.js`).then(Vt=>(Pr.set(ut,Vt),Vt[Ne]),Si)},Yr=new Map,Eo=[],Wr=typeof window<"u"?window:{},gr=Wr.document||{head:{}},dr={$flags$:0,$resourcesUrl$:"",jmp:me=>me(),raf:me=>requestAnimationFrame(me),ael:(me,je,_t,Ne)=>me.addEventListener(je,_t,Ne),rel:(me,je,_t,Ne)=>me.removeEventListener(je,_t,Ne),ce:(me,je)=>new CustomEvent(me,je)},Oo=me=>{Object.assign(dr,me)},pi=!0,Ei=me=>Promise.resolve(me),No=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ki=[],Mr=[],Ii=(me,je)=>_t=>{me.push(_t),fe||(fe=!0,je&&4&dr.$flags$?Hi(di):dr.raf(di))},Vi=me=>{for(let je=0;je<me.length;je++)try{me[je](performance.now())}catch(_t){Si(_t)}me.length=0},di=()=>{Vi(Ki),Vi(Mr),(fe=Ki.length>0)&&dr.raf(di)},Hi=me=>Ei().then(me),co=Ii(Ki,!1),ri=Ii(Mr,!0)},1178:(ln,gt,P)=>{"use strict";P.d(gt,{a:()=>d,b:()=>G,p:()=>c});const c=(ue,...Ae)=>console.warn(`[Ionic Warning]: ${ue}`,...Ae),d=(ue,...Ae)=>console.error(`[Ionic Error]: ${ue}`,...Ae),G=(ue,...Ae)=>console.error(`<${ue.tagName.toLowerCase()}> must be used inside ${Ae.join(" or ")}.`)},4464:(ln,gt,P)=>{"use strict";P.d(gt,{AK:()=>Ae.g,Cl:()=>fe.a,EQ:()=>qe.b,F8:()=>qe.d,Fy:()=>fe.m,G0:()=>fe.l,Jd:()=>qe.c,L$:()=>ce,Mn:()=>fe.t,hh:()=>Fe.c,kx:()=>qe.L,n$:()=>Ae.a,oq:()=>fe.c,qc:()=>le.s,re:()=>qe.a}),P(8127),P(9858),P(2923),P(1898);var Ae=P(953),Fe=P(6655),le=P(3982),qe=P(7774),fe=(P(1840),P(349));P(4110),P(4349),P(661);const ce=ye=>{const{swiper:Ve,extendParams:Ce}=ye,Pe={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};Ve.pagination&&(Pe.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),Ve.scrollbar&&(Pe.scrollbar={hide:!0}),Ce(Pe)}},953:(ln,gt,P)=>{"use strict";P.d(gt,{a:()=>ae,b:()=>be,c:()=>G,g:()=>fe,i:()=>he});var c=P(661);class d{constructor(){this.m=new Map}reset(M){this.m=new Map(Object.entries(M))}get(M,A){const j=this.m.get(M);return void 0!==j?j:A}getBoolean(M,A=!1){const j=this.m.get(M);return void 0===j?A:"string"==typeof j?"true"===j:!!j}getNumber(M,A){const j=parseFloat(this.m.get(M));return isNaN(j)?void 0!==A?A:NaN:j}set(M,A){this.m.set(M,A)}}const G=new d,Qe="ionic-persist-config",fe=Z=>Se(Z),ae=(Z,M)=>("string"==typeof Z&&(M=Z,Z=void 0),fe(Z).includes(M)),Se=(Z=window)=>{if(typeof Z>"u")return[];Z.Ionic=Z.Ionic||{};let M=Z.Ionic.platforms;return null==M&&(M=Z.Ionic.platforms=Ie(Z),M.forEach(A=>Z.document.documentElement.classList.add(`plt-${A}`))),M},Ie=Z=>{const M=G.get("platform");return Object.keys(xe).filter(A=>{const j=M?.[A];return"function"==typeof j?j(Z):xe[A](Z)})},ye=Z=>!!(Xe(Z,/iPad/i)||Xe(Z,/Macintosh/i)&&Ke(Z)),Pe=Z=>Xe(Z,/android|sink/i),Ke=Z=>$e(Z,"(any-pointer:coarse)"),Je=Z=>Ye(Z)||Me(Z),Ye=Z=>!!(Z.cordova||Z.phonegap||Z.PhoneGap),Me=Z=>{const M=Z.Capacitor;return!!M?.isNative},Xe=(Z,M)=>M.test(Z.navigator.userAgent),$e=(Z,M)=>{var A;return null===(A=Z.matchMedia)||void 0===A?void 0:A.call(Z,M).matches},xe={ipad:ye,iphone:Z=>Xe(Z,/iPhone/i),ios:Z=>Xe(Z,/iPhone|iPod/i)||ye(Z),android:Pe,phablet:Z=>{const M=Z.innerWidth,A=Z.innerHeight,j=Math.min(M,A),Oe=Math.max(M,A);return j>390&&j<520&&Oe>620&&Oe<800},tablet:Z=>{const M=Z.innerWidth,A=Z.innerHeight,j=Math.min(M,A),Oe=Math.max(M,A);return ye(Z)||(Z=>Pe(Z)&&!Xe(Z,/mobile/i))(Z)||j>460&&j<820&&Oe>780&&Oe<1400},cordova:Ye,capacitor:Me,electron:Z=>Xe(Z,/electron/i),pwa:Z=>{var M;return!!(null!==(M=Z.matchMedia)&&void 0!==M&&M.call(Z,"(display-mode: standalone)").matches||Z.navigator.standalone)},mobile:Ke,mobileweb:Z=>Ke(Z)&&!Je(Z),desktop:Z=>!Ke(Z),hybrid:Je};let lt;const be=Z=>Z&&(0,c.g)(Z)||lt,he=(Z={})=>{if(typeof window>"u")return;const M=window.document,A=window,j=A.Ionic=A.Ionic||{},Oe={};Z._ael&&(Oe.ael=Z._ael),Z._rel&&(Oe.rel=Z._rel),Z._ce&&(Oe.ce=Z._ce),(0,c.a)(Oe);const pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Z=>{try{const M=Z.sessionStorage.getItem(Qe);return null!==M?JSON.parse(M):{}}catch{return{}}})(A)),{persistConfig:!1}),j.config),(Z=>{const M={};return Z.location.search.slice(1).split("&").map(A=>A.split("=")).map(([A,j])=>[decodeURIComponent(A),decodeURIComponent(j)]).filter(([A])=>((Z,M)=>Z.substr(0,M.length)===M)(A,"ionic:")).map(([A,j])=>[A.slice(6),j]).forEach(([A,j])=>{M[A]=j}),M})(A)),Z);G.reset(pe),G.getBoolean("persistConfig")&&((Z,M)=>{try{Z.sessionStorage.setItem(Qe,JSON.stringify(M))}catch{return}})(A,pe),Se(A),j.config=G,j.mode=lt=G.get("mode",M.documentElement.getAttribute("mode")||(ae(A,"ios")?"ios":"md")),G.set("mode",lt),M.documentElement.setAttribute("mode",lt),M.documentElement.classList.add(lt),G.getBoolean("_testing")&&G.set("animated",!1);const He=Ue=>{var it;return null===(it=Ue.tagName)||void 0===it?void 0:it.startsWith("ION-")},We=Ue=>["ios","md"].includes(Ue);(0,c.c)(Ue=>{for(;Ue;){const it=Ue.mode||Ue.getAttribute("mode");if(it){if(We(it))return it;He(Ue)&&console.warn('Invalid ionic mode: "'+it+'", expected: "ios" or "md"')}Ue=Ue.parentElement}return lt})}},9858:(ln,gt,P)=>{"use strict";P.r(gt),P.d(gt,{iosTransitionAnimation:()=>Ie,shadow:()=>le});var c=P(8127),d=P(7774);P(4110),P(661);const Fe=ce=>document.querySelector(`${ce}.ion-cloned-element`),le=ce=>ce.shadowRoot||ce,qe=ce=>{const ye="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),Ve="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ye){const Ce=ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ce?Ce.querySelector(Ve):null}return ce.querySelector(Ve)},Qe=(ce,ye)=>{const Ve="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let Ce=[];if(null!=Ve){const Pe=Ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Pe&&(Ce=Pe.querySelectorAll("ion-buttons"))}else Ce=ce.querySelectorAll("ion-buttons");for(const Pe of Ce){const ot=Pe.closest("ion-header"),yt=ot&&!ot.classList.contains("header-collapse-condense-inactive"),De=Pe.querySelector("ion-back-button"),Ke=Pe.classList.contains("buttons-collapse");if(null!==De&&("start"===Pe.slot||""===Pe.slot)&&(Ke&&yt&&ye||!Ke))return De}return null},ae=(ce,ye,Ve,Ce,Pe,ot)=>{const yt=ye?`calc(100% - ${ot.right+4}px)`:ot.left-4+"px",De=ye?"7px":"-7px",Ke=ye?"-4px":"4px",Ge=ye?"-4px":"4px",Je=ye?"right":"left",Ye=ye?"left":"right",ze=Ve?[{offset:0,opacity:1,transform:`translate3d(${Ke}, ${ot.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${De}, ${Pe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${De}, ${Pe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ke}, ${ot.top-46}px, 0) scale(1)`}],xe=Ve?[{offset:0,opacity:1,transform:`translate3d(${Ge}, ${ot.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ge}, ${ot.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${ot.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${ot.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ge}, ${ot.top-46}px, 0) scale(1)`}],lt=(0,c.c)(),be=(0,c.c)(),he=Fe("ion-back-button"),Z=le(he).querySelector(".button-text"),M=le(he).querySelector("ion-icon");he.text=Ce.text,he.mode=Ce.mode,he.icon=Ce.icon,he.color=Ce.color,he.disabled=Ce.disabled,he.style.setProperty("display","block"),he.style.setProperty("position","fixed"),be.addElement(M),lt.addElement(Z),lt.beforeStyles({"transform-origin":`${Je} center`}).beforeAddWrite(()=>{Ce.style.setProperty("display","none"),he.style.setProperty(Je,yt)}).afterAddWrite(()=>{Ce.style.setProperty("display",""),he.style.setProperty("display","none"),he.style.removeProperty(Je)}).keyframes(ze),be.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(xe),ce.addAnimation([lt,be])},Se=(ce,ye,Ve,Ce,Pe,ot)=>{const yt=ye?`calc(100% - ${Pe.right}px)`:`${Pe.left}px`,De=ye?"-18px":"18px",Ke=ye?"right":"left",Ye=Ve?[{offset:0,opacity:0,transform:`translate3d(${De}, ${ot.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Pe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Pe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${De}, ${ot.top-4}px, 0) scale(0.5)`}],Me=Fe("ion-title"),oe=(0,c.c)();Me.innerText=Ce.innerText,Me.size=Ce.size,Me.color=Ce.color,oe.addElement(Me),oe.beforeStyles({"transform-origin":`${Ke} center`,height:"46px",display:"",position:"relative",[Ke]:yt}).beforeAddWrite(()=>{Ce.style.setProperty("display","none")}).afterAddWrite(()=>{Ce.style.setProperty("display",""),Me.style.setProperty("display","none")}).keyframes(Ye),ce.addAnimation(oe)},Ie=(ce,ye)=>{var Ve;try{const Ce="cubic-bezier(0.32,0.72,0,1)",Pe="opacity",ot="transform",yt="0%",Ke="rtl"===ce.ownerDocument.dir,Ge=Ke?"-99.5%":"99.5%",Je=Ke?"33%":"-33%",Ye=ye.enteringEl,Me=ye.leavingEl,oe="back"===ye.direction,ze=Ye.querySelector(":scope > ion-content"),Xe=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),$e=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),xe=(0,c.c)(),lt=(0,c.c)();if(xe.addElement(Ye).duration((null!==(Ve=ye.duration)&&void 0!==Ve?Ve:0)||540).easing(ye.easing||Ce).fill("both").beforeRemoveClass("ion-page-invisible"),Me&&null!=ce){const M=(0,c.c)();M.addElement(ce),xe.addAnimation(M)}if(ze||0!==$e.length||0!==Xe.length?(lt.addElement(ze),lt.addElement(Xe)):lt.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xe.addAnimation(lt),oe?lt.beforeClearStyles([Pe]).fromTo("transform",`translateX(${Je})`,`translateX(${yt})`).fromTo(Pe,.8,1):lt.beforeClearStyles([Pe]).fromTo("transform",`translateX(${Ge})`,`translateX(${yt})`),ze){const M=le(ze).querySelector(".transition-effect");if(M){const A=M.querySelector(".transition-cover"),j=M.querySelector(".transition-shadow"),Oe=(0,c.c)(),pe=(0,c.c)(),He=(0,c.c)();Oe.addElement(M).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(A).beforeClearStyles([Pe]).fromTo(Pe,0,.1),He.addElement(j).beforeClearStyles([Pe]).fromTo(Pe,.03,.7),Oe.addAnimation([pe,He]),lt.addAnimation([Oe])}}const be=Ye.querySelector("ion-header.header-collapse-condense"),{forward:he,backward:Z}=((ce,ye,Ve,Ce,Pe)=>{const ot=Qe(Ce,Ve),yt=qe(Pe),De=qe(Ce),Ke=Qe(Pe,Ve),Ge=null!==ot&&null!==yt&&!Ve,Je=null!==De&&null!==Ke&&Ve;if(Ge){const Ye=yt.getBoundingClientRect(),Me=ot.getBoundingClientRect();Se(ce,ye,Ve,yt,Ye,Me),ae(ce,ye,Ve,ot,Ye,Me)}else if(Je){const Ye=De.getBoundingClientRect(),Me=Ke.getBoundingClientRect();Se(ce,ye,Ve,De,Ye,Me),ae(ce,ye,Ve,Ke,Ye,Me)}return{forward:Ge,backward:Je}})(xe,Ke,oe,Ye,Me);if($e.forEach(M=>{const A=(0,c.c)();A.addElement(M),xe.addAnimation(A);const j=(0,c.c)();j.addElement(M.querySelector("ion-title"));const Oe=(0,c.c)(),pe=Array.from(M.querySelectorAll("ion-buttons,[menuToggle]")),He=M.closest("ion-header"),We=He?.classList.contains("header-collapse-condense-inactive");let Ue;Ue=pe.filter(oe?Kt=>{const Tt=Kt.classList.contains("buttons-collapse");return Tt&&!We||!Tt}:Kt=>!Kt.classList.contains("buttons-collapse")),Oe.addElement(Ue);const it=(0,c.c)();it.addElement(M.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const st=(0,c.c)();st.addElement(le(M).querySelector(".toolbar-background"));const at=(0,c.c)(),Ct=M.querySelector("ion-back-button");if(Ct&&at.addElement(Ct),A.addAnimation([j,Oe,it,st,at]),Oe.fromTo(Pe,.01,1),it.fromTo(Pe,.01,1),oe)We||j.fromTo("transform",`translateX(${Je})`,`translateX(${yt})`).fromTo(Pe,.01,1),it.fromTo("transform",`translateX(${Je})`,`translateX(${yt})`),at.fromTo(Pe,.01,1);else if(be||j.fromTo("transform",`translateX(${Ge})`,`translateX(${yt})`).fromTo(Pe,.01,1),it.fromTo("transform",`translateX(${Ge})`,`translateX(${yt})`),st.beforeClearStyles([Pe,"transform"]),He?.translucent?st.fromTo("transform",Ke?"translateX(-100%)":"translateX(100%)","translateX(0px)"):st.fromTo(Pe,.01,"var(--opacity)"),he||at.fromTo(Pe,.01,1),Ct&&!he){const Tt=(0,c.c)();Tt.addElement(le(Ct).querySelector(".button-text")).fromTo("transform",Ke?"translateX(-100px)":"translateX(100px)","translateX(0px)"),A.addAnimation(Tt)}}),Me){const M=(0,c.c)(),A=Me.querySelector(":scope > ion-content"),j=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),Oe=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(A||0!==j.length||0!==Oe.length?(M.addElement(A),M.addElement(Oe)):M.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xe.addAnimation(M),oe){M.beforeClearStyles([Pe]).fromTo("transform",`translateX(${yt})`,Ke?"translateX(-100%)":"translateX(100%)");const pe=(0,d.g)(Me);xe.afterAddWrite(()=>{"normal"===xe.getDirection()&&pe.style.setProperty("display","none")})}else M.fromTo("transform",`translateX(${yt})`,`translateX(${Je})`).fromTo(Pe,1,.8);if(A){const pe=le(A).querySelector(".transition-effect");if(pe){const He=pe.querySelector(".transition-cover"),We=pe.querySelector(".transition-shadow"),Ue=(0,c.c)(),it=(0,c.c)(),st=(0,c.c)();Ue.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),it.addElement(He).beforeClearStyles([Pe]).fromTo(Pe,.1,0),st.addElement(We).beforeClearStyles([Pe]).fromTo(Pe,.7,.03),Ue.addAnimation([it,st]),M.addAnimation([Ue])}}j.forEach(pe=>{const He=(0,c.c)();He.addElement(pe);const We=(0,c.c)();We.addElement(pe.querySelector("ion-title"));const Ue=(0,c.c)(),it=pe.querySelectorAll("ion-buttons,[menuToggle]"),st=pe.closest("ion-header"),at=st?.classList.contains("header-collapse-condense-inactive"),Ct=Array.from(it).filter(Ht=>{const kt=Ht.classList.contains("buttons-collapse");return kt&&!at||!kt});Ue.addElement(Ct);const Kt=(0,c.c)(),Tt=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Tt.length>0&&Kt.addElement(Tt);const gn=(0,c.c)();gn.addElement(le(pe).querySelector(".toolbar-background"));const yn=(0,c.c)(),xt=pe.querySelector("ion-back-button");if(xt&&yn.addElement(xt),He.addAnimation([We,Ue,Kt,yn,gn]),xe.addAnimation(He),yn.fromTo(Pe,.99,0),Ue.fromTo(Pe,.99,0),Kt.fromTo(Pe,.99,0),oe){if(at||We.fromTo("transform",`translateX(${yt})`,Ke?"translateX(-100%)":"translateX(100%)").fromTo(Pe,.99,0),Kt.fromTo("transform",`translateX(${yt})`,Ke?"translateX(-100%)":"translateX(100%)"),gn.beforeClearStyles([Pe,"transform"]),st?.translucent?gn.fromTo("transform","translateX(0px)",Ke?"translateX(-100%)":"translateX(100%)"):gn.fromTo(Pe,"var(--opacity)",0),xt&&!Z){const kt=(0,c.c)();kt.addElement(le(xt).querySelector(".button-text")).fromTo("transform",`translateX(${yt})`,`translateX(${(Ke?-124:124)+"px"})`),He.addAnimation(kt)}}else at||We.fromTo("transform",`translateX(${yt})`,`translateX(${Je})`).fromTo(Pe,.99,0).afterClearStyles([ot,Pe]),Kt.fromTo("transform",`translateX(${yt})`,`translateX(${Je})`).afterClearStyles([ot,Pe]),yn.afterClearStyles([Pe]),We.afterClearStyles([Pe]),Ue.afterClearStyles([Pe])})}return xe}catch(Ce){throw Ce}}},2923:(ln,gt,P)=>{"use strict";P.r(gt),P.d(gt,{mdTransitionAnimation:()=>Ae});var c=P(8127),d=P(7774);P(4110),P(661);const Ae=(Fe,le)=>{var qe,Qe,fe;const Ie="back"===le.direction,ye=le.leavingEl,Ve=(0,d.g)(le.enteringEl),Ce=Ve.querySelector("ion-toolbar"),Pe=(0,c.c)();if(Pe.addElement(Ve).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?Pe.duration((null!==(qe=le.duration)&&void 0!==qe?qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Pe.duration((null!==(Qe=le.duration)&&void 0!==Qe?Qe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ce){const ot=(0,c.c)();ot.addElement(Ce),Pe.addAnimation(ot)}if(ye&&Ie){Pe.duration((null!==(fe=le.duration)&&void 0!==fe?fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ot=(0,c.c)();ot.addElement((0,d.g)(ye)).onFinish(yt=>{1===yt&&ot.elements.length>0&&ot.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Pe.addAnimation(ot)}return Pe}},349:(ln,gt,P)=>{"use strict";P.d(gt,{B:()=>He,G:()=>We,a:()=>ae,b:()=>Se,c:()=>Ve,d:()=>Ue,e:()=>it,f:()=>xe,g:()=>be,h:()=>M,i:()=>j,j:()=>Pe,k:()=>ot,l:()=>Ie,m:()=>ce,n:()=>Qe,o:()=>Ke,q:()=>Xe,s:()=>pe,t:()=>Ce});var c=P(5861),d=P(953),G=P(5381),ue=P(7593),Ae=P(6655),Fe=P(1178);let le=0,qe=0;const Qe=new WeakMap,fe=st=>({create:at=>yt(st,at),dismiss:(at,Ct,Kt)=>oe(document,at,Ct,st,Kt),getTop:()=>(0,c.Z)(function*(){return Xe(document,st)})()}),ae=fe("ion-alert"),Se=fe("ion-action-sheet"),Ie=fe("ion-loading"),ce=fe("ion-modal"),Ve=fe("ion-popover"),Ce=fe("ion-toast"),Pe=st=>{typeof document<"u"&&Me(document);const at=le++;st.overlayIndex=at},ot=st=>(st.hasAttribute("id")||(st.id="ion-overlay-"+ ++qe),st.id),yt=(st,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(st).then(()=>{const Ct=document.createElement(st);return Ct.classList.add("overlay-hidden"),Object.assign(Ct,Object.assign(Object.assign({},at),{hasController:!0})),he(document).appendChild(Ct),new Promise(Kt=>(0,Ae.c)(Ct,Kt))}):Promise.resolve(),De='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ke=(st,at)=>{let Ct=st.querySelector(De);const Kt=Ct?.shadowRoot;Kt&&(Ct=Kt.querySelector(De)||Ct),Ct?(0,Ae.f)(Ct):at.focus()},Je=(st,at)=>{const Ct=Array.from(st.querySelectorAll(De));let Kt=Ct.length>0?Ct[Ct.length-1]:null;const Tt=Kt?.shadowRoot;Tt&&(Kt=Tt.querySelector(De)||Kt),Kt?Kt.focus():at.focus()},Me=st=>{0===le&&(le=1,st.addEventListener("focus",at=>{((st,at)=>{const Ct=Xe(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Kt=st.target;Ct&&Kt&&!Ct.classList.contains("ion-disable-focus-trap")&&(Ct.shadowRoot?(()=>{if(Ct.contains(Kt))Ct.lastFocus=Kt;else{const yn=Ct.lastFocus;Ke(Ct,Ct),yn===at.activeElement&&Je(Ct,Ct),Ct.lastFocus=at.activeElement}})():(()=>{if(Ct===Kt)Ct.lastFocus=void 0;else{const yn=(0,Ae.g)(Ct);if(!yn.contains(Kt))return;const xt=yn.querySelector(".ion-overlay-wrapper");if(!xt)return;if(xt.contains(Kt))Ct.lastFocus=Kt;else{const Ht=Ct.lastFocus;Ke(xt,Ct),Ht===at.activeElement&&Je(xt,Ct),Ct.lastFocus=at.activeElement}}})())})(at,st)},!0),st.addEventListener("ionBackButton",at=>{const Ct=Xe(st);Ct?.backdropDismiss&&at.detail.register(ue.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ct.dismiss(void 0,He))}),st.addEventListener("keydown",at=>{if("Escape"===at.key){const Ct=Xe(st);Ct?.backdropDismiss&&Ct.dismiss(void 0,He)}}))},oe=(st,at,Ct,Kt,Tt)=>{const gn=Xe(st,Kt,Tt);return gn?gn.dismiss(at,Ct):Promise.reject("overlay does not exist")},Xe=(st,at,Ct)=>{const Kt=((st,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(st.querySelectorAll(at)).filter(Ct=>Ct.overlayIndex>0)))(st,at).filter(Tt=>!(st=>st.classList.contains("overlay-hidden"))(Tt));return void 0===Ct?Kt[Kt.length-1]:Kt.find(Tt=>Tt.id===Ct)},$e=(st=!1)=>{const Ct=he(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ct&&(st?Ct.setAttribute("aria-hidden","true"):Ct.removeAttribute("aria-hidden"))},xe=function(){var st=(0,c.Z)(function*(at,Ct,Kt,Tt,gn){var yn,xt;if(at.presented)return;$e(!0),at.presented=!0,at.willPresent.emit(),null===(yn=at.willPresentShorthand)||void 0===yn||yn.emit();const Ht=(0,d.b)(at),kt=at.enterAnimation?at.enterAnimation:d.c.get(Ct,"ios"===Ht?Kt:Tt);(yield Z(at,kt,at.el,gn))&&(at.didPresent.emit(),null===(xt=at.didPresentShorthand)||void 0===xt||xt.emit()),"ION-TOAST"!==at.el.tagName&&lt(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus()});return function(Ct,Kt,Tt,gn,yn){return st.apply(this,arguments)}}(),lt=function(){var st=(0,c.Z)(function*(at){let Ct=document.activeElement;if(!Ct)return;const Kt=Ct?.shadowRoot;Kt&&(Ct=Kt.querySelector(De)||Ct),yield at.onDidDismiss(),Ct.focus()});return function(Ct){return st.apply(this,arguments)}}(),be=function(){var st=(0,c.Z)(function*(at,Ct,Kt,Tt,gn,yn,xt){var Ht,kt;if(!at.presented)return!1;$e(!1),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:Ct,role:Kt}),null===(Ht=at.willDismissShorthand)||void 0===Ht||Ht.emit({data:Ct,role:Kt});const cn=(0,d.b)(at),xn=at.leaveAnimation?at.leaveAnimation:d.c.get(Tt,"ios"===cn?gn:yn);Kt!==We&&(yield Z(at,xn,at.el,xt)),at.didDismiss.emit({data:Ct,role:Kt}),null===(kt=at.didDismissShorthand)||void 0===kt||kt.emit({data:Ct,role:Kt}),Qe.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(cn){console.error(cn)}return at.el.remove(),!0});return function(Ct,Kt,Tt,gn,yn,xt,Ht){return st.apply(this,arguments)}}(),he=st=>st.querySelector("ion-app")||st.body,Z=function(){var st=(0,c.Z)(function*(at,Ct,Kt,Tt){Kt.classList.remove("overlay-hidden");const yn=Ct(at.el,Tt);(!at.animated||!d.c.getBoolean("animated",!0))&&yn.duration(0),at.keyboardClose&&yn.beforeAddWrite(()=>{const Ht=Kt.ownerDocument.activeElement;Ht?.matches("input,ion-input, ion-textarea")&&Ht.blur()});const xt=Qe.get(at)||[];return Qe.set(at,[...xt,yn]),yield yn.play(),!0});return function(Ct,Kt,Tt,gn){return st.apply(this,arguments)}}(),M=(st,at)=>{let Ct;const Kt=new Promise(Tt=>Ct=Tt);return A(st,at,Tt=>{Ct(Tt.detail)}),Kt},A=(st,at,Ct)=>{const Kt=Tt=>{(0,Ae.b)(st,at,Kt),Ct(Tt)};(0,Ae.a)(st,at,Kt)},j=st=>"cancel"===st||st===He,Oe=st=>st(),pe=(st,at)=>{if("function"==typeof st)return d.c.get("_zoneGate",Oe)(()=>{try{return st(at)}catch(Kt){throw Kt}})},He="backdrop",We="gesture",Ue=st=>{let Ct,at=!1;const Kt=(0,G.C)(),Tt=(xt=!1)=>{if(Ct&&!xt)return{delegate:Ct,inline:at};const{el:Ht,hasController:kt,delegate:cn}=st;return at=null!==Ht.parentNode&&!kt,Ct=at?cn||Kt:cn,{inline:at,delegate:Ct}};return{attachViewToDom:function(){var xt=(0,c.Z)(function*(Ht){const{delegate:kt}=Tt(!0);if(kt)return yield kt.attachViewToDom(st.el,Ht);const{hasController:cn}=st;if(cn&&void 0!==Ht)throw new Error("framework delegate is missing");return null});return function(kt){return xt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:xt}=Tt();xt&&void 0!==st.el&&xt.removeViewFromDom(st.el.parentElement,st.el)}}},it=()=>{let st;const at=()=>{st&&(st(),st=void 0)};return{addClickListener:(Kt,Tt)=>{at();const gn=void 0!==Tt?document.getElementById(Tt):null;gn?st=((xt,Ht)=>{const kt=()=>{Ht.present()};return xt.addEventListener("click",kt),()=>{xt.removeEventListener("click",kt)}})(gn,Kt):(0,Fe.p)(`A trigger element with the ID "${Tt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Kt)},removeClickListener:at}}},1332:(ln,gt,P)=>{"use strict";P.d(gt,{e:()=>c});var c=(()=>((c=c||{}).UID="uid",c.TABS="/tabs",c.LOGIN="/login",c.ADMIN="/admin",c))()},4872:(ln,gt,P)=>{"use strict";P.d(gt,{n:()=>c});class c{constructor(G,ue,Ae,Fe,le,qe){this.email=G,this.phone=ue,this.name=Ae,this.uid=Fe,this.type=le,this.status=qe}toPlainObject(){return{email:this.email,phone:this.phone,name:this.name,uid:this.uid,type:this.type,status:this.status}}}},2158:(ln,gt,P)=>{"use strict";P.d(gt,{s:()=>ae});var c=P(5861),d=P(3900);class G{constructor(Ie,ce,ye){this.id=Ie,this.name=ce,this.uid=ye}}class ue{constructor(Ie,ce,ye,Ve,Ce,Pe,ot,yt,De,Ke,Ge,Je){this.id=Ie,this.uid=ce,this.category_id=ye,this.cover=Ve,this.name=Ce,this.desc=Pe,this.price=ot,this.veg=yt,this.status=De,this.variation=Ke,this.rating=Ge,this.quantity=Je}}var Ae=P(9260),le=(P(5878),P(3883));class qe{constructor(Ie,ce,ye,Ve){this.id=Ie,this.banner=ce,this.status=ye,this.res_id=Ve}}var Qe=P(2223),fe=P(4267);let ae=(()=>{class Se{constructor(ce){this.adb=ce,this.radius=20,this.firestore=Ae.Z.firestore(),this.GeoFirestore=le.initializeApp(this.firestore),this.restaurants=[],this.allRestaurants=[],this.restaurants1=[],this.categories=[],this.allItems=[],this.addresses=[],this.orders=[]}collection(ce,ye){return this.adb.collection(ce,ye)}geoCollection(ce){return this.GeoFirestore.collection(ce)}randomString(){return Math.floor(1e8+9e8*Math.random()).toString()}addBanner(ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=ye.randomString(),Ce=new qe(Ve,ce.banner,ce.status);let Pe=Object.assign({},Ce);return delete Pe.res_id,yield ye.collection("banners").doc(Ve).set(Pe),!0}catch(Ve){throw console.log(Ve),Ve}})()}getBanners(){var ce=this;return(0,c.Z)(function*(){try{const ye=yield ce.collection("banners").get().pipe((0,d.w)(function(){var Ve=(0,c.Z)(function*(Ce){let Pe=yield Ce.docs.map(ot=>ot.data());return console.log(Pe),Pe});return function(Ce){return Ve.apply(this,arguments)}}())).toPromise();return console.log(ye),ye}catch(ye){throw ye}})()}getCities(){var ce=this;return(0,c.Z)(function*(){try{const ye=yield ce.collection("cities").get().pipe((0,d.w)(function(){var Ve=(0,c.Z)(function*(Ce){let Pe=yield Ce.docs.map(ot=>{let yt=ot.data();return yt.uid=ot.id,yt});return console.log(Pe),Pe});return function(Ce){return Ve.apply(this,arguments)}}())).toPromise();return console.log(ye),ye}catch(ye){throw ye}})()}addRestaurant(ce,ye){var Ve=this;return(0,c.Z)(function*(){try{let Ce=Object.assign({},ce);return delete Ce.g,delete Ce.distance,console.log(Ce),yield Ve.geoCollection("restaurants").doc(ye).set(Ce)}catch(Ce){throw Ce}})()}getRestaurants(){var ce=this;return(0,c.Z)(function*(){try{const ye=yield ce.collection("restaurants").get().pipe((0,d.w)(function(){var Ve=(0,c.Z)(function*(Ce){let Pe=yield Ce.docs.map(ot=>ot.data());return console.log(Pe),Pe});return function(Ce){return Ve.apply(this,arguments)}}())).toPromise();return console.log(ye),ye}catch(ye){throw ye}})()}getRestaurantById(ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=(yield ye.collection("restaurants").doc(ce).get().toPromise()).data();return console.log(Ve),Ve}catch(Ve){throw Ve}})()}getNearbyRestaurants(ce,ye){var Ve=this;return(0,c.Z)(function*(){try{const Ce=new Ae.Z.firestore.GeoPoint(ce,ye);return yield(yield Ve.geoCollection("restaurants").near({center:Ce,radius:Ve.radius}).get()).docs.sort((yt,De)=>yt.distance-De.distance).map(yt=>{let De=yt.data();return De.id=yt.id,De.distance=yt.distance,De})}catch(Ce){throw Ce}})()}getRestaurantCategories(ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=yield ye.collection("categories",Ce=>Ce.where("uid","==",ce)).get().pipe((0,d.w)(function(){var Ce=(0,c.Z)(function*(Pe){let ot=yield Pe.docs.map(yt=>yt.data());return console.log(ot),ot});return function(Pe){return Ce.apply(this,arguments)}}())).toPromise();return console.log(Ve),Ve}catch(Ve){throw Ve}})()}addCategories(ce,ye){var Ve=this;return(0,c.Z)(function*(){try{return ce.forEach(function(){var Ce=(0,c.Z)(function*(Pe){const ot=Ve.randomString(),yt=new G(ot,Pe,ye);yield Ve.collection("categories").doc(ot).set(Object.assign({},yt))});return function(Pe){return Ce.apply(this,arguments)}}()),!0}catch(Ce){throw Ce}})()}addMenuItem(ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=ye.randomString(),Ce=new ue(Ve,ce.restaurant_id,ye.firestore.collection("categories").doc(ce.category_id),ce.cover,ce.name,ce.description,ce.price,ce.veg,ce.status,!1,0);let Pe=Object.assign({},Ce);return delete Pe.quantity,console.log(Pe),yield ye.collection("menu").doc(ce.restaurant_id).collection("allItems").doc(Ve).set(Pe),!0}catch(Ve){throw Ve}})()}getRestaurantMenu(ce){var ye=this;return(0,c.Z)(function*(){try{const Ce=(yield ye.collection("menu").doc(ce).collection("allItems",Pe=>Pe.where("status","==",!0))).get().pipe((0,d.w)(function(){var Pe=(0,c.Z)(function*(ot){let yt=yield ot.docs.map(De=>{let Ke=De.data();return Ke.category_id.get().then(Ge=>{Ke.category_id=Ge.data()}).catch(Ge=>{throw Ge}),Ke});return console.log(yt),yt});return function(ot){return Pe.apply(this,arguments)}}())).toPromise();return console.log(Ce),Ce}catch(Ve){throw Ve}})()}}return Se.\u0275fac=function(ce){return new(ce||Se)(Qe.LFG(fe.ST))},Se.\u0275prov=Qe.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},1228:(ln,gt,P)=>{"use strict";P.d(gt,{e:()=>fe});var c=P(5861),d=P(4872),G=P(1332),ue=P(1135),Ae=P(2223),Fe=P(8135),le=P(7341),qe=P(2158);class Qe{constructor(Se){this.uid=Se}}let fe=(()=>{class ae{constructor(Ie,ce,ye){this.storage=Ie,this.fireAuth=ce,this.apiService=ye,this._uid=new ue.X(ae.UNKNOWN_USER)}login(Ie,ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=yield ye.fireAuth.signInWithEmailAndPassword(Ie,ce);if(console.log(Ve),Ve.user)return ye.setUserData(Ve.user.uid),(yield ye.getUserData(Ve.user.uid)).type}catch(Ve){throw Ve}})()}getId(){var Ie=this;return(0,c.Z)(function*(){const ce=Ie._uid.value;return console.log("auth user id: ",ce?.uid),ce?.uid?ce.uid:(yield Ie.storage.getStorage(G.e.UID)).value})()}setUserData(Ie){this.storage.setStorage(G.e.UID,Ie),this._uid.next(new Qe(Ie))}register(Ie,ce){var ye=this;return(0,c.Z)(function*(){try{const Ve=yield ye.fireAuth.createUserWithEmailAndPassword(Ie.email,Ie.password);console.log("register user: ",Ve);const Ce=new d.n(Ie.email,Ie.phone,Ie.name,Ve.user.uid,ce||"user","active");return yield ye.apiService.collection("users").doc(Ve.user.uid).set(Object.assign({},Ce)),(!ce||"restaurant"!=ce)&&(yield ye.setUserData(Ve.user.uid)),{id:Ve.user.uid,type:ce||"user"}}catch(Ve){throw Ve}})()}resetPassword(Ie){var ce=this;return(0,c.Z)(function*(){try{yield ce.fireAuth.sendPasswordResetEmail(Ie)}catch(ye){throw ye}})()}logout(){var Ie=this;return(0,c.Z)(function*(){try{return yield Ie.fireAuth.signOut(),Ie._uid.next(ae.UNKNOWN_USER),Ie.storage.removeStorage(G.e.UID)}catch(ce){throw ce}})()}updateEmail(Ie,ce,ye){var Ve=this;return(0,c.Z)(function*(){try{yield(yield Ve.fireAuth.signInWithEmailAndPassword(Ie,ye)).user.updateEmail(ce)}catch(Ce){throw console.log(Ce),Ce}})()}checkAuth(){return new Promise((Ie,ce)=>{this.fireAuth.onAuthStateChanged(ye=>{console.log("auth user: ",ye),Ie(ye)})})}checkUserAuth(){var Ie=this;return(0,c.Z)(function*(){try{const ce=yield Ie.checkAuth();if(ce){Ie.setUserData(ce.uid);const ye=yield Ie.getUserData(ce.uid);return!!ye&&ye.type}return!1}catch(ce){throw ce}})()}getUserData(Ie){var ce=this;return(0,c.Z)(function*(){return(yield ce.apiService.collection("users").doc(Ie).get().toPromise()).data()})()}}return ae.UNKNOWN_USER=null,ae.\u0275fac=function(Ie){return new(Ie||ae)(Ae.LFG(Fe.V),Ae.LFG(le.zQ),Ae.LFG(qe.s))},ae.\u0275prov=Ae.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},7020:(ln,gt,P)=>{"use strict";P.d(gt,{U:()=>ae});var c=P(5861),d=P(7423),G=(()=>((G=G||{}).Dark="DARK",G.Light="LIGHT",G.Default="DEFAULT",G))();const le=(0,d.fo)("StatusBar");var qe=P(4464),Qe=P(2223),fe=P(6794);let ae=(()=>{class Se{constructor(ce,ye,Ve,Ce){this.alertCtrl=ce,this.toastCtrl=ye,this.loadingCtrl=Ve,this.modalCtrl=Ce,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(ce,ye,Ve,Ce){this.alertCtrl.create({header:ye||"Authentication failed",message:ce,inputs:Ce||[],buttons:Ve||["Okay"]}).then(Pe=>Pe.present())}showToast(ce,ye,Ve,Ce=3e3){var Pe=this;return(0,c.Z)(function*(){(yield Pe.toastCtrl.create({message:ce,duration:Ce,color:ye,position:Ve})).present()})()}errorToast(ce,ye=4e3){this.showToast(ce||"No Internet Connection","danger","bottom",ye)}successToast(ce){this.showToast(ce,"success","bottom")}showLoader(ce,ye){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:ce,spinner:ye||"bubbles"}).then(Ve=>{Ve.present().then(()=>{this.isLoading||Ve.dismiss().then(()=>{console.log("abort presenting")})})}).catch(Ve=>{console.log("show loading error: ",Ve)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(ce=>console.log("error hide loader: ",ce))}createModal(ce){var ye=this;return(0,c.Z)(function*(){const Ve=yield ye.modalCtrl.create(ce);yield Ve.present();const{data:Ce}=yield Ve.onWillDismiss();if(console.log(Ce),Ce)return Ce})()}modalDismiss(ce){let ye=ce||null;console.log("data",ye),this.modalCtrl.dismiss(ye)}getIcon(ce){switch(ce.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}checkPlatformForWeb(){return"web"==d.dV.getPlatform()}customStatusbar(ce){var ye=this;return(0,c.Z)(function*(){ye.checkStatusbarStyle(),ye.checkPlatformForWeb()||(yield le.setStyle({style:ce?G.Dark:G.Default}),(0,qe.n$)("android")&&ce&&(yield le.setBackgroundColor({color:"#de0f17"})))})()}checkStatusbarStyle(){return(0,c.Z)(function*(){const ce=yield le.getInfo();console.log(ce.style)})()}}return Se.\u0275fac=function(ce){return new(ce||Se)(Qe.LFG(fe.Br),Qe.LFG(fe.yF),Qe.LFG(fe.HT),Qe.LFG(fe.IN))},Se.\u0275prov=Qe.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},8135:(ln,gt,P)=>{"use strict";P.d(gt,{V:()=>ue});const d=(0,P(7423).fo)("Preferences",{web:()=>P.e(8359).then(P.bind(P,8359)).then(Ae=>new Ae.PreferencesWeb)});var G=P(2223);let ue=(()=>{class Ae{constructor(){}setStorage(le,qe){d.set({key:le,value:qe})}getStorage(le){return d.get({key:le})}removeStorage(le){d.remove({key:le})}clearStorage(){d.clear()}}return Ae.\u0275fac=function(le){return new(le||Ae)},Ae.\u0275prov=G.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},2340:(ln,gt,P)=>{"use strict";P.d(gt,{N:()=>c});const c={production:!0,firebase:{apiKey:"AIzaSyCny9x4n1U9NUzJd-f7SfSEbCkq9lmBcwo",authDomain:"fooddeliveryapp-47907.firebaseapp.com",projectId:"fooddeliveryapp-47907",storageBucket:"fooddeliveryapp-47907.firebasestorage.app",messagingSenderId:"362935719807",appId:"1:362935719807:web:9a6c89d169897b6c482c4a",measurementId:"G-3D55R6WYNK"},googleMapsApiKey:"AIzaSyCM6jFWstITniRv6C-_cbfSyXL2Vb3XI6w"}},7497:(ln,gt,P)=>{"use strict";var c=P(6550),d=P(2223),G=P(4517),ue=P(6794),Ae=P(7020);let Fe=(()=>{class k{constructor(ge,ht){this.platform=ge,this.global=ht,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.global.customStatusbar()})}}return k.\u0275fac=function(ge){return new(ge||k)(d.Y36(ue.t4),d.Y36(Ae.U))},k.\u0275cmp=d.Xpm({type:k,selectors:[["app-root"]],decls:2,vars:0,template:function(ge,ht){1&ge&&(d.TgZ(0,"ion-app"),d._UZ(1,"ion-router-outlet"),d.qZA())},dependencies:[ue.dr,ue.jP]}),k})();var le=P(5861),qe=P(1332),Qe=P(1228);let fe=(()=>{class k{constructor(ge,ht,qt){this.alertCtrl=ge,this.authService=ht,this.router=qt}canLoad(ge,ht){var qt=this;return(0,le.Z)(function*(){const rn=ge.data.type;try{const Pn=yield qt.authService.checkUserAuth();if(Pn){if(Pn==rn)return!0;{let Ir=qe.e.TABS;return"admin"==Pn&&(Ir=qe.e.ADMIN),qt.navigate(Ir),!1}}return qt.checkForAlert(rn),!1}catch(Pn){return console.log(Pn),qt.checkForAlert(rn),!1}})()}navigate(ge){return this.router.navigateByUrl(ge,{replaceUrl:!0}),!1}checkForAlert(ge){var ht=this;return(0,le.Z)(function*(){const qt=yield ht.authService.getId();qt?(console.log("alert: ",qt),ht.showAlert(ge)):(ht.authService.logout(),ht.navigate(qe.e.LOGIN))})()}showAlert(ge){this.alertCtrl.create({header:"Authentication failed",message:"Please check your Internet Connectivity and try again",buttons:[{text:"Logout",handler:()=>{this.authService.logout(),this.navigate(qe.e.LOGIN)}},{text:"Retry",handler:()=>{let ht=qe.e.TABS;"admin"==ge&&(ht=qe.e.ADMIN),this.navigate(ht)}}]}).then(ht=>ht.present())}}return k.\u0275fac=function(ge){return new(ge||k)(d.LFG(ue.Br),d.LFG(Qe.e),d.LFG(G.F0))},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Se=[{path:"",redirectTo:"tabs",pathMatch:"full"},{path:"tabs",loadChildren:()=>P.e(5879).then(P.bind(P,5879)).then(k=>k.TabsPageModule),canLoad:[fe],data:{type:"user"}},{path:"login",loadChildren:()=>P.e(8802).then(P.bind(P,8802)).then(k=>k.LoginPageModule),canLoad:[(()=>{class k{constructor(ge,ht){this.authService=ge,this.router=ht}canLoad(ge,ht){var qt=this;return(0,le.Z)(function*(){try{const rn=yield qt.authService.getId();return console.log(rn),!rn||(qt.router.navigateByUrl(qe.e.TABS,{replaceUrl:!0}),!1)}catch(rn){return console.log(rn),!0}})()}}return k.\u0275fac=function(ge){return new(ge||k)(d.LFG(Qe.e),d.LFG(G.F0))},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()]},{path:"admin",loadChildren:()=>P.e(9125).then(P.bind(P,9125)).then(k=>k.AdminPageModule),canLoad:[fe],data:{type:"admin"}}];let Ie=(()=>{class k{}return k.\u0275fac=function(ge){return new(ge||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[G.Bz.forRoot(Se,{preloadingStrategy:G.wm}),G.Bz]}),k})();var ce=P(3144),ye=P(1180),Ve=P(259),Ce=P(6161);class Pe{constructor(q){return q}}class ot{constructor(){return(0,Ve.C6)()}}const Ke=new d.OlP("angularfire2._apps"),Ge={provide:Pe,useFactory:function De(k){return k&&1===k.length?k[0]:new Pe((0,Ve.Mq)())},deps:[[new d.FiY,Ke]]},Je={provide:ot,deps:[[new d.FiY,Ke]]};function Ye(k){return(q,ge)=>{const ht=q.runOutsideAngular(()=>k(ge));return new Pe(ht)}}let Me=(()=>{class k{constructor(ge){(0,Ve.KN)("angularfire",Ce.q4.full,"core"),(0,Ve.KN)("angularfire",Ce.q4.full,"app"),(0,Ve.KN)("angular",d.q4F.full,ge.toString())}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)(d.LFG(d.Lbi))}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[Ge,Je]})),k})();function oe(k,...q){return{ngModule:Me,providers:[{provide:Ke,useFactory:Ye(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,...q]}]}}const xe=(0,Ce.u3)(Ve.ZF,!0);var Z=P(8966),M=P(9681),A=P(2090),j=P(1877),Oe=P(4859);class He{constructor(q){return q}}class We{constructor(){return(0,Ce.vb)("auth")}}const it=new d.OlP("angularfire2.auth-instances");function at(k){return(q,ge)=>{const ht=q.runOutsideAngular(()=>k(ge));return new He(ht)}}const Ct={provide:We,deps:[[new d.FiY,it]]},Kt={provide:He,useFactory:function st(k,q){const ge=(0,Ce.JM)("auth",k,q);return ge&&new He(ge)},deps:[[new d.FiY,it],Pe]};let Tt=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"auth")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[Kt,Ct]})),k})();function gn(k,...q){return{ngModule:Tt,providers:[{provide:it,useFactory:at(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,[new d.FiY,Ce.Rf],...q]}]}}const Nn=(0,Ce.u3)(Z.o,!0);var Wr=P(2404);class gr{constructor(q){return q}}const dr="firestore",Ei=new d.OlP("angularfire2.firestore-instances");function Ki(k){return(q,ge)=>{const ht=q.runOutsideAngular(()=>k(ge));return new gr(ht)}}const Mr={provide:class Oo{constructor(){return(0,Ce.vb)(dr)}},deps:[[new d.FiY,Ei]]},Ii={provide:gr,useFactory:function No(k,q){const ge=(0,Ce.JM)(dr,k,q);return ge&&new gr(ge)},deps:[[new d.FiY,Ei],Pe]};let Vi=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"fst")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[Ii,Mr]})),k})();function di(k,...q){return{ngModule:Vi,providers:[{provide:Ei,useFactory:Ki(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,[new d.FiY,We],[new d.FiY,Ce.Rf],...q]}]}}const oo=(0,Ce.u3)(Wr.ad,!0),jo="functions";class U{constructor(q,ge,ht){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=q.getImmediate({optional:!0}),this.messaging=ge.getImmediate({optional:!0}),this.auth||q.get().then(qt=>this.auth=qt,()=>{}),this.messaging||ge.get().then(qt=>this.messaging=qt,()=>{}),this.appCheck||ht.get().then(qt=>this.appCheck=qt,()=>{})}getAuthToken(){var q=this;return(0,le.Z)(function*(){if(q.auth)try{const ge=yield q.auth.getToken();return ge?.accessToken}catch{return}})()}getMessagingToken(){var q=this;return(0,le.Z)(function*(){if(q.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield q.messaging.getToken()}catch{return}})()}getAppCheckToken(q){var ge=this;return(0,le.Z)(function*(){if(ge.appCheck){const ht=q?yield ge.appCheck.getLimitedUseToken():yield ge.appCheck.getToken();return ht.error?null:ht.token}return null})()}getContext(q){var ge=this;return(0,le.Z)(function*(){return{authToken:yield ge.getAuthToken(),messagingToken:yield ge.getMessagingToken(),appCheckToken:yield ge.getAppCheckToken(q)}})()}}const we="us-central1";class Rn{constructor(q,ge,ht,qt,rn=we,Pn){this.app=q,this.fetchImpl=Pn,this.emulatorOrigin=null,this.contextProvider=new U(ge,ht,qt),this.cancelAllRequests=new Promise(Ir=>{this.deleteService=()=>Promise.resolve(Ir())});try{const Ir=new URL(rn);this.customDomain=Ir.origin+("/"===Ir.pathname?"":Ir.pathname),this.region=we}catch{this.customDomain=null,this.region=rn}}_delete(){return this.deleteService()}_url(q){const ge=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${ge}/${this.region}/${q}`:null!==this.customDomain?`${this.customDomain}/${q}`:`https://${this.region}-${ge}.cloudfunctions.net/${q}`}}const Ks="@firebase/functions";function Ns(k=(0,M.getApp)(),q=we){const ht=(0,M._getProvider)((0,A.m9)(k),jo).getImmediate({identifier:q}),qt=(0,A.P0)("functions");return qt&&function Cs(k,q,ge){!function yi(k,q,ge){k.emulatorOrigin=`http://${q}:${ge}`}((0,A.m9)(k),q,ge)}(ht,...qt),ht}!function Qi(k,q){(0,M._registerComponent)(new Oe.wA(jo,(ht,{instanceIdentifier:qt})=>{const rn=ht.getProvider("app").getImmediate(),Pn=ht.getProvider("auth-internal"),Ir=ht.getProvider("messaging-internal"),Ti=ht.getProvider("app-check-internal");return new Rn(rn,Pn,Ir,Ti,qt,k)},"PUBLIC").setMultipleInstances(!0)),(0,M.registerVersion)(Ks,"0.11.8",q),(0,M.registerVersion)(Ks,"0.11.8","esm2017")}(fetch.bind(self));class ba{constructor(q){return q}}const ks="functions",Er=new d.OlP("angularfire2.functions-instances");function Zs(k){return(q,ge)=>{const ht=q.runOutsideAngular(()=>k(ge));return new ba(ht)}}const Ta={provide:class vu{constructor(){return(0,Ce.vb)(ks)}},deps:[[new d.FiY,Er]]},sa={provide:ba,useFactory:function Fl(k,q){const ge=(0,Ce.JM)(ks,k,q);return ge&&new ba(ge)},deps:[[new d.FiY,Er],Pe]};let Ll=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"fn")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[sa,Ta]})),k})();function As(k,...q){return{ngModule:Ll,providers:[{provide:Er,useFactory:Zs(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,[new d.FiY,We],[new d.FiY,Ce.Rf],...q]}]}}const $a=(0,Ce.u3)(Ns,!0);var Fs=P(8766);const Ss="@firebase/installations",li="0.6.9",Rs=1e4,Qo=`w:${li}`,wo="FIS_v2",us="https://firebaseinstallations.googleapis.com/v1",x=36e5,rt=new A.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(k){return k instanceof A.ZR&&k.code.includes("request-failed")}function Qt({projectId:k}){return`${us}/projects/${k}/installations`}function Vn(k){return{token:k.token,requestStatus:2,expiresIn:Gi(k.expiresIn),creationTime:Date.now()}}function oi(k,q){return si.apply(this,arguments)}function si(){return(si=(0,le.Z)(function*(k,q){const ht=(yield q.json()).error;return rt.create("request-failed",{requestName:k,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Vr({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Pi(k){return An.apply(this,arguments)}function An(){return(An=(0,le.Z)(function*(k){const q=yield k();return q.status>=500&&q.status<600?k():q})).apply(this,arguments)}function Gi(k){return Number(k.replace("s","000"))}function Ui(){return(Ui=(0,le.Z)(function*({appConfig:k,heartbeatServiceProvider:q},{fid:ge}){const ht=Qt(k),qt=Vr(k),rn=q.getImmediate({optional:!0});if(rn){const br=yield rn.getHeartbeatsHeader();br&&qt.append("x-firebase-client",br)}const Ir={method:"POST",headers:qt,body:JSON.stringify({fid:ge,authVersion:wo,appId:k.appId,sdkVersion:Qo})},Ti=yield Pi(()=>fetch(ht,Ir));if(Ti.ok){const br=yield Ti.json();return{fid:br.fid||ge,registrationStatus:2,refreshToken:br.refreshToken,authToken:Vn(br.authToken)}}throw yield oi("Create Installation",Ti)})).apply(this,arguments)}function Ho(k){return new Promise(q=>{setTimeout(q,k)})}const es=/^[cdef][\w-]{21}$/,Ls="";function go(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const ge=function Kr(k){return function Ko(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return es.test(ge)?ge:Ls}catch{return Ls}}function Da(k){return`${k.appName}!${k.appId}`}const aa=new Map;function an(k,q){const ge=Da(k);Iu(ge,q),function $i(k,q){const ge=function ms(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=k=>{Iu(k.data.key,k.data.fid)}),Vs}();ge&&ge.postMessage({key:k,fid:q}),function mo(){0===aa.size&&Vs&&(Vs.close(),Vs=null)}()}(ge,q)}function Iu(k,q){const ge=aa.get(k);if(ge)for(const ht of ge)ht(q)}let Vs=null;const Xs="firebase-installations-database",ua=1,Bs="firebase-installations-store";let Ua=null;function bu(){return Ua||(Ua=(0,Fs.X3)(Xs,ua,{upgrade:(k,q)=>{0===q&&k.createObjectStore(Bs)}})),Ua}function Ro(k,q){return _s.apply(this,arguments)}function _s(){return(_s=(0,le.Z)(function*(k,q){const ge=Da(k),qt=(yield bu()).transaction(Bs,"readwrite"),rn=qt.objectStore(Bs),Pn=yield rn.get(ge);return yield rn.put(q,ge),yield qt.done,(!Pn||Pn.fid!==q.fid)&&an(k,q.fid),q})).apply(this,arguments)}function Qs(k){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,le.Z)(function*(k){const q=Da(k),ht=(yield bu()).transaction(Bs,"readwrite");yield ht.objectStore(Bs).delete(q),yield ht.done})).apply(this,arguments)}function ls(k,q){return ja.apply(this,arguments)}function ja(){return(ja=(0,le.Z)(function*(k,q){const ge=Da(k),qt=(yield bu()).transaction(Bs,"readwrite"),rn=qt.objectStore(Bs),Pn=yield rn.get(ge),Ir=q(Pn);return void 0===Ir?yield rn.delete(ge):yield rn.put(Ir,ge),yield qt.done,Ir&&(!Pn||Pn.fid!==Ir.fid)&&an(k,Ir.fid),Ir})).apply(this,arguments)}function Tu(k){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,le.Z)(function*(k){let q;const ge=yield ls(k.appConfig,ht=>{const qt=function za(k){return cs(k||{fid:go(),registrationStatus:0})}(ht),rn=function wu(k,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(rt.create("app-offline"))};const ge={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},ht=function Du(k,q){return Wi.apply(this,arguments)}(k,ge);return{installationEntry:ge,registrationPromise:ht}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:la(k)}:{installationEntry:q}}(k,qt);return q=rn.registrationPromise,rn.installationEntry});return ge.fid===Ls?{installationEntry:yield q}:{installationEntry:ge,registrationPromise:q}}),Ha.apply(this,arguments)}function Wi(){return Wi=(0,le.Z)(function*(k,q){try{const ge=yield function is(k,q){return Ui.apply(this,arguments)}(k,q);return Ro(k.appConfig,ge)}catch(ge){throw jt(ge)&&409===ge.customData.serverCode?yield Qs(k.appConfig):yield Ro(k.appConfig,{fid:q.fid,registrationStatus:0}),ge}}),Wi.apply(this,arguments)}function la(k){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,le.Z)(function*(k){let q=yield Cu(k.appConfig);for(;1===q.registrationStatus;)yield Ho(100),q=yield Cu(k.appConfig);if(0===q.registrationStatus){const{installationEntry:ge,registrationPromise:ht}=yield Tu(k);return ht||ge}return q})).apply(this,arguments)}function Cu(k){return ls(k,q=>{if(!q)throw rt.create("installation-not-found");return cs(q)})}function cs(k){return function ys(k){return 1===k.registrationStatus&&k.registrationTime+Rs<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Ca(){return(Ca=(0,le.Z)(function*({appConfig:k,heartbeatServiceProvider:q},ge){const ht=function Aa(k,{fid:q}){return`${Qt(k)}/${q}/authTokens:generate`}(k,ge),qt=function Wn(k,{refreshToken:q}){const ge=Vr(k);return ge.append("Authorization",function Jo(k){return`${wo} ${k}`}(q)),ge}(k,ge),rn=q.getImmediate({optional:!0});if(rn){const br=yield rn.getHeartbeatsHeader();br&&qt.append("x-firebase-client",br)}const Ir={method:"POST",headers:qt,body:JSON.stringify({installation:{sdkVersion:Qo,appId:k.appId}})},Ti=yield Pi(()=>fetch(ht,Ir));if(Ti.ok)return Vn(yield Ti.json());throw yield oi("Generate Auth Token",Ti)})).apply(this,arguments)}function Wa(k){return qa.apply(this,arguments)}function qa(){return qa=(0,le.Z)(function*(k,q=!1){let ge;const ht=yield ls(k.appConfig,rn=>{if(!R(rn))throw rt.create("not-registered");const Pn=rn.authToken;if(!q&&function E(k){return 2===k.requestStatus&&!function N(k){const q=Date.now();return q<k.creationTime||k.creationTime+k.expiresIn<q+x}(k)}(Pn))return rn;if(1===Pn.requestStatus)return ge=function vc(k,q){return zo.apply(this,arguments)}(k,q),rn;{if(!navigator.onLine)throw rt.create("app-offline");const Ir=function re(k){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:q})}(rn);return ge=function Ni(k,q){return T.apply(this,arguments)}(k,Ir),Ir}});return ge?yield ge:ht.authToken}),qa.apply(this,arguments)}function zo(){return(zo=(0,le.Z)(function*(k,q){let ge=yield Js(k.appConfig);for(;1===ge.authToken.requestStatus;)yield Ho(100),ge=yield Js(k.appConfig);const ht=ge.authToken;return 0===ht.requestStatus?Wa(k,q):ht})).apply(this,arguments)}function Js(k){return ls(k,q=>{if(!R(q))throw rt.create("not-registered");return function Re(k){return 1===k.requestStatus&&k.requestTime+Rs<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function T(){return T=(0,le.Z)(function*(k,q){try{const ge=yield function Ji(k,q){return Ca.apply(this,arguments)}(k,q),ht=Object.assign(Object.assign({},q),{authToken:ge});return yield Ro(k.appConfig,ht),ge}catch(ge){if(!jt(ge)||401!==ge.customData.serverCode&&404!==ge.customData.serverCode){const ht=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Ro(k.appConfig,ht)}else yield Qs(k.appConfig);throw ge}}),T.apply(this,arguments)}function R(k){return void 0!==k&&2===k.registrationStatus}function At(){return(At=(0,le.Z)(function*(k){const q=k,{installationEntry:ge,registrationPromise:ht}=yield Tu(q);return ht?ht.catch(console.error):Wa(q).catch(console.error),ge.fid})).apply(this,arguments)}function zn(){return zn=(0,le.Z)(function*(k,q=!1){const ge=k;return yield function Jn(k){return Hr.apply(this,arguments)}(ge),(yield Wa(ge,q)).token}),zn.apply(this,arguments)}function Hr(){return(Hr=(0,le.Z)(function*(k){const{registrationPromise:q}=yield Tu(k);q&&(yield q)})).apply(this,arguments)}function $s(k){return rt.create("missing-app-config-values",{valueName:k})}const Ya="installations",Xa=k=>{const q=k.getProvider("app").getImmediate(),ge=function oh(k){if(!k||!k.options)throw $s("App Configuration");if(!k.name)throw $s("App Name");const q=["projectId","apiKey","appId"];for(const ge of q)if(!k.options[ge])throw $s(ge);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(q);return{app:q,appConfig:ge,heartbeatServiceProvider:(0,M._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Au=k=>{const q=k.getProvider("app").getImmediate(),ge=(0,M._getProvider)(q,Ya).getImmediate();return{getId:()=>function Be(k){return At.apply(this,arguments)}(ge),getToken:qt=>function mn(k){return zn.apply(this,arguments)}(ge,qt)}};(function sh(){(0,M._registerComponent)(new Oe.wA(Ya,Xa,"PUBLIC")),(0,M._registerComponent)(new Oe.wA("installations-internal",Au,"PRIVATE"))})(),(0,M.registerVersion)(Ss,li),(0,M.registerVersion)(Ss,li,"esm2017");const Vl="/firebase-messaging-sw.js",Su="/firebase-cloud-messaging-push-scope",Ec="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ru="https://fcmregistrations.googleapis.com/v1",Bl="google.c.a.c_id",Ju="google.c.a.c_l",ah="google.c.a.ts";var ta=(()=>((ta=ta||{}).PUSH_RECEIVED="push-received",ta.NOTIFICATION_CLICKED="notification-clicked",ta))();function eo(k){const q=new Uint8Array(k);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ic(k){const ge=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ht=atob(ge),qt=new Uint8Array(ht.length);for(let rn=0;rn<ht.length;++rn)qt[rn]=ht.charCodeAt(rn);return qt}const Ja="fcm_token_details_db",tl=5,Pu="fcm_token_object_Store";function da(){return da=(0,le.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rn=>rn.name).includes(Ja))return null;let q=null;return(yield(0,Fs.X3)(Ja,tl,{upgrade:(ht=(0,le.Z)(function*(qt,rn,Pn,Ir){var Ti;if(rn<2||!qt.objectStoreNames.contains(Pu))return;const br=Ir.objectStore(Pu),wi=yield br.index("fcmSenderId").get(k);if(yield br.clear(),wi)if(2===rn){const Br=wi;if(!Br.auth||!Br.p256dh||!Br.endpoint)return;q={token:Br.fcmToken,createTime:null!==(Ti=Br.createTime)&&void 0!==Ti?Ti:Date.now(),subscriptionOptions:{auth:Br.auth,p256dh:Br.p256dh,endpoint:Br.endpoint,swScope:Br.swScope,vapidKey:"string"==typeof Br.vapidKey?Br.vapidKey:eo(Br.vapidKey)}}}else if(3===rn){const Br=wi;q={token:Br.fcmToken,createTime:Br.createTime,subscriptionOptions:{auth:eo(Br.auth),p256dh:eo(Br.p256dh),endpoint:Br.endpoint,swScope:Br.swScope,vapidKey:eo(Br.vapidKey)}}}else if(4===rn){const Br=wi;q={token:Br.fcmToken,createTime:Br.createTime,subscriptionOptions:{auth:eo(Br.auth),p256dh:eo(Br.p256dh),endpoint:Br.endpoint,swScope:Br.swScope,vapidKey:eo(Br.vapidKey)}}}}),function(rn,Pn,Ir,Ti){return ht.apply(this,arguments)})})).close(),yield(0,Fs.Lj)(Ja),yield(0,Fs.Lj)("fcm_vapid_details_db"),yield(0,Fs.Lj)("undefined"),function ha(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:q}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}(q)?q:null;var ht}),da.apply(this,arguments)}const fa="firebase-messaging-database",pa=1,Us="firebase-messaging-store";let rl=null;function bc(){return rl||(rl=(0,Fs.X3)(fa,pa,{upgrade:(k,q)=>{0===q&&k.createObjectStore(Us)}})),rl}function vs(){return vs=(0,le.Z)(function*(k){const q=xu(k),ht=yield(yield bc()).transaction(Us).objectStore(Us).get(q);if(ht)return ht;{const qt=yield function nl(k){return da.apply(this,arguments)}(k.appConfig.senderId);if(qt)return yield il(k,qt),qt}}),vs.apply(this,arguments)}function il(k,q){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,le.Z)(function*(k,q){const ge=xu(k),qt=(yield bc()).transaction(Us,"readwrite");return yield qt.objectStore(Us).put(q,ge),yield qt.done,q})).apply(this,arguments)}function xu({appConfig:k}){return k.appId}const Do=new A.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ou(k,q){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,le.Z)(function*(k,q){const ge=yield Ra(k),ht=pd(q),qt={method:"POST",headers:ge,body:JSON.stringify(ht)};let rn;try{rn=yield(yield fetch(tu(k.appConfig),qt)).json()}catch(Pn){throw Do.create("token-subscribe-failed",{errorInfo:Pn?.toString()})}if(rn.error)throw Do.create("token-subscribe-failed",{errorInfo:rn.error.message});if(!rn.token)throw Do.create("token-subscribe-no-token");return rn.token})).apply(this,arguments)}function Yo(){return(Yo=(0,le.Z)(function*(k,q){const ge=yield Ra(k),ht=pd(q.subscriptionOptions),qt={method:"PATCH",headers:ge,body:JSON.stringify(ht)};let rn;try{rn=yield(yield fetch(`${tu(k.appConfig)}/${q.token}`,qt)).json()}catch(Pn){throw Do.create("token-update-failed",{errorInfo:Pn?.toString()})}if(rn.error)throw Do.create("token-update-failed",{errorInfo:rn.error.message});if(!rn.token)throw Do.create("token-update-no-token");return rn.token})).apply(this,arguments)}function Es(){return(Es=(0,le.Z)(function*(k,q){const ht={method:"DELETE",headers:yield Ra(k)};try{const rn=yield(yield fetch(`${tu(k.appConfig)}/${q}`,ht)).json();if(rn.error)throw Do.create("token-unsubscribe-failed",{errorInfo:rn.error.message})}catch(qt){throw Do.create("token-unsubscribe-failed",{errorInfo:qt?.toString()})}})).apply(this,arguments)}function tu({projectId:k}){return`${Ru}/projects/${k}/registrations`}function Ra(k){return qi.apply(this,arguments)}function qi(){return(qi=(0,le.Z)(function*({appConfig:k,installations:q}){const ge=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function pd({p256dh:k,auth:q,endpoint:ge,vapidKey:ht}){const qt={web:{endpoint:ge,auth:q,p256dh:k}};return ht!==Ec&&(qt.web.applicationPubKey=ht),qt}const ol=6048e5;function zl(){return zl=(0,le.Z)(function*(k){const q=yield function uh(k,q){return ki.apply(this,arguments)}(k.swRegistration,k.vapidKey),ge={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:q.endpoint,auth:eo(q.getKey("auth")),p256dh:eo(q.getKey("p256dh"))},ht=yield function eu(k){return vs.apply(this,arguments)}(k.firebaseDependencies);if(ht){if(function Gl(k,q){return q.vapidKey===k.vapidKey&&q.endpoint===k.endpoint&&q.auth===k.auth&&q.p256dh===k.p256dh}(ht.subscriptionOptions,ge))return Date.now()>=ht.createTime+ol?function Tc(k,q){return Pa.apply(this,arguments)}(k,{token:ht.token,createTime:Date.now(),subscriptionOptions:ge}):ht.token;try{yield function Hs(k,q){return Es.apply(this,arguments)}(k.firebaseDependencies,ht.token)}catch(qt){console.warn(qt)}return ku(k.firebaseDependencies,ge)}return ku(k.firebaseDependencies,ge)}),zl.apply(this,arguments)}function Pa(){return Pa=(0,le.Z)(function*(k,q){try{const ge=yield function jl(k,q){return Yo.apply(this,arguments)}(k.firebaseDependencies,q),ht=Object.assign(Object.assign({},q),{token:ge,createTime:Date.now()});return yield il(k.firebaseDependencies,ht),ge}catch(ge){throw ge}}),Pa.apply(this,arguments)}function ku(k,q){return ga.apply(this,arguments)}function ga(){return(ga=(0,le.Z)(function*(k,q){const ht={token:yield Ou(k,q),createTime:Date.now(),subscriptionOptions:q};return yield il(k,ht),ht.token})).apply(this,arguments)}function ki(){return(ki=(0,le.Z)(function*(k,q){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ic(q)})})).apply(this,arguments)}function Fu(k){const q={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Wl(k,q){if(!q.notification)return;k.notification={};const ge=q.notification.title;ge&&(k.notification.title=ge);const ht=q.notification.body;ht&&(k.notification.body=ht);const qt=q.notification.image;qt&&(k.notification.image=qt);const rn=q.notification.icon;rn&&(k.notification.icon=rn)}(q,k),function ds(k,q){q.data&&(k.data=q.data)}(q,k),function Ma(k,q){var ge,ht,qt,rn,Pn;if(!(q.fcmOptions||null!==(ge=q.notification)&&void 0!==ge&&ge.click_action))return;k.fcmOptions={};const Ir=null!==(qt=null===(ht=q.fcmOptions)||void 0===ht?void 0:ht.link)&&void 0!==qt?qt:null===(rn=q.notification)||void 0===rn?void 0:rn.click_action;Ir&&(k.fcmOptions.link=Ir);const Ti=null===(Pn=q.fcmOptions)||void 0===Pn?void 0:Pn.analytics_label;Ti&&(k.fcmOptions.analyticsLabel=Ti)}(q,k),q}function ql(k){return Do.create("missing-app-config-values",{valueName:k})}!function ma(k,q){const ge=[];for(let ht=0;ht<k.length;ht++)ge.push(k.charAt(ht)),ht<q.length&&ge.push(q.charAt(ht));ge.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gd{constructor(q,ge,ht){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const qt=function Lu(k){if(!k||!k.options)throw ql("App Configuration Object");if(!k.name)throw ql("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ge}=k;for(const ht of q)if(!ge[ht])throw ql(ht);return{appName:k.name,projectId:ge.projectId,apiKey:ge.apiKey,appId:ge.appId,senderId:ge.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:qt,installations:ge,analyticsProvider:ht}}_delete(){return Promise.resolve()}}function Cc(){return(Cc=(0,le.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Vl,{scope:Su}),k.swRegistration.update().catch(()=>{})}catch(q){throw Do.create("failed-service-worker-registration",{browserErrorMessage:q?.message})}})).apply(this,arguments)}function zs(){return(zs=(0,le.Z)(function*(k,q){if(!q&&!k.swRegistration&&(yield function Dc(k){return Cc.apply(this,arguments)}(k)),q||!k.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw Do.create("invalid-sw-registration");k.swRegistration=q}})).apply(this,arguments)}function Ac(){return(Ac=(0,le.Z)(function*(k,q){q?k.vapidKey=q:k.vapidKey||(k.vapidKey=Ec)})).apply(this,arguments)}function Vu(){return Vu=(0,le.Z)(function*(k,q){if(!navigator)throw Do.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Do.create("permission-blocked");return yield function iu(k,q){return Ac.apply(this,arguments)}(k,q?.vapidKey),yield function Mo(k,q){return zs.apply(this,arguments)}(k,q?.serviceWorkerRegistration),function Hl(k){return zl.apply(this,arguments)}(k)}),Vu.apply(this,arguments)}function Rc(){return(Rc=(0,le.Z)(function*(k,q,ge){const ht=function md(k){switch(k){case ta.NOTIFICATION_CLICKED:return"notification_open";case ta.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(q);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ht,{message_id:ge[Bl],message_name:ge[Ju],message_time:ge[ah],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ao(){return ao=(0,le.Z)(function*(k,q){const ge=q.data;if(!ge.isFirebaseMessaging)return;k.onMessageHandler&&ge.messageType===ta.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Fu(ge)):k.onMessageHandler.next(Fu(ge)));const ht=ge.data;(function wc(k){return"object"==typeof k&&!!k&&Bl in k})(ht)&&"1"===ht["google.c.a.e"]&&(yield function lh(k,q,ge){return Rc.apply(this,arguments)}(k,ge.messageType,ht))}),ao.apply(this,arguments)}const Kl="@firebase/messaging",sl="0.12.12",ch=k=>{const q=new gd(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ge=>function Pc(k,q){return ao.apply(this,arguments)}(q,ge)),q},Yl=k=>{const q=k.getProvider("messaging").getImmediate();return{getToken:ht=>function Sc(k,q){return Vu.apply(this,arguments)}(q,ht)}};function al(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,le.Z)(function*(){try{yield(0,A.eu)()}catch{return!1}return typeof window<"u"&&(0,A.hl)()&&(0,A.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Zl(k=(0,M.getApp)()){return al().then(q=>{if(!q)throw Do.create("unsupported-browser")},q=>{throw Do.create("indexed-db-unsupported")}),(0,M._getProvider)((0,A.m9)(k),"messaging").getImmediate()}!function Mc(){(0,M._registerComponent)(new Oe.wA("messaging",ch,"PUBLIC")),(0,M._registerComponent)(new Oe.wA("messaging-internal",Yl,"PRIVATE")),(0,M.registerVersion)(Kl,sl),(0,M.registerVersion)(Kl,sl,"esm2017")}();class cl{constructor(q){return q}}const dh="messaging",yd="__angularfire_symbol__messagingIsSupported",$u="__angularfire_symbol__messagingIsSupportedValue";globalThis[yd]||=al().then(k=>globalThis[$u]=k).catch(()=>globalThis[$u]=!1);const Oa={async:()=>globalThis[yd],sync:()=>{const k=globalThis[$u];if(void 0===k)throw new Error((0,Ce.af)("Messaging"));return k}},Oc=new d.OlP("angularfire2.messaging-instances");function vd(k){return(q,ge)=>{if(!Oa.sync())return null;const ht=q.runOutsideAngular(()=>k(ge));return new cl(ht)}}const Nc={provide:class xc{constructor(){return(0,Ce.vb)(dh)}},deps:[[new d.FiY,Oc]]},Ed={provide:cl,useFactory:function uu(k,q){if(!Oa.sync())return null;const ge=(0,Ce.JM)(dh,k,q);return ge&&new cl(ge)},deps:[[new d.FiY,Oc],Pe]};let lu=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"fcm")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[Ed,Nc,{provide:d.ip1,useValue:Oa.async,multi:!0}]})),k})();function cu(k,...q){return{ngModule:lu,providers:[{provide:Oc,useFactory:vd(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,...q]}]}}const kc=(0,Ce.u3)(Zl,!0),Fc="@firebase/remote-config",Lc="remote-config",hs=new A.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function g(k=(0,M.getApp)()){return k=(0,A.m9)(k),(0,M._getProvider)(k,Lc).getImmediate()}class Ql{constructor(q,ge,ht,qt){this.client=q,this.storage=ge,this.storageCache=ht,this.logger=qt}isCachedDataFresh(q,ge){if(!ge)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ht=Date.now()-ge,qt=ht<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ht}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${qt}.`),qt}fetch(q){var ge=this;return(0,le.Z)(function*(){const[ht,qt]=yield Promise.all([ge.storage.getLastSuccessfulFetchTimestampMillis(),ge.storage.getLastSuccessfulFetchResponse()]);if(qt&&ge.isCachedDataFresh(q.cacheMaxAgeMillis,ht))return qt;q.eTag=qt&&qt.eTag;const rn=yield ge.client.fetch(q),Pn=[ge.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rn.status&&Pn.push(ge.storage.setLastSuccessfulFetchResponse(rn)),yield Promise.all(Pn),rn})()}}function hl(k=navigator){return k.languages&&k.languages[0]||k.language}class Id{constructor(q,ge,ht,qt,rn,Pn){this.firebaseInstallations=q,this.sdkVersion=ge,this.namespace=ht,this.projectId=qt,this.apiKey=rn,this.appId=Pn}fetch(q){var ge=this;return(0,le.Z)(function*(){const[ht,qt]=yield Promise.all([ge.firebaseInstallations.getId(),ge.firebaseInstallations.getToken()]),Pn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ge.projectId}/namespaces/${ge.namespace}:fetch?key=${ge.apiKey}`,Ir={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},Ti={sdk_version:ge.sdkVersion,app_instance_id:ht,app_instance_id_token:qt,app_id:ge.appId,language_code:hl()},br={method:"POST",headers:Ir,body:JSON.stringify(Ti)},wi=fetch(Pn,br),Br=new Promise((xs,Gs)=>{q.signal.addEventListener(()=>{const Ch=new Error("The operation was aborted.");Ch.name="AbortError",Gs(Ch)})});let El;try{yield Promise.race([wi,Br]),El=yield wi}catch(xs){let Gs="fetch-client-network";throw"AbortError"===xs?.name&&(Gs="fetch-timeout"),hs.create(Gs,{originalErrorMessage:xs?.message})}let pu=El.status;const Dh=El.headers.get("ETag")||void 0;let Nd,sc;if(200===El.status){let xs;try{xs=yield El.json()}catch(Gs){throw hs.create("fetch-client-parse",{originalErrorMessage:Gs?.message})}Nd=xs.entries,sc=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===sc?pu=500:"NO_CHANGE"===sc?pu=304:("NO_TEMPLATE"===sc||"EMPTY_CONFIG"===sc)&&(Nd={}),304!==pu&&200!==pu)throw hs.create("fetch-status",{httpStatus:pu});return{status:pu,eTag:Dh,config:Nd}})()}}class Jl{constructor(q,ge){this.client=q,this.storage=ge}fetch(q){var ge=this;return(0,le.Z)(function*(){const ht=(yield ge.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ge.attemptFetch(q,ht)})()}attemptFetch(q,{throttleEndTimeMillis:ge,backoffCount:ht}){var qt=this;return(0,le.Z)(function*(){yield function bd(k,q){return new Promise((ge,ht)=>{const qt=Math.max(q-Date.now(),0),rn=setTimeout(ge,qt);k.addEventListener(()=>{clearTimeout(rn),ht(hs.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ge);try{const rn=yield qt.client.fetch(q);return yield qt.storage.deleteThrottleMetadata(),rn}catch(rn){if(!function ts(k){if(!(k instanceof A.ZR&&k.customData))return!1;const q=Number(k.customData.httpStatus);return 429===q||500===q||503===q||504===q}(rn))throw rn;const Pn={throttleEndTimeMillis:Date.now()+(0,A.$s)(ht),backoffCount:ht+1};return yield qt.storage.setThrottleMetadata(Pn),qt.attemptFetch(q,Pn)}})()}}class Bo{constructor(q,ge,ht,qt,rn){this.app=q,this._client=ge,this._storageCache=ht,this._storage=qt,this._logger=rn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Is(k,q){const ge=k.target.error||void 0;return hs.create(q,{originalErrorMessage:ge&&ge?.message})}const Ms="app_namespace_store";class Tf{constructor(q,ge,ht,qt=function Td(){return new Promise((k,q)=>{try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=ht=>{q(Is(ht,"storage-open"))},ge.onsuccess=ht=>{k(ht.target.result)},ge.onupgradeneeded=ht=>{0===ht.oldVersion&&ht.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(ge){q(hs.create("storage-open",{originalErrorMessage:ge?.message}))}})}()){this.appId=q,this.appName=ge,this.namespace=ht,this.openDbPromise=qt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ge=this;return(0,le.Z)(function*(){const ht=yield ge.openDbPromise;return new Promise((qt,rn)=>{const Ir=ht.transaction([Ms],"readonly").objectStore(Ms),Ti=ge.createCompositeKey(q);try{const br=Ir.get(Ti);br.onerror=wi=>{rn(Is(wi,"storage-get"))},br.onsuccess=wi=>{const Br=wi.target.result;qt(Br?Br.value:void 0)}}catch(br){rn(hs.create("storage-get",{originalErrorMessage:br?.message}))}})})()}set(q,ge){var ht=this;return(0,le.Z)(function*(){const qt=yield ht.openDbPromise;return new Promise((rn,Pn)=>{const Ti=qt.transaction([Ms],"readwrite").objectStore(Ms),br=ht.createCompositeKey(q);try{const wi=Ti.put({compositeKey:br,value:ge});wi.onerror=Br=>{Pn(Is(Br,"storage-set"))},wi.onsuccess=()=>{rn()}}catch(wi){Pn(hs.create("storage-set",{originalErrorMessage:wi?.message}))}})})()}delete(q){var ge=this;return(0,le.Z)(function*(){const ht=yield ge.openDbPromise;return new Promise((qt,rn)=>{const Ir=ht.transaction([Ms],"readwrite").objectStore(Ms),Ti=ge.createCompositeKey(q);try{const br=Ir.delete(Ti);br.onerror=wi=>{rn(Is(wi,"storage-delete"))},br.onsuccess=()=>{qt()}}catch(br){rn(hs.create("storage-delete",{originalErrorMessage:br?.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class wd{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,le.Z)(function*(){const ge=q.storage.getLastFetchStatus(),ht=q.storage.getLastSuccessfulFetchTimestampMillis(),qt=q.storage.getActiveConfig(),rn=yield ge;rn&&(q.lastFetchStatus=rn);const Pn=yield ht;Pn&&(q.lastSuccessfulFetchTimestampMillis=Pn);const Ir=yield qt;Ir&&(q.activeConfig=Ir)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function Up(){return pl.apply(this,arguments)}function pl(){return(pl=(0,le.Z)(function*(){if(!(0,A.hl)())return!1;try{return yield(0,A.eu)()}catch{return!1}})).apply(this,arguments)}!function ph(){(0,M._registerComponent)(new Oe.wA(Lc,function k(q,{instanceIdentifier:ge}){const ht=q.getProvider("app").getImmediate(),qt=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hs.create("registration-window");if(!(0,A.hl)())throw hs.create("indexed-db-unavailable");const{projectId:rn,apiKey:Pn,appId:Ir}=ht.options;if(!rn)throw hs.create("registration-project-id");if(!Pn)throw hs.create("registration-api-key");if(!Ir)throw hs.create("registration-app-id");const Ti=new Tf(Ir,ht.name,ge=ge||"firebase"),br=new wd(Ti),wi=new j.Yd(Fc);wi.logLevel=j.in.ERROR;const Br=new Id(qt,M.SDK_VERSION,ge,rn,Pn,Ir),El=new Jl(Br,Ti),pu=new Ql(El,Ti,br,wi),Dh=new Bo(ht,pu,br,Ti,wi);return function Te(k){const q=(0,A.m9)(k);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Dh),Dh},"PUBLIC").setMultipleInstances(!0)),(0,M.registerVersion)(Fc,"0.4.9"),(0,M.registerVersion)(Fc,"0.4.9","esm2017")}();class $c{constructor(q){return q}}const Cd="remote-config",gh="__angularfire_symbol__remoteConfigIsSupportedValue",tc="__angularfire_symbol__remoteConfigIsSupported";globalThis[tc]||=Up().then(k=>globalThis[gh]=k).catch(()=>globalThis[gh]=!1);const hu={async:()=>globalThis[tc],sync:()=>{const k=globalThis[gh];if(void 0===k)throw new Error((0,Ce.af)("RemoteConfig"));return k}},nc=new d.OlP("angularfire2.remote-config-instances");function fu(k){return(q,ge)=>{if(!hu.sync())return null;const ht=q.runOutsideAngular(()=>k(ge));return new $c(ht)}}const Ad={provide:class Uc{constructor(){return(0,Ce.vb)(Cd)}},deps:[[new d.FiY,nc]]},mh={provide:$c,useFactory:function gl(k,q){if(!hu.sync())return null;const ge=(0,Ce.JM)(Cd,k,q);return ge&&new $c(ge)},deps:[[new d.FiY,nc],Pe]};let Sd=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"rc")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[mh,Ad,{provide:d.ip1,useValue:hu.async,multi:!0}]})),k})();function Df(k,...q){return{ngModule:Sd,providers:[{provide:nc,useFactory:fu(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,...q]}]}}const ra=(0,Ce.u3)(g,!0);var Hc=P(6961);class ml{constructor(q){return q}}const _l="storage",zc=new d.OlP("angularfire2.storage-instances");function xd(k){return(q,ge)=>{const ht=q.runOutsideAngular(()=>k(ge));return new ml(ht)}}const rc={provide:class Rf{constructor(){return(0,Ce.vb)(_l)}},deps:[[new d.FiY,zc]]},yl={provide:ml,useFactory:function Gc(k,q){const ge=(0,Ce.JM)(_l,k,q);return ge&&new ml(ge)},deps:[[new d.FiY,zc],Pe]};let Pf=(()=>{class k{constructor(){(0,Ve.KN)("angularfire",Ce.q4.full,"gcs")}}return(0,ye.Z)(k,"\u0275fac",function(ge){return new(ge||k)}),(0,ye.Z)(k,"\u0275mod",d.oAB({type:k})),(0,ye.Z)(k,"\u0275inj",d.cJS({providers:[yl,rc]})),k})();function vh(k,...q){return{ngModule:Pf,providers:[{provide:zc,useFactory:xd(k),multi:!0,deps:[d.R0b,d.zs3,Ce.HU,ot,[new d.FiY,We],[new d.FiY,Ce.Rf],...q]}]}}const xf=(0,Ce.u3)(Hc.cF,!0);var Kc=P(2340),Od=P(3593),Th=P(7341),vl=P(4267),oc=P(9097);let wh=(()=>{class k{}return k.\u0275fac=function(ge){return new(ge||k)},k.\u0275mod=d.oAB({type:k,bootstrap:[Fe]}),k.\u0275inj=d.cJS({providers:[{provide:G.wN,useClass:ue.r4}],imports:[c.b2,ue.Pc.forRoot(),Ie,ce.JF,Od.hO.initializeApp(Kc.N.firebase),Th.ww,vl.yb,oc.TE,oe(()=>xe(Kc.N.firebase)),gn(()=>Nn()),di(()=>oo()),As(()=>$a()),cu(()=>kc()),Df(()=>ra()),vh(()=>xf())]}),k})();Kc.N.production&&(0,d.G48)(),c.q6().bootstrapModule(wh).catch(k=>console.log(k))},3883:function(ln,gt){!function(P){"use strict";const c="0123456789bcdefghjkmnpqrstuvwxyz";function d(M){return M*Math.PI/180}function G(M,A=!1){let j;if("string"!=typeof M)j="geohash must be a string";else if(0===M.length)j="geohash cannot be the empty string";else for(const Oe of M)-1===c.indexOf(Oe)&&(j="geohash cannot contain '"+Oe+"'");if(void 0===j||A)return!j;throw new Error("Invalid geohash '"+M+"': "+j)}function ue(M,A=!1){const j=[];if(M)if(void 0===M.lat)j.push("Latitude must exist on coordinates");else if(void 0===M.lng)j.push("Longitude must exist on coordinates");else{const Oe=M.lat,pe=M.lng;"number"!=typeof Oe||isNaN(Oe)?j.push("Latitude must be a number."):Oe<-90||Oe>90?j.push("Latitude must be within the range [-90, 90]."):"number"!=typeof pe||isNaN(pe)?j.push("Longitude must be a number"):(pe<-180||pe>180)&&j.push("Longitude must be within the range [-180, 180]")}else j.push("Coordinates must exist.");if(j.length>0&&!A)throw new Error("Invalid coordinates: "+j.join(" "));return!j}function Ae(M,A=10){if(ue(M),"number"!=typeof A||isNaN(A))throw new Error("Precision must be a number");if(A<=0)throw new Error("Precision must be greater than 0");if(A>22)throw new Error("Precision cannot be greater than 22");if(Math.round(A)!==A)throw new Error("Precision must be an integer");const j=[-90,90],Oe=[-180,180];let pe="",He=0,We=0,Ue=1;for(;pe.length<A;){const st=Ue?Oe:j,at=(st[0]+st[1])/2;(Ue?M.lng:M.lat)>at?(He=1+(He<<1),st[0]=at):(He=0+(He<<1),st[1]=at),Ue=!Ue,We<4?We++:(We=0,pe+=c.charAt(He),He=0)}return pe}function Fe(M,A=!1){let j;if("[object Object]"!==Object.prototype.toString.call(M)?j="no document found":"g"in M?(j=G(M.g.geohash,!0)?j:"invalid geohash on object",j=qe(M.g.geopoint,!0)?j:"invalid location on object"):j="no `g` field found in object",void 0===j||A)return!j;throw new Error("Invalid GeoFirestore object: "+j)}function le(M,A=!1){let j;if("number"!=typeof M||isNaN(M)?j="limit must be a number":M<0&&(j="limit must be greater than or equal to 0"),void 0===j||A)return!j;throw new Error(j)}function qe(M,A=!1){let j;if(M)if(void 0===M.latitude)j="latitude must exist on GeoPoint";else if(void 0===M.longitude)j="longitude must exist on GeoPoint";else{const Oe=M.latitude,pe=M.longitude;"number"!=typeof Oe||isNaN(Oe)?j="latitude must be a number":Oe<-90||Oe>90?j="latitude must be within the range [-90, 90]":"number"!=typeof pe||isNaN(pe)?j="longitude must be a number":(pe<-180||pe>180)&&(j="longitude must be within the range [-180, 180]")}else j="GeoPoint must exist";if(void 0===j||A)return!j;throw new Error("Invalid location: "+j)}function Qe(M,A=!1){if("object"!=typeof M)throw new Error("QueryCriteria must be an object");if(void 0===M.center&&void 0===M.radius)throw new Error("radius and/or center must be specified");if(A&&(void 0===M.center||void 0===M.radius))throw new Error("QueryCriteria for a new query must contain both a center and a radius");const j=Object.keys(M);for(const Oe of j)if(!["center","radius","limit"].includes(Oe))throw new Error("Unexpected attribute '"+Oe+"' found in query criteria");if(void 0!==M.center&&qe(M.center),void 0!==M.radius){if("number"!=typeof M.radius||isNaN(M.radius))throw new Error("radius must be a number");if(M.radius<0)throw new Error("radius must be greater than or equal to 0")}void 0!==M.limit&&le(M.limit)}const fe="0123456789bcdefghjkmnpqrstuvwxyz",ae=110574;function Ie(M,A){return qe(M),qe(A),function(j,Oe,pe="km"){ue(j),ue(Oe);const He="miles"===pe.toLowerCase()?3963:6371,We=d(Oe.lat-j.lat),Ue=d(Oe.lng-j.lng),it=d(j.lat),st=d(Oe.lat),at=Math.sin(We/2)*Math.sin(We/2)+Math.sin(Ue/2)*Math.sin(Ue/2)*Math.cos(it)*Math.cos(st);return He*(2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at)))}({lat:M.latitude,lng:M.longitude},{lat:A.latitude,lng:A.longitude})}function ce(M,A,j=!1){let Oe,pe;if((A=A||"coordinates")in M)pe=M[A];else{const He=A.split(".");pe=M;for(const We of He){if(!(We in pe)){pe=M.coordinates;break}pe=pe[We]}}if(pe||(Oe="could not find GeoPoint"),pe&&!qe(pe,!0)&&(Oe="invalid GeoPoint"),Oe&&!j)throw new Error("Invalid GeoFirestore document: "+Oe);return pe}function ye(M,A){const j=(pe=A,Fe(Oe=M.data(),!0)?{data:()=>Oe,distance:pe?Ie(Oe.g.geopoint,pe):null}:{data:()=>Oe,distance:null});var Oe,pe;return Object.assign({exists:M.exists,id:M.id},j)}function Ve(M,A){let j=function(Oe,pe){qe(Oe);const He=Math.max(1,function Se(M,A){const j=A/ae,Oe=Math.min(90,M.latitude+j),pe=Math.max(-90,M.latitude-j),He=2*Math.floor(Math.min(Ce(20003930/A),110)),Ue=2*Math.floor(Pe(A,Oe))-1,it=2*Math.floor(Pe(A,pe))-1;return Math.min(He,Ue,it,110)}(Oe,pe)),We=Math.ceil(He/5),Ue=function(it,st){const at=st/ae,Ct=Math.min(90,it.latitude+at),Kt=Math.max(-90,it.latitude-at),Tt=ot(st,Ct),gn=ot(st,Kt),yn=Math.max(Tt,gn);return[De(it.latitude,it.longitude),De(it.latitude,Ke(it.longitude-yn)),De(it.latitude,Ke(it.longitude+yn)),De(Ct,it.longitude),De(Ct,Ke(it.longitude-yn)),De(Ct,Ke(it.longitude+yn)),De(Kt,it.longitude),De(Kt,Ke(it.longitude-yn)),De(Kt,Ke(it.longitude+yn))]}(Oe,pe).map(it=>function(st,at){G(st);const Ct=Math.ceil(at/5);if(st.length<Ct)return[st,st+"~"];const Kt=st.substring(0,Ct),Tt=Kt.substring(0,Kt.length-1),gn=fe.indexOf(Kt.charAt(Kt.length-1)),xt=5-(at-5*Tt.length),Ht=gn>>xt<<xt,kt=Ht+(1<<xt);return kt>31?[Tt+fe[Ht],Tt+"~"]:[Tt+fe[Ht],Tt+fe[kt]]}(Ae({lat:it.latitude,lng:it.longitude},We),He));return Ue.filter((it,st)=>!Ue.some((at,Ct)=>st>Ct&&it[0]===at[0]&&it[1]===at[1]))}(A.center,1e3*A.radius).map(yt);return j=j.filter((Oe,pe)=>j.indexOf(Oe)===pe),j.map(Oe=>{const pe=function(He){const We=He.split(":");if(2!==We.length)throw new Error("Invalid internal state! Not a valid geohash query: "+He);return We}(Oe);return M.orderBy("g.geohash").startAt(pe[0]).endAt(pe[1])})}function Ce(M){return Math.log(M)/Math.log(2)}function Pe(M,A){const j=ot(M,A);return Math.abs(j)>1e-6?Math.max(1,Ce(360/j)):1}function ot(M,A){const j=function(pe){if("number"!=typeof pe||isNaN(pe))throw new Error("Error: degrees must be a number");return pe*Math.PI/180}(A),Oe=6378137*Math.cos(j)*Math.PI/180*(1/Math.sqrt(1-.00669447819799*Math.sin(j)*Math.sin(j)));return Oe<1e-12?M>0?360:0:Math.min(360,M/Oe)}function yt(M){if(2!==M.length)throw new Error("Not a valid geohash query: "+M);return M[0]+":"+M[1]}function De(M,A){const j={latitude:M,longitude:A};return qe(j),j}function Ke(M){if(M<=180&&M>=-180)return M;const A=M+180;return A>0?A%360-180:180- -A%360}function Ge(M,A){if("[object Object]"!==Object.prototype.toString.call(M))throw new Error("document must be an object");const j=ce(M,A&&A.customKey,A&&(A.merge||!!A.mergeFields));return j?Ye(j,M):M}function Je(M,A){if("[object Object]"!==Object.prototype.toString.call(M))throw new Error("document must be an object");const j=ce(M,A,!0);return j?Ye(j,M):M}function Ye(M,A){qe(M);const j=Ae({lat:M.latitude,lng:M.longitude});return Object.assign(Object.assign({},A),{g:{geopoint:M,geohash:j}})}class Me{constructor(A,j){this._querySnapshot=A,this._center=j,j&&qe(j),this._docs=A.docs.map(Oe=>ye(Oe,j))}get native(){return this._querySnapshot}get docs(){return this._docs}get size(){return this._docs.length}get empty(){return!this._docs.length}docChanges(){return(Array.isArray(this._querySnapshot.docChanges)?this._querySnapshot.docChanges:this._querySnapshot.docChanges()).map(A=>({doc:ye(A.doc,this._center),newIndex:A.newIndex,oldIndex:A.oldIndex,type:A.type}))}forEach(A,j){this.docs.forEach(A,j)}}class oe{constructor(A,j){if(this._queryCriteria=j,this._docs=new Map,Qe(j),A.forEach(Oe=>{Oe.docs.forEach(pe=>{const He=Ie(this._queryCriteria.center,pe.data().g.geopoint);this._queryCriteria.radius>=He&&this._docs.set(pe.id,pe)})}),this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const Oe=Array.from(this._docs.values()).map(pe=>({distance:Ie(this._queryCriteria.center,pe.data().g.geopoint),id:pe.id})).sort((pe,He)=>pe.distance-He.distance);for(let pe=this._queryCriteria.limit;pe<Oe.length;pe++)this._docs.delete(Oe[pe].id)}}getGeoQuerySnapshot(){const A=Array.from(this._docs.values());return new Me({docs:A,docChanges:()=>A.map((j,Oe)=>({doc:j,newIndex:Oe,oldIndex:-1,type:"added"}))},this._queryCriteria.center)}}class ze{constructor(A,j,Oe,pe=(()=>{})){this._queries=A,this._queryCriteria=j,this._onNext=Oe,this._onError=pe,this._docs=new Map,this._firstRoundResolved=!1,this._firstEmitted=!1,this._newValues=!1,this._subscriptions=[],this._queriesResolved=[],Qe(j),this._queriesResolved=new Array(A.length).fill(0),A.forEach((He,We)=>{const Ue=He.onSnapshot(it=>this._processSnapshot(it,We),it=>this._error=it);this._subscriptions.push(Ue)}),this._interval=setInterval(()=>this._emit(),100)}unsubscribe(){return()=>{clearInterval(this._interval),this._subscriptions.forEach(A=>A())}}_next(){if(this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const pe=Array.from(this._docs.values()).sort((He,We)=>He.distance-We.distance);for(let He=this._queryCriteria.limit;He<pe.length;He++)if(pe[He].emitted){const We={change:Object.assign({},pe[He].change),distance:pe[He].distance,emitted:pe[He].emitted};We.change.type="removed",this._docs.set(We.change.doc.id,We)}else this._docs.delete(pe[He].change.doc.id)}let A=0;const j=Array.from(this._docs.values()).map((pe,He)=>{const We={type:pe.change.type,doc:pe.change.doc,oldIndex:pe.emitted?pe.change.newIndex:-1,newIndex:"removed"!==pe.change.type?He-A:-1};return"removed"===We.type?(A--,this._docs.delete(We.doc.id)):this._docs.set(We.doc.id,{change:We,distance:pe.distance,emitted:!0}),We}),Oe=j.reduce((pe,He)=>(He.newIndex>=0?pe.push(He.doc):this._docs.delete(He.doc.id),pe),[]);this._firstEmitted=!0,this._onNext(new Me({docs:Oe,docChanges:()=>j.reduce((pe,He)=>(-1!==He.oldIndex&&"added"===He.type||pe.push(He),pe),[])},this._queryCriteria.center))}_emit(){this._error?(this._onError(this._error),this.unsubscribe()()):this._newValues&&this._firstRoundResolved?(this._newValues=!1,this._next()):this._firstRoundResolved||(this._firstRoundResolved=this._queriesResolved.reduce((A,j)=>A+j,0)===this._queries.length)}_processSnapshot(A,j){const Oe=Array.isArray(A.docChanges)?A.docChanges:A.docChanges();this._firstRoundResolved||(this._queriesResolved[j]=1),Oe.length?Oe.forEach(pe=>{const He=pe.doc.data(),We=Fe(He,!0)?He.g.geopoint:null,Ue=We?Ie(this._queryCriteria.center,We):null,it=pe.doc.id,st=this._docs.get(it),at={change:{doc:pe.doc,oldIndex:st&&this._firstEmitted?st.change.oldIndex:-1,newIndex:st&&this._firstEmitted?st.change.newIndex:-1,type:st&&this._firstEmitted?pe.type:"added"},distance:Ue,emitted:!!this._firstEmitted&&!!st};if(this._queryCriteria.radius>=Ue){if(!st&&"removed"===at.change.type)return;st||"modified"!==at.change.type||(at.change.type="added"),this._newValues=!0,this._docs.set(it,at)}else st?(at.change.type="removed",this._newValues=!0,this._docs.set(it,at)):st||this._firstRoundResolved||(this._newValues=!0)}):this._firstRoundResolved||(this._newValues=!0)}}class Xe{constructor(A,j){if(this._query=A,"[object Object]"!==Object.prototype.toString.call(A))throw new Error("Query must be an instance of a Firestore Query");this._isWeb="[object Function]"===Object.prototype.toString.call(A.firestore.enablePersistence),j&&("number"==typeof j.limit&&(this._limit=j.limit),j.center&&"number"==typeof j.radius&&(Qe(j),this._center=j.center,this._radius=j.radius))}get native(){return this._query}get firestore(){return new xe(this._query.firestore)}get onSnapshot(){return A=this._query,j=this._queryCriteria,(Oe,pe=(()=>{}))=>j.center&&"number"==typeof j.radius?new ze(Ve(A,j),j,Oe,pe).unsubscribe():(A=j.limit?A.limit(j.limit):A).onSnapshot(He=>Oe(new Me(He)),pe);var A,j}get(A={source:"default"}){return function(j,Oe,pe={source:"default"}){const He="[object Function]"===Object.prototype.toString.call(j.firestore.enablePersistence);if(Oe.center&&"number"==typeof Oe.radius){const We=Ve(j,Oe).map(Ue=>He?Ue.get(pe):Ue.get());return Promise.all(We).then(Ue=>new oe(Ue,Oe).getGeoQuerySnapshot())}return j=Oe.limit?j.limit(Oe.limit):j,(He?j.get(pe):j.get()).then(We=>new Me(We))}(this._query,this._queryCriteria,A)}limit(A){return le(A),this._limit=A,new Xe(this._query,this._queryCriteria)}near(A){return Qe(A,!0),this._center=A.center,this._radius=A.radius,new Xe(this._query,this._queryCriteria)}where(A,j,Oe){return new Xe(this._query.where(A,j,Oe),this._queryCriteria)}get _queryCriteria(){return{center:this._center,limit:this._limit,radius:this._radius}}}class $e{constructor(A,j){if(this._writeBatch=A,this._customKey=j,"[object Object]"!==Object.prototype.toString.call(A))throw new Error("WriteBatch must be an instance of a Firestore WriteBatch")}get native(){return this._writeBatch}set(A,j,Oe={}){const pe=A instanceof he?A._document:A;return Oe.customKey=Oe.customKey||this._customKey,this._writeBatch.set(pe,Ge(j,Oe),lt(Oe)),this}update(A,j,Oe=this._customKey){return this._writeBatch.update(A instanceof he?A._document:A,Je(j,Oe)),this}delete(A){return this._writeBatch.delete(A instanceof he?A._document:A),this}commit(){return this._writeBatch.commit()}}class xe{constructor(A){if(this._firestore=A,"[object Object]"!==Object.prototype.toString.call(A))throw new Error("Firestore must be an instance of Firestore")}get native(){return this._firestore}batch(A){return new $e(this._firestore.batch(),A)}collection(A,j){return new Z(this._firestore.collection(A),j)}collectionGroup(A){return new Xe(this._firestore.collectionGroup(A))}doc(A){return new he(this._firestore.doc(A))}runTransaction(A){return this._firestore.runTransaction(A)}}function lt(M){const A=Object.assign({},M);return delete A.customKey,A}class be{constructor(A){if(this._snapshot=A,"[object Object]"!==Object.prototype.toString.call(A))throw new Error("DocumentSnapshot must be an instance of a Firestore DocumentSnapshot");this._isWeb="[object Function]"===Object.prototype.toString.call(A.ref.firestore.enablePersistence)}get native(){return this._snapshot}get exists(){return this._snapshot.exists}get id(){return this._snapshot.id}get ref(){return new he(this._snapshot.ref)}data(A){return this._isWeb&&A?this._snapshot.data(A):this._snapshot.data()}get(A,j){return this._isWeb&&j?this._snapshot.get(A,j):this._snapshot.get(A)}isEqual(A){return this._snapshot.isEqual(A instanceof be?A._snapshot:A)}}class he{constructor(A){if(this._document=A,"[object Object]"!==Object.prototype.toString.call(A))throw new Error("DocumentReference must be an instance of a Firestore DocumentReference");this._isWeb="[object Function]"===Object.prototype.toString.call(A.firestore.enablePersistence)}get native(){return this._document}get id(){return this._document.id}get firestore(){return new xe(this._document.firestore)}get onSnapshot(){return(A,j=(()=>{}))=>this._document.onSnapshot(Oe=>A(new be(Oe)),Oe=>j(Oe))}get parent(){return new Z(this._document.parent)}get path(){return this._document.path}collection(A){return new Z(this._document.collection(A))}delete(){return this._document.delete().then(()=>null)}get(A={source:"default"}){return(this._isWeb?this._document.get(A):this._document.get()).then(j=>new be(j))}isEqual(A){return this._document.isEqual(A instanceof he?A._document:A)}set(A,j){return this._document.set(Ge(A,j),lt(j)).then(()=>null)}update(A,j){return this._document.update(Je(A,j)).then(()=>null)}}class Z extends Xe{constructor(A,j){super(A),this._collection=A,this._customKey=j}get native(){return this._collection}get id(){return this._collection.id}get parent(){return this._collection.parent?new he(this._collection.parent):null}get path(){return this._collection.path}add(A,j=this._customKey){return this._collection.add(function(Oe,pe){if("[object Object]"!==Object.prototype.toString.call(Oe))throw new Error("document must be an object");return Ye(ce(Oe,pe),Oe)}(A,j)).then(Oe=>new he(Oe))}doc(A){return new he(A?this._collection.doc(A):this._collection.doc())}}P.GeoCollectionReference=Z,P.GeoDocumentReference=he,P.GeoDocumentSnapshot=be,P.GeoFirestore=xe,P.GeoQuery=Xe,P.GeoTransaction=class{constructor(M,A){if(this._transaction=M,this._customKey=A,"[object Object]"!==Object.prototype.toString.call(M))throw new Error("Transaction must be an instance of a Firestore Transaction")}get native(){return this._transaction}delete(M){return this._transaction.delete(M instanceof he?M._document:M),this}get(M){return this._transaction.get(M instanceof he?M._document:M).then(j=>new be(j))}set(M,A,j={}){const Oe=M instanceof he?M._document:M;return j.customKey=j.customKey||this._customKey,this._transaction.set(Oe,Ge(A,j),lt(j)),this}update(M,A,j=this._customKey){return this._transaction.update(M instanceof he?M._document:M,Je(A,j)),this}},P.GeoWriteBatch=$e,P.initializeApp=function(M){return new xe(M)},Object.defineProperty(P,"__esModule",{value:!0})}(gt)},1135:(ln,gt,P)=>{"use strict";P.d(gt,{X:()=>d});var c=P(7579);class d extends c.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const Ae=super._subscribe(ue);return!Ae.closed&&ue.next(this._value),Ae}getValue(){const{hasError:ue,thrownError:Ae,_value:Fe}=this;if(ue)throw Ae;return this._throwIfClosed(),Fe}next(ue){super.next(this._value=ue)}}},9751:(ln,gt,P)=>{"use strict";P.d(gt,{y:()=>qe});var c=P(2961),d=P(727),G=P(8822),ue=P(9635),Ae=P(2416),Fe=P(576),le=P(2806);let qe=(()=>{class Se{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const ye=new Se;return ye.source=this,ye.operator=ce,ye}subscribe(ce,ye,Ve){const Ce=function ae(Se){return Se&&Se instanceof c.Lv||function fe(Se){return Se&&(0,Fe.m)(Se.next)&&(0,Fe.m)(Se.error)&&(0,Fe.m)(Se.complete)}(Se)&&(0,d.Nn)(Se)}(ce)?ce:new c.Hp(ce,ye,Ve);return(0,le.x)(()=>{const{operator:Pe,source:ot}=this;Ce.add(Pe?Pe.call(Ce,ot):ot?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(ce){try{return this._subscribe(ce)}catch(ye){ce.error(ye)}}forEach(ce,ye){return new(ye=Qe(ye))((Ve,Ce)=>{const Pe=new c.Hp({next:ot=>{try{ce(ot)}catch(yt){Ce(yt),Pe.unsubscribe()}},error:Ce,complete:Ve});this.subscribe(Pe)})}_subscribe(ce){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ce)}[G.L](){return this}pipe(...ce){return(0,ue.U)(ce)(this)}toPromise(ce){return new(ce=Qe(ce))((ye,Ve)=>{let Ce;this.subscribe(Pe=>Ce=Pe,Pe=>Ve(Pe),()=>ye(Ce))})}}return Se.create=Ie=>new Se(Ie),Se})();function Qe(Se){var Ie;return null!==(Ie=Se??Ae.config.Promise)&&void 0!==Ie?Ie:Promise}},7579:(ln,gt,P)=>{"use strict";P.d(gt,{x:()=>le});var c=P(9751),d=P(727);const ue=(0,P(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=P(8737),Fe=P(2806);let le=(()=>{class Qe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Se=new qe(this,this);return Se.operator=ae,Se}_throwIfClosed(){if(this.closed)throw new ue}next(ae){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ae)}})}error(ae){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ae)}})}complete(){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Se,isStopped:Ie,observers:ce}=this;return Se||Ie?d.Lc:(this.currentObservers=null,ce.push(ae),new d.w0(()=>{this.currentObservers=null,(0,Ae.P)(ce,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Se,thrownError:Ie,isStopped:ce}=this;Se?ae.error(Ie):ce&&ae.complete()}asObservable(){const ae=new c.y;return ae.source=this,ae}}return Qe.create=(fe,ae)=>new qe(fe,ae),Qe})();class qe extends le{constructor(fe,ae){super(),this.destination=fe,this.source=ae}next(fe){var ae,Se;null===(Se=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Se||Se.call(ae,fe)}error(fe){var ae,Se;null===(Se=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Se||Se.call(ae,fe)}complete(){var fe,ae;null===(ae=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ae||ae.call(fe)}_subscribe(fe){var ae,Se;return null!==(Se=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(fe))&&void 0!==Se?Se:d.Lc}}},2961:(ln,gt,P)=>{"use strict";P.d(gt,{Hp:()=>Ve,Lv:()=>Se});var c=P(576),d=P(727),G=P(2416),ue=P(7849);function Ae(){}const Fe=Qe("C",void 0,void 0);function Qe(De,Ke,Ge){return{kind:De,value:Ke,error:Ge}}var fe=P(3410),ae=P(2806);class Se extends d.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,d.Nn)(Ke)&&Ke.add(this)):this.destination=yt}static create(Ke,Ge,Je){return new Ve(Ke,Ge,Je)}next(Ke){this.isStopped?ot(function qe(De){return Qe("N",De,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?ot(function le(De){return Qe("E",void 0,De)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?ot(Fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ie=Function.prototype.bind;function ce(De,Ke){return Ie.call(De,Ke)}class ye{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(Ke)}catch(Je){Ce(Je)}}error(Ke){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(Ke)}catch(Je){Ce(Je)}else Ce(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Ge){Ce(Ge)}}}class Ve extends Se{constructor(Ke,Ge,Je){let Ye;if(super(),(0,c.m)(Ke)||!Ke)Ye={next:Ke??void 0,error:Ge??void 0,complete:Je??void 0};else{let Me;this&&G.config.useDeprecatedNextContext?(Me=Object.create(Ke),Me.unsubscribe=()=>this.unsubscribe(),Ye={next:Ke.next&&ce(Ke.next,Me),error:Ke.error&&ce(Ke.error,Me),complete:Ke.complete&&ce(Ke.complete,Me)}):Ye=Ke}this.destination=new ye(Ye)}}function Ce(De){G.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(De):(0,ue.h)(De)}function ot(De,Ke){const{onStoppedNotification:Ge}=G.config;Ge&&fe.z.setTimeout(()=>Ge(De,Ke))}const yt={closed:!0,next:Ae,error:function Pe(De){throw De},complete:Ae}},727:(ln,gt,P)=>{"use strict";P.d(gt,{Lc:()=>Fe,w0:()=>Ae,Nn:()=>le});var c=P(576);const G=(0,P(3888).d)(Qe=>function(ae){Qe(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Se,Ie)=>`${Ie+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ue=P(8737);class Ae{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const ce of ae)ce.remove(this);else ae.remove(this);const{initialTeardown:Se}=this;if((0,c.m)(Se))try{Se()}catch(ce){fe=ce instanceof G?ce.errors:[ce]}const{_finalizers:Ie}=this;if(Ie){this._finalizers=null;for(const ce of Ie)try{qe(ce)}catch(ye){fe=fe??[],ye instanceof G?fe=[...fe,...ye.errors]:fe.push(ye)}}if(fe)throw new G(fe)}}add(fe){var ae;if(fe&&fe!==this)if(this.closed)qe(fe);else{if(fe instanceof Ae){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(fe)}}_hasParent(fe){const{_parentage:ae}=this;return ae===fe||Array.isArray(ae)&&ae.includes(fe)}_addParent(fe){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(fe),ae):ae?[ae,fe]:fe}_removeParent(fe){const{_parentage:ae}=this;ae===fe?this._parentage=null:Array.isArray(ae)&&(0,ue.P)(ae,fe)}remove(fe){const{_finalizers:ae}=this;ae&&(0,ue.P)(ae,fe),fe instanceof Ae&&fe._removeParent(this)}}Ae.EMPTY=(()=>{const Qe=new Ae;return Qe.closed=!0,Qe})();const Fe=Ae.EMPTY;function le(Qe){return Qe instanceof Ae||Qe&&"closed"in Qe&&(0,c.m)(Qe.remove)&&(0,c.m)(Qe.add)&&(0,c.m)(Qe.unsubscribe)}function qe(Qe){(0,c.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(ln,gt,P)=>{"use strict";P.d(gt,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ln,gt,P)=>{"use strict";P.d(gt,{a:()=>fe});var c=P(9751),d=P(4742),G=P(8996),ue=P(4671),Ae=P(3268),Fe=P(7669),le=P(1810),qe=P(5403),Qe=P(9672);function fe(...Ie){const ce=(0,Fe.yG)(Ie),ye=(0,Fe.jO)(Ie),{args:Ve,keys:Ce}=(0,d.D)(Ie);if(0===Ve.length)return(0,G.D)([],ce);const Pe=new c.y(function ae(Ie,ce,ye=ue.y){return Ve=>{Se(ce,()=>{const{length:Ce}=Ie,Pe=new Array(Ce);let ot=Ce,yt=Ce;for(let De=0;De<Ce;De++)Se(ce,()=>{const Ke=(0,G.D)(Ie[De],ce);let Ge=!1;Ke.subscribe((0,qe.x)(Ve,Je=>{Pe[De]=Je,Ge||(Ge=!0,yt--),yt||Ve.next(ye(Pe.slice()))},()=>{--ot||Ve.complete()}))},Ve)},Ve)}}(Ve,ce,Ce?ot=>(0,le.n)(Ce,ot):ue.y));return ye?Pe.pipe((0,Ae.Z)(ye)):Pe}function Se(Ie,ce,ye){Ie?(0,Qe.f)(ye,Ie,ce):ce()}},7272:(ln,gt,P)=>{"use strict";P.d(gt,{z:()=>Ae});var c=P(8189),G=P(7669),ue=P(8996);function Ae(...Fe){return function d(){return(0,c.J)(1)}()((0,ue.D)(Fe,(0,G.yG)(Fe)))}},515:(ln,gt,P)=>{"use strict";P.d(gt,{E:()=>d});const d=new(P(9751).y)(Ae=>Ae.complete())},8996:(ln,gt,P)=>{"use strict";P.d(gt,{D:()=>Ke});var c=P(8421),d=P(5363),G=P(9468),Fe=P(9751),qe=P(2202),Qe=P(576),fe=P(9672);function Se(Ge,Je){if(!Ge)throw new Error("Iterable cannot be null");return new Fe.y(Ye=>{(0,fe.f)(Ye,Je,()=>{const Me=Ge[Symbol.asyncIterator]();(0,fe.f)(Ye,Je,()=>{Me.next().then(oe=>{oe.done?Ye.complete():Ye.next(oe.value)})},0,!0)})})}var Ie=P(3670),ce=P(8239),ye=P(1144),Ve=P(6495),Ce=P(2206),Pe=P(4532),ot=P(3260);function Ke(Ge,Je){return Je?function De(Ge,Je){if(null!=Ge){if((0,Ie.c)(Ge))return function ue(Ge,Je){return(0,c.Xf)(Ge).pipe((0,G.R)(Je),(0,d.Q)(Je))}(Ge,Je);if((0,ye.z)(Ge))return function le(Ge,Je){return new Fe.y(Ye=>{let Me=0;return Je.schedule(function(){Me===Ge.length?Ye.complete():(Ye.next(Ge[Me++]),Ye.closed||this.schedule())})})}(Ge,Je);if((0,ce.t)(Ge))return function Ae(Ge,Je){return(0,c.Xf)(Ge).pipe((0,G.R)(Je),(0,d.Q)(Je))}(Ge,Je);if((0,Ce.D)(Ge))return Se(Ge,Je);if((0,Ve.T)(Ge))return function ae(Ge,Je){return new Fe.y(Ye=>{let Me;return(0,fe.f)(Ye,Je,()=>{Me=Ge[qe.h](),(0,fe.f)(Ye,Je,()=>{let oe,ze;try{({value:oe,done:ze}=Me.next())}catch(Xe){return void Ye.error(Xe)}ze?Ye.complete():Ye.next(oe)},0,!0)}),()=>(0,Qe.m)(Me?.return)&&Me.return()})}(Ge,Je);if((0,ot.L)(Ge))return function yt(Ge,Je){return Se((0,ot.Q)(Ge),Je)}(Ge,Je)}throw(0,Pe.z)(Ge)}(Ge,Je):(0,c.Xf)(Ge)}},8421:(ln,gt,P)=>{"use strict";P.d(gt,{Xf:()=>Ie});var c=P(7582),d=P(1144),G=P(8239),ue=P(9751),Ae=P(3670),Fe=P(2206),le=P(4532),qe=P(6495),Qe=P(3260),fe=P(576),ae=P(7849),Se=P(8822);function Ie(De){if(De instanceof ue.y)return De;if(null!=De){if((0,Ae.c)(De))return function ce(De){return new ue.y(Ke=>{const Ge=De[Se.L]();if((0,fe.m)(Ge.subscribe))return Ge.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,d.z)(De))return function ye(De){return new ue.y(Ke=>{for(let Ge=0;Ge<De.length&&!Ke.closed;Ge++)Ke.next(De[Ge]);Ke.complete()})}(De);if((0,G.t)(De))return function Ve(De){return new ue.y(Ke=>{De.then(Ge=>{Ke.closed||(Ke.next(Ge),Ke.complete())},Ge=>Ke.error(Ge)).then(null,ae.h)})}(De);if((0,Fe.D)(De))return Pe(De);if((0,qe.T)(De))return function Ce(De){return new ue.y(Ke=>{for(const Ge of De)if(Ke.next(Ge),Ke.closed)return;Ke.complete()})}(De);if((0,Qe.L)(De))return function ot(De){return Pe((0,Qe.Q)(De))}(De)}throw(0,le.z)(De)}function Pe(De){return new ue.y(Ke=>{(function yt(De,Ke){var Ge,Je,Ye,Me;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,c.KL)(De);!(Je=yield Ge.next()).done;)if(Ke.next(Je.value),Ke.closed)return}catch(oe){Ye={error:oe}}finally{try{Je&&!Je.done&&(Me=Ge.return)&&(yield Me.call(Ge))}finally{if(Ye)throw Ye.error}}Ke.complete()})})(De,Ke).catch(Ge=>Ke.error(Ge))})}},6451:(ln,gt,P)=>{"use strict";P.d(gt,{T:()=>Fe});var c=P(8189),d=P(8421),G=P(515),ue=P(7669),Ae=P(8996);function Fe(...le){const qe=(0,ue.yG)(le),Qe=(0,ue._6)(le,1/0),fe=le;return fe.length?1===fe.length?(0,d.Xf)(fe[0]):(0,c.J)(Qe)((0,Ae.D)(fe,qe)):G.E}},9646:(ln,gt,P)=>{"use strict";P.d(gt,{of:()=>G});var c=P(7669),d=P(8996);function G(...ue){const Ae=(0,c.yG)(ue);return(0,d.D)(ue,Ae)}},5403:(ln,gt,P)=>{"use strict";P.d(gt,{x:()=>d});var c=P(2961);function d(ue,Ae,Fe,le,qe){return new G(ue,Ae,Fe,le,qe)}class G extends c.Lv{constructor(Ae,Fe,le,qe,Qe,fe){super(Ae),this.onFinalize=Qe,this.shouldUnsubscribe=fe,this._next=Fe?function(ae){try{Fe(ae)}catch(Se){Ae.error(Se)}}:super._next,this._error=qe?function(ae){try{qe(ae)}catch(Se){Ae.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ae){Ae.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Fe}=this;super.unsubscribe(),!Fe&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4351:(ln,gt,P)=>{"use strict";P.d(gt,{b:()=>G});var c=P(5577),d=P(576);function G(ue,Ae){return(0,d.m)(Ae)?(0,c.z)(ue,Ae,1):(0,c.z)(ue,1)}},6590:(ln,gt,P)=>{"use strict";P.d(gt,{d:()=>G});var c=P(4482),d=P(5403);function G(ue){return(0,c.e)((Ae,Fe)=>{let le=!1;Ae.subscribe((0,d.x)(Fe,qe=>{le=!0,Fe.next(qe)},()=>{le||Fe.next(ue),Fe.complete()}))})}},1884:(ln,gt,P)=>{"use strict";P.d(gt,{x:()=>ue});var c=P(4671),d=P(4482),G=P(5403);function ue(Fe,le=c.y){return Fe=Fe??Ae,(0,d.e)((qe,Qe)=>{let fe,ae=!0;qe.subscribe((0,G.x)(Qe,Se=>{const Ie=le(Se);(ae||!Fe(fe,Ie))&&(ae=!1,fe=Ie,Qe.next(Se))}))})}function Ae(Fe,le){return Fe===le}},9300:(ln,gt,P)=>{"use strict";P.d(gt,{h:()=>G});var c=P(4482),d=P(5403);function G(ue,Ae){return(0,c.e)((Fe,le)=>{let qe=0;Fe.subscribe((0,d.x)(le,Qe=>ue.call(Ae,Qe,qe++)&&le.next(Qe)))})}},8746:(ln,gt,P)=>{"use strict";P.d(gt,{x:()=>d});var c=P(4482);function d(G){return(0,c.e)((ue,Ae)=>{try{ue.subscribe(Ae)}finally{Ae.add(G)}})}},590:(ln,gt,P)=>{"use strict";P.d(gt,{P:()=>le});var c=P(6805),d=P(9300),G=P(5698),ue=P(6590),Ae=P(8068),Fe=P(4671);function le(qe,Qe){const fe=arguments.length>=2;return ae=>ae.pipe(qe?(0,d.h)((Se,Ie)=>qe(Se,Ie,ae)):Fe.y,(0,G.q)(1),fe?(0,ue.d)(Qe):(0,Ae.T)(()=>new c.K))}},4004:(ln,gt,P)=>{"use strict";P.d(gt,{U:()=>G});var c=P(4482),d=P(5403);function G(ue,Ae){return(0,c.e)((Fe,le)=>{let qe=0;Fe.subscribe((0,d.x)(le,Qe=>{le.next(ue.call(Ae,Qe,qe++))}))})}},8189:(ln,gt,P)=>{"use strict";P.d(gt,{J:()=>G});var c=P(5577),d=P(4671);function G(ue=1/0){return(0,c.z)(d.y,ue)}},5577:(ln,gt,P)=>{"use strict";P.d(gt,{z:()=>qe});var c=P(4004),d=P(8421),G=P(4482),ue=P(9672),Ae=P(5403),le=P(576);function qe(Qe,fe,ae=1/0){return(0,le.m)(fe)?qe((Se,Ie)=>(0,c.U)((ce,ye)=>fe(Se,ce,Ie,ye))((0,d.Xf)(Qe(Se,Ie))),ae):("number"==typeof fe&&(ae=fe),(0,G.e)((Se,Ie)=>function Fe(Qe,fe,ae,Se,Ie,ce,ye,Ve){const Ce=[];let Pe=0,ot=0,yt=!1;const De=()=>{yt&&!Ce.length&&!Pe&&fe.complete()},Ke=Je=>Pe<Se?Ge(Je):Ce.push(Je),Ge=Je=>{ce&&fe.next(Je),Pe++;let Ye=!1;(0,d.Xf)(ae(Je,ot++)).subscribe((0,Ae.x)(fe,Me=>{Ie?.(Me),ce?Ke(Me):fe.next(Me)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Pe--;Ce.length&&Pe<Se;){const Me=Ce.shift();ye?(0,ue.f)(fe,ye,()=>Ge(Me)):Ge(Me)}De()}catch(Me){fe.error(Me)}}))};return Qe.subscribe((0,Ae.x)(fe,Ke,()=>{yt=!0,De()})),()=>{Ve?.()}}(Se,Ie,Qe,ae)))}},5363:(ln,gt,P)=>{"use strict";P.d(gt,{Q:()=>ue});var c=P(9672),d=P(4482),G=P(5403);function ue(Ae,Fe=0){return(0,d.e)((le,qe)=>{le.subscribe((0,G.x)(qe,Qe=>(0,c.f)(qe,Ae,()=>qe.next(Qe),Fe),()=>(0,c.f)(qe,Ae,()=>qe.complete(),Fe),Qe=>(0,c.f)(qe,Ae,()=>qe.error(Qe),Fe)))})}},5026:(ln,gt,P)=>{"use strict";P.d(gt,{R:()=>ue});var c=P(4482),d=P(5403);function ue(Ae,Fe){return(0,c.e)(function G(Ae,Fe,le,qe,Qe){return(fe,ae)=>{let Se=le,Ie=Fe,ce=0;fe.subscribe((0,d.x)(ae,ye=>{const Ve=ce++;Ie=Se?Ae(Ie,ye,Ve):(Se=!0,ye),qe&&ae.next(Ie)},Qe&&(()=>{Se&&ae.next(Ie),ae.complete()})))}}(Ae,Fe,arguments.length>=2,!0))}},3099:(ln,gt,P)=>{"use strict";P.d(gt,{B:()=>Ae});var c=P(8421),d=P(7579),G=P(2961),ue=P(4482);function Ae(le={}){const{connector:qe=(()=>new d.x),resetOnError:Qe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:ae=!0}=le;return Se=>{let Ie,ce,ye,Ve=0,Ce=!1,Pe=!1;const ot=()=>{ce?.unsubscribe(),ce=void 0},yt=()=>{ot(),Ie=ye=void 0,Ce=Pe=!1},De=()=>{const Ke=Ie;yt(),Ke?.unsubscribe()};return(0,ue.e)((Ke,Ge)=>{Ve++,!Pe&&!Ce&&ot();const Je=ye=ye??qe();Ge.add(()=>{Ve--,0===Ve&&!Pe&&!Ce&&(ce=Fe(De,ae))}),Je.subscribe(Ge),!Ie&&Ve>0&&(Ie=new G.Hp({next:Ye=>Je.next(Ye),error:Ye=>{Pe=!0,ot(),ce=Fe(yt,Qe,Ye),Je.error(Ye)},complete:()=>{Ce=!0,ot(),ce=Fe(yt,fe),Je.complete()}}),(0,c.Xf)(Ke).subscribe(Ie))})(Se)}}function Fe(le,qe,...Qe){if(!0===qe)return void le();if(!1===qe)return;const fe=new G.Hp({next:()=>{fe.unsubscribe(),le()}});return(0,c.Xf)(qe(...Qe)).subscribe(fe)}},8675:(ln,gt,P)=>{"use strict";P.d(gt,{O:()=>ue});var c=P(7272),d=P(7669),G=P(4482);function ue(...Ae){const Fe=(0,d.yG)(Ae);return(0,G.e)((le,qe)=>{(Fe?(0,c.z)(Ae,le,Fe):(0,c.z)(Ae,le)).subscribe(qe)})}},9468:(ln,gt,P)=>{"use strict";P.d(gt,{R:()=>d});var c=P(4482);function d(G,ue=0){return(0,c.e)((Ae,Fe)=>{Fe.add(G.schedule(()=>Ae.subscribe(Fe),ue))})}},3900:(ln,gt,P)=>{"use strict";P.d(gt,{w:()=>ue});var c=P(8421),d=P(4482),G=P(5403);function ue(Ae,Fe){return(0,d.e)((le,qe)=>{let Qe=null,fe=0,ae=!1;const Se=()=>ae&&!Qe&&qe.complete();le.subscribe((0,G.x)(qe,Ie=>{Qe?.unsubscribe();let ce=0;const ye=fe++;(0,c.Xf)(Ae(Ie,ye)).subscribe(Qe=(0,G.x)(qe,Ve=>qe.next(Fe?Fe(Ie,Ve,ye,ce++):Ve),()=>{Qe=null,Se()}))},()=>{ae=!0,Se()}))})}},5698:(ln,gt,P)=>{"use strict";P.d(gt,{q:()=>ue});var c=P(515),d=P(4482),G=P(5403);function ue(Ae){return Ae<=0?()=>c.E:(0,d.e)((Fe,le)=>{let qe=0;Fe.subscribe((0,G.x)(le,Qe=>{++qe<=Ae&&(le.next(Qe),Ae<=qe&&le.complete())}))})}},8505:(ln,gt,P)=>{"use strict";P.d(gt,{b:()=>Ae});var c=P(576),d=P(4482),G=P(5403),ue=P(4671);function Ae(Fe,le,qe){const Qe=(0,c.m)(Fe)||le||qe?{next:Fe,error:le,complete:qe}:Fe;return Qe?(0,d.e)((fe,ae)=>{var Se;null===(Se=Qe.subscribe)||void 0===Se||Se.call(Qe);let Ie=!0;fe.subscribe((0,G.x)(ae,ce=>{var ye;null===(ye=Qe.next)||void 0===ye||ye.call(Qe,ce),ae.next(ce)},()=>{var ce;Ie=!1,null===(ce=Qe.complete)||void 0===ce||ce.call(Qe),ae.complete()},ce=>{var ye;Ie=!1,null===(ye=Qe.error)||void 0===ye||ye.call(Qe,ce),ae.error(ce)},()=>{var ce,ye;Ie&&(null===(ce=Qe.unsubscribe)||void 0===ce||ce.call(Qe)),null===(ye=Qe.finalize)||void 0===ye||ye.call(Qe)}))}):ue.y}},8068:(ln,gt,P)=>{"use strict";P.d(gt,{T:()=>ue});var c=P(6805),d=P(4482),G=P(5403);function ue(Fe=Ae){return(0,d.e)((le,qe)=>{let Qe=!1;le.subscribe((0,G.x)(qe,fe=>{Qe=!0,qe.next(fe)},()=>Qe?qe.complete():qe.error(Fe())))})}function Ae(){return new c.K}},4408:(ln,gt,P)=>{"use strict";P.d(gt,{o:()=>Ae});var c=P(727);class d extends c.w0{constructor(le,qe){super()}schedule(le,qe=0){return this}}const G={setInterval(Fe,le,...qe){const{delegate:Qe}=G;return Qe?.setInterval?Qe.setInterval(Fe,le,...qe):setInterval(Fe,le,...qe)},clearInterval(Fe){const{delegate:le}=G;return(le?.clearInterval||clearInterval)(Fe)},delegate:void 0};var ue=P(8737);class Ae extends d{constructor(le,qe){super(le,qe),this.scheduler=le,this.work=qe,this.pending=!1}schedule(le,qe=0){var Qe;if(this.closed)return this;this.state=le;const fe=this.id,ae=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ae,fe,qe)),this.pending=!0,this.delay=qe,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(ae,this.id,qe),this}requestAsyncId(le,qe,Qe=0){return G.setInterval(le.flush.bind(le,this),Qe)}recycleAsyncId(le,qe,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return qe;null!=qe&&G.clearInterval(qe)}execute(le,qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(le,qe);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,qe){let fe,Qe=!1;try{this.work(le)}catch(ae){Qe=!0,fe=ae||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:le,scheduler:qe}=this,{actions:Qe}=qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(Qe,this),null!=le&&(this.id=this.recycleAsyncId(qe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,gt,P)=>{"use strict";P.d(gt,{v:()=>G});var c=P(6063);class d{constructor(Ae,Fe=d.now){this.schedulerActionCtor=Ae,this.now=Fe}schedule(Ae,Fe=0,le){return new this.schedulerActionCtor(this,Ae).schedule(le,Fe)}}d.now=c.l.now;class G extends d{constructor(Ae,Fe=d.now){super(Ae,Fe),this.actions=[],this._active=!1}flush(Ae){const{actions:Fe}=this;if(this._active)return void Fe.push(Ae);let le;this._active=!0;do{if(le=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Fe.shift());if(this._active=!1,le){for(;Ae=Fe.shift();)Ae.unsubscribe();throw le}}}},4986:(ln,gt,P)=>{"use strict";P.d(gt,{z:()=>G});var c=P(4408);const G=new(P(7565).v)(c.o)},6063:(ln,gt,P)=>{"use strict";P.d(gt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ln,gt,P)=>{"use strict";P.d(gt,{z:()=>c});const c={setTimeout(d,G,...ue){const{delegate:Ae}=c;return Ae?.setTimeout?Ae.setTimeout(d,G,...ue):setTimeout(d,G,...ue)},clearTimeout(d){const{delegate:G}=c;return(G?.clearTimeout||clearTimeout)(d)},delegate:void 0}},2202:(ln,gt,P)=>{"use strict";P.d(gt,{h:()=>d});const d=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,gt,P)=>{"use strict";P.d(gt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,gt,P)=>{"use strict";P.d(gt,{K:()=>d});const d=(0,P(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ln,gt,P)=>{"use strict";P.d(gt,{_6:()=>Fe,jO:()=>ue,yG:()=>Ae});var c=P(576);function G(le){return le[le.length-1]}function ue(le){return(0,c.m)(G(le))?le.pop():void 0}function Ae(le){return function d(le){return le&&(0,c.m)(le.schedule)}(G(le))?le.pop():void 0}function Fe(le,qe){return"number"==typeof G(le)?le.pop():qe}},4742:(ln,gt,P)=>{"use strict";P.d(gt,{D:()=>Ae});const{isArray:c}=Array,{getPrototypeOf:d,prototype:G,keys:ue}=Object;function Ae(le){if(1===le.length){const qe=le[0];if(c(qe))return{args:qe,keys:null};if(function Fe(le){return le&&"object"==typeof le&&d(le)===G}(qe)){const Qe=ue(qe);return{args:Qe.map(fe=>qe[fe]),keys:Qe}}}return{args:le,keys:null}}},8737:(ln,gt,P)=>{"use strict";function c(d,G){if(d){const ue=d.indexOf(G);0<=ue&&d.splice(ue,1)}}P.d(gt,{P:()=>c})},3888:(ln,gt,P)=>{"use strict";function c(d){const ue=d(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(gt,{d:()=>c})},1810:(ln,gt,P)=>{"use strict";function c(d,G){return d.reduce((ue,Ae,Fe)=>(ue[Ae]=G[Fe],ue),{})}P.d(gt,{n:()=>c})},2806:(ln,gt,P)=>{"use strict";P.d(gt,{O:()=>ue,x:()=>G});var c=P(2416);let d=null;function G(Ae){if(c.config.useDeprecatedSynchronousErrorHandling){const Fe=!d;if(Fe&&(d={errorThrown:!1,error:null}),Ae(),Fe){const{errorThrown:le,error:qe}=d;if(d=null,le)throw qe}}else Ae()}function ue(Ae){c.config.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=Ae)}},9672:(ln,gt,P)=>{"use strict";function c(d,G,ue,Ae=0,Fe=!1){const le=G.schedule(function(){ue(),Fe?d.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(d.add(le),!Fe)return le}P.d(gt,{f:()=>c})},4671:(ln,gt,P)=>{"use strict";function c(d){return d}P.d(gt,{y:()=>c})},1144:(ln,gt,P)=>{"use strict";P.d(gt,{z:()=>c});const c=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(ln,gt,P)=>{"use strict";P.d(gt,{D:()=>d});var c=P(576);function d(G){return Symbol.asyncIterator&&(0,c.m)(G?.[Symbol.asyncIterator])}},576:(ln,gt,P)=>{"use strict";function c(d){return"function"==typeof d}P.d(gt,{m:()=>c})},3670:(ln,gt,P)=>{"use strict";P.d(gt,{c:()=>G});var c=P(8822),d=P(576);function G(ue){return(0,d.m)(ue[c.L])}},6495:(ln,gt,P)=>{"use strict";P.d(gt,{T:()=>G});var c=P(2202),d=P(576);function G(ue){return(0,d.m)(ue?.[c.h])}},8239:(ln,gt,P)=>{"use strict";P.d(gt,{t:()=>d});var c=P(576);function d(G){return(0,c.m)(G?.then)}},3260:(ln,gt,P)=>{"use strict";P.d(gt,{L:()=>ue,Q:()=>G});var c=P(7582),d=P(576);function G(Ae){return(0,c.FC)(this,arguments,function*(){const le=Ae.getReader();try{for(;;){const{value:qe,done:Qe}=yield(0,c.qq)(le.read());if(Qe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(qe)}}finally{le.releaseLock()}})}function ue(Ae){return(0,d.m)(Ae?.getReader)}},4482:(ln,gt,P)=>{"use strict";P.d(gt,{A:()=>d,e:()=>G});var c=P(576);function d(ue){return(0,c.m)(ue?.lift)}function G(ue){return Ae=>{if(d(Ae))return Ae.lift(function(Fe){try{return ue(Fe,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,gt,P)=>{"use strict";P.d(gt,{Z:()=>ue});var c=P(4004);const{isArray:d}=Array;function ue(Ae){return(0,c.U)(Fe=>function G(Ae,Fe){return d(Fe)?Ae(...Fe):Ae(Fe)}(Ae,Fe))}},9635:(ln,gt,P)=>{"use strict";P.d(gt,{U:()=>G,z:()=>d});var c=P(4671);function d(...ue){return G(ue)}function G(ue){return 0===ue.length?c.y:1===ue.length?ue[0]:function(Fe){return ue.reduce((le,qe)=>qe(le),Fe)}}},7849:(ln,gt,P)=>{"use strict";P.d(gt,{h:()=>G});var c=P(2416),d=P(3410);function G(ue){d.z.setTimeout(()=>{const{onUnhandledError:Ae}=c.config;if(!Ae)throw ue;Ae(ue)})}},4532:(ln,gt,P)=>{"use strict";function c(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(gt,{z:()=>c})},863:(ln,gt,P)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function d(G){if(!P.o(c,G))return Promise.resolve().then(()=>{var Fe=new Error("Cannot find module '"+G+"'");throw Fe.code="MODULE_NOT_FOUND",Fe});var ue=c[G],Ae=ue[0];return Promise.all(ue.slice(1).map(P.e)).then(()=>P(Ae))}d.keys=()=>Object.keys(c),d.id=863,ln.exports=d},4755:(ln,gt,P)=>{"use strict";P.d(gt,{Do:()=>Ve,EM:()=>ct,HT:()=>ue,JF:()=>bn,JJ:()=>Qn,K0:()=>Fe,Mx:()=>dr,O5:()=>Hi,PM:()=>po,S$:()=>Ie,V_:()=>qe,Ye:()=>Ce,b0:()=>ye,bD:()=>To,ez:()=>io,q:()=>G,sg:()=>Ii,tP:()=>Yt,w_:()=>Ae});var c=P(2223);let d=null;function G(){return d}function ue(x){d||(d=x)}class Ae{}const Fe=new c.OlP("DocumentToken");let le=(()=>{class x{historyGo(L){throw new Error("Not implemented")}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275prov=c.Yz7({token:x,factory:function(){return(0,c.f3M)(Qe)},providedIn:"platform"}),x})();const qe=new c.OlP("Location Initialized");let Qe=(()=>{class x extends le{constructor(){super(),this._doc=(0,c.f3M)(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(L){const ve=G().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",L,!1),()=>ve.removeEventListener("popstate",L)}onHashChange(L){const ve=G().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",L,!1),()=>ve.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,ve,rt){this._history.pushState(L,ve,rt)}replaceState(L,ve,rt){this._history.replaceState(L,ve,rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275prov=c.Yz7({token:x,factory:function(){return new x},providedIn:"platform"}),x})();function fe(x,te){if(0==x.length)return te;if(0==te.length)return x;let L=0;return x.endsWith("/")&&L++,te.startsWith("/")&&L++,2==L?x+te.substring(1):1==L?x+te:x+"/"+te}function ae(x){const te=x.match(/#|\?|$/),L=te&&te.index||x.length;return x.slice(0,L-("/"===x[L-1]?1:0))+x.slice(L)}function Se(x){return x&&"?"!==x[0]?"?"+x:x}let Ie=(()=>{class x{historyGo(L){throw new Error("Not implemented")}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275prov=c.Yz7({token:x,factory:function(){return(0,c.f3M)(ye)},providedIn:"root"}),x})();const ce=new c.OlP("appBaseHref");let ye=(()=>{class x extends Ie{constructor(L,ve){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=ve??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return fe(this._baseHref,L)}path(L=!1){const ve=this._platformLocation.pathname+Se(this._platformLocation.search),rt=this._platformLocation.hash;return rt&&L?`${ve}${rt}`:ve}pushState(L,ve,rt,jt){const Qt=this.prepareExternalUrl(rt+Se(jt));this._platformLocation.pushState(L,ve,Qt)}replaceState(L,ve,rt,jt){const Qt=this.prepareExternalUrl(rt+Se(jt));this._platformLocation.replaceState(L,ve,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return x.\u0275fac=function(L){return new(L||x)(c.LFG(le),c.LFG(ce,8))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ve=(()=>{class x extends Ie{constructor(L,ve){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(L){const ve=fe(this._baseHref,L);return ve.length>0?"#"+ve:ve}pushState(L,ve,rt,jt){let Qt=this.prepareExternalUrl(rt+Se(jt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.pushState(L,ve,Qt)}replaceState(L,ve,rt,jt){let Qt=this.prepareExternalUrl(rt+Se(jt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.replaceState(L,ve,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return x.\u0275fac=function(L){return new(L||x)(c.LFG(le),c.LFG(ce,8))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac}),x})(),Ce=(()=>{class x{constructor(L){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const ve=this._locationStrategy.getBaseHref();this._basePath=function De(x){if(new RegExp("^(https?:)?//").test(x)){const[,L]=x.split(/\/\/[^\/]+/);return L}return x}(ae(yt(ve))),this._locationStrategy.onPopState(rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:rt.state,type:rt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,ve=""){return this.path()==this.normalize(L+Se(ve))}normalize(L){return x.stripTrailingSlash(function ot(x,te){if(!x||!te.startsWith(x))return te;const L=te.substring(x.length);return""===L||["/",";","?","#"].includes(L[0])?L:te}(this._basePath,yt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,ve="",rt=null){this._locationStrategy.pushState(rt,"",L,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Se(ve)),rt)}replaceState(L,ve="",rt=null){this._locationStrategy.replaceState(rt,"",L,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Se(ve)),rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",ve){this._urlChangeListeners.forEach(rt=>rt(L,ve))}subscribe(L,ve,rt){return this._subject.subscribe({next:L,error:ve,complete:rt})}}return x.normalizeQueryParams=Se,x.joinWithSlash=fe,x.stripTrailingSlash=ae,x.\u0275fac=function(L){return new(L||x)(c.LFG(Ie))},x.\u0275prov=c.Yz7({token:x,factory:function(){return function Pe(){return new Ce((0,c.LFG)(Ie))}()},providedIn:"root"}),x})();function yt(x){return x.replace(/\/index.html$/,"")}var Ge=(()=>((Ge=Ge||{})[Ge.Decimal=0]="Decimal",Ge[Ge.Percent=1]="Percent",Ge[Ge.Currency=2]="Currency",Ge[Ge.Scientific=3]="Scientific",Ge))(),ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Group=1]="Group",ze[ze.List=2]="List",ze[ze.PercentSign=3]="PercentSign",ze[ze.PlusSign=4]="PlusSign",ze[ze.MinusSign=5]="MinusSign",ze[ze.Exponential=6]="Exponential",ze[ze.SuperscriptingExponent=7]="SuperscriptingExponent",ze[ze.PerMille=8]="PerMille",ze[ze.Infinity=9]="Infinity",ze[ze.NaN=10]="NaN",ze[ze.TimeSeparator=11]="TimeSeparator",ze[ze.CurrencyDecimal=12]="CurrencyDecimal",ze[ze.CurrencyGroup=13]="CurrencyGroup",ze))();function pe(x,te){const L=(0,c.cg1)(x),ve=L[c.wAp.NumberSymbols][te];if(typeof ve>"u"){if(te===ze.CurrencyDecimal)return L[c.wAp.NumberSymbols][ze.Decimal];if(te===ze.CurrencyGroup)return L[c.wAp.NumberSymbols][ze.Group]}return ve}const $=/^(\d+)?\.((\d+)(-(\d+))?)?$/,z=".";function Tr(x){const te=parseInt(x);if(isNaN(te))throw new Error("Invalid integer literal when parsing "+x);return te}function dr(x,te){te=encodeURIComponent(te);for(const L of x.split(";")){const ve=L.indexOf("="),[rt,jt]=-1==ve?[L,""]:[L.slice(0,ve),L.slice(ve+1)];if(rt.trim()===te)return decodeURIComponent(jt)}return null}class Mr{constructor(te,L,ve,rt){this.$implicit=te,this.ngForOf=L,this.index=ve,this.count=rt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class x{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,ve,rt){this._viewContainer=L,this._template=ve,this._differs=rt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ve=this._viewContainer;L.forEachOperation((rt,jt,Qt)=>{if(null==rt.previousIndex)ve.createEmbeddedView(this._template,new Mr(rt.item,this._ngForOf,-1,-1),null===Qt?void 0:Qt);else if(null==Qt)ve.remove(null===jt?void 0:jt);else if(null!==jt){const Vn=ve.get(jt);ve.move(Vn,Qt),Vi(Vn,rt)}});for(let rt=0,jt=ve.length;rt<jt;rt++){const Vn=ve.get(rt).context;Vn.index=rt,Vn.count=jt,Vn.ngForOf=this._ngForOf}L.forEachIdentityChange(rt=>{Vi(ve.get(rt.currentIndex),rt)})}static ngTemplateContextGuard(L,ve){return!0}}return x.\u0275fac=function(L){return new(L||x)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},x.\u0275dir=c.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Vi(x,te){x.context.$implicit=te.item}let Hi=(()=>{class x{constructor(L,ve){this._viewContainer=L,this._context=new co,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){ri("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){ri("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ve){return!0}}return x.\u0275fac=function(L){return new(L||x)(c.Y36(c.s_b),c.Y36(c.Rgc))},x.\u0275dir=c.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class co{constructor(){this.$implicit=null,this.ngIf=null}}function ri(x,te){if(te&&!te.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,c.AaK)(te)}'.`)}let Yt=(()=>{class x{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const ve=this._viewContainerRef;if(this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:rt,ngTemplateOutletContext:jt,ngTemplateOutletInjector:Qt}=this;this._viewRef=ve.createEmbeddedView(rt,jt,Qt?{injector:Qt}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(L){return new(L||x)(c.Y36(c.s_b))},x.\u0275dir=c.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),x})();let Qn=(()=>{class x{constructor(L){this._locale=L}transform(L,ve,rt){if(!function Di(x){return!(null==x||""===x||x!=x)}(L))return null;rt=rt||this._locale;try{return function $r(x,te,L){return function en(x,te,L,ve,rt,jt,Qt=!1){let Vn="",oi=!1;if(isFinite(x)){let si=function Si(x){let ve,rt,jt,Qt,Vn,te=Math.abs(x)+"",L=0;for((rt=te.indexOf(z))>-1&&(te=te.replace(z,"")),(jt=te.search(/e/i))>0?(rt<0&&(rt=jt),rt+=+te.slice(jt+1),te=te.substring(0,jt)):rt<0&&(rt=te.length),jt=0;"0"===te.charAt(jt);jt++);if(jt===(Vn=te.length))ve=[0],rt=1;else{for(Vn--;"0"===te.charAt(Vn);)Vn--;for(rt-=jt,ve=[],Qt=0;jt<=Vn;jt++,Qt++)ve[Qt]=Number(te.charAt(jt))}return rt>22&&(ve=ve.splice(0,21),L=rt-1,rt=1),{digits:ve,exponent:L,integerLen:rt}}(x);Qt&&(si=function Ai(x){if(0===x.digits[0])return x;const te=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===te?x.digits.push(0,0):1===te&&x.digits.push(0),x.integerLen+=2),x}(si));let Vr=te.minInt,Wn=te.minFrac,Pi=te.maxFrac;if(jt){const Ho=jt.match($);if(null===Ho)throw new Error(`${jt} is not a valid digit info`);const Ko=Ho[1],es=Ho[3],Ls=Ho[5];null!=Ko&&(Vr=Tr(Ko)),null!=es&&(Wn=Tr(es)),null!=Ls?Pi=Tr(Ls):null!=es&&Wn>Pi&&(Pi=Wn)}!function Pr(x,te,L){if(te>L)throw new Error(`The minimum number of digits after fraction (${te}) is higher than the maximum (${L}).`);let ve=x.digits,rt=ve.length-x.integerLen;const jt=Math.min(Math.max(te,rt),L);let Qt=jt+x.integerLen,Vn=ve[Qt];if(Qt>0){ve.splice(Math.max(x.integerLen,Qt));for(let Wn=Qt;Wn<ve.length;Wn++)ve[Wn]=0}else{rt=Math.max(0,rt),x.integerLen=1,ve.length=Math.max(1,Qt=jt+1),ve[0]=0;for(let Wn=1;Wn<Qt;Wn++)ve[Wn]=0}if(Vn>=5)if(Qt-1<0){for(let Wn=0;Wn>Qt;Wn--)ve.unshift(0),x.integerLen++;ve.unshift(1),x.integerLen++}else ve[Qt-1]++;for(;rt<Math.max(0,jt);rt++)ve.push(0);let oi=0!==jt;const si=te+x.integerLen,Vr=ve.reduceRight(function(Wn,Pi,An,Gi){return Gi[An]=(Pi+=Wn)<10?Pi:Pi-10,oi&&(0===Gi[An]&&An>=si?Gi.pop():oi=!1),Pi>=10?1:0},0);Vr&&(ve.unshift(Vr),x.integerLen++)}(si,Wn,Pi);let An=si.digits,Gi=si.integerLen;const Jo=si.exponent;let is=[];for(oi=An.every(Ho=>!Ho);Gi<Vr;Gi++)An.unshift(0);for(;Gi<0;Gi++)An.unshift(0);Gi>0?is=An.splice(Gi,An.length):(is=An,An=[0]);const Ui=[];for(An.length>=te.lgSize&&Ui.unshift(An.splice(-te.lgSize,An.length).join(""));An.length>te.gSize;)Ui.unshift(An.splice(-te.gSize,An.length).join(""));An.length&&Ui.unshift(An.join("")),Vn=Ui.join(pe(L,ve)),is.length&&(Vn+=pe(L,rt)+is.join("")),Jo&&(Vn+=pe(L,ze.Exponential)+"+"+Jo)}else Vn=pe(L,ze.Infinity);return Vn=x<0&&!oi?te.negPre+Vn+te.negSuf:te.posPre+Vn+te.posSuf,Vn}(x,function ni(x,te="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ve=x.split(";"),rt=ve[0],jt=ve[1],Qt=-1!==rt.indexOf(z)?rt.split(z):[rt.substring(0,rt.lastIndexOf("0")+1),rt.substring(rt.lastIndexOf("0")+1)],Vn=Qt[0],oi=Qt[1]||"";L.posPre=Vn.substring(0,Vn.indexOf("#"));for(let Vr=0;Vr<oi.length;Vr++){const Wn=oi.charAt(Vr);"0"===Wn?L.minFrac=L.maxFrac=Vr+1:"#"===Wn?L.maxFrac=Vr+1:L.posSuf+=Wn}const si=Vn.split(",");if(L.gSize=si[1]?si[1].length:0,L.lgSize=si[2]||si[1]?(si[2]||si[1]).length:0,jt){const Vr=rt.length-L.posPre.length-L.posSuf.length,Wn=jt.indexOf("#");L.negPre=jt.substring(0,Wn).replace(/'/g,""),L.negSuf=jt.slice(Wn+Vr).replace(/'/g,"")}else L.negPre=te+L.posPre,L.negSuf=L.posSuf;return L}(function He(x,te){return(0,c.cg1)(x)[c.wAp.NumberFormats][te]}(te,Ge.Decimal),pe(te,ze.MinusSign)),te,ze.Group,ze.Decimal,L)}(function ii(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}(L),rt,ve)}catch(jt){throw function Xt(x,te){return new c.vHH(2100,!1)}()}}}return x.\u0275fac=function(L){return new(L||x)(c.Y36(c.soG,16))},x.\u0275pipe=c.Yjl({name:"number",type:x,pure:!0,standalone:!0}),x})();let io=(()=>{class x{}return x.\u0275fac=function(L){return new(L||x)},x.\u0275mod=c.oAB({type:x}),x.\u0275inj=c.cJS({}),x})();const To="browser",Fo="server";function po(x){return x===Fo}let ct=(()=>{class x{}return x.\u0275prov=(0,c.Yz7)({token:x,providedIn:"root",factory:()=>new bt((0,c.LFG)(Fe),window)}),x})();class bt{constructor(te,L){this.document=te,this.window=L,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const L=function fn(x,te){const L=x.getElementById(te)||x.getElementsByName(te)[0];if(L)return L;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const ve=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let rt=ve.currentNode;for(;rt;){const jt=rt.shadowRoot;if(jt){const Qt=jt.getElementById(te)||jt.querySelector(`[name="${te}"]`);if(Qt)return Qt}rt=ve.nextNode()}}return null}(this.document,te);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=te)}}scrollToElement(te){const L=te.getBoundingClientRect(),ve=L.left+this.window.pageXOffset,rt=L.top+this.window.pageYOffset,jt=this.offset();this.window.scrollTo(ve-jt[0],rt-jt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=$t(this.window.history)||$t(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $t(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class bn{}},3144:(ln,gt,P)=>{"use strict";P.d(gt,{JF:()=>ti,eN:()=>M});var c=P(2223),d=P(9646),G=P(8996),ue=P(9751),Ae=P(4351),Fe=P(9300),le=P(4004),qe=P(8746),Qe=P(3900),fe=P(4755);class ae{}class Se{}class Ie{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?this.lazyInit="string"==typeof z?()=>{this.headers=new Map,z.split("\n").forEach(de=>{const ft=de.indexOf(":");if(ft>0){const St=de.slice(0,ft),Ot=St.toLowerCase(),Gt=de.slice(ft+1).trim();this.maybeSetNormalizedName(St,Ot),this.headers.has(Ot)?this.headers.get(Ot).push(Gt):this.headers.set(Ot,[Gt])}})}:()=>{this.headers=new Map,Object.entries(z).forEach(([de,ft])=>{let St;if(St="string"==typeof ft?[ft]:"number"==typeof ft?[ft.toString()]:ft.map(Ot=>Ot.toString()),St.length>0){const Ot=de.toLowerCase();this.headers.set(Ot,St),this.maybeSetNormalizedName(de,Ot)}})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const de=this.headers.get(z.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,de){return this.clone({name:z,value:de,op:"a"})}set(z,de){return this.clone({name:z,value:de,op:"s"})}delete(z,de){return this.clone({name:z,value:de,op:"d"})}maybeSetNormalizedName(z,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,z)}init(){this.lazyInit&&(this.lazyInit instanceof Ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach(de=>{this.headers.set(de,z.headers.get(de)),this.normalizedNames.set(de,z.normalizedNames.get(de))})}clone(z){const de=new Ie;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof Ie?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([z]),de}applyUpdate(z){const de=z.name.toLowerCase();switch(z.op){case"a":case"s":let ft=z.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(z.name,de);const St=("a"===z.op?this.headers.get(de):void 0)||[];St.push(...ft),this.headers.set(de,St);break;case"d":const Ot=z.value;if(Ot){let Gt=this.headers.get(de);if(!Gt)return;Gt=Gt.filter(Hn=>-1===Ot.indexOf(Hn)),0===Gt.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,Gt)}else this.headers.delete(de),this.normalizedNames.delete(de)}}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>z(this.normalizedNames.get(de),this.headers.get(de)))}}class ye{encodeKey(z){return ot(z)}encodeValue(z){return ot(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const Ce=/%(\d[a-f0-9])/gi,Pe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ot(K){return encodeURIComponent(K).replace(Ce,(z,de)=>Pe[de]??z)}function yt(K){return`${K}`}class De{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new ye,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ve(K,z){const de=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(St=>{const Ot=St.indexOf("="),[Gt,Hn]=-1==Ot?[z.decodeKey(St),""]:[z.decodeKey(St.slice(0,Ot)),z.decodeValue(St.slice(Ot+1))],en=de.get(Gt)||[];en.push(Hn),de.set(Gt,en)}),de}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach(de=>{const ft=z.fromObject[de],St=Array.isArray(ft)?ft.map(yt):[yt(ft)];this.map.set(de,St)})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const de=this.map.get(z);return de?de[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,de){return this.clone({param:z,value:de,op:"a"})}appendAll(z){const de=[];return Object.keys(z).forEach(ft=>{const St=z[ft];Array.isArray(St)?St.forEach(Ot=>{de.push({param:ft,value:Ot,op:"a"})}):de.push({param:ft,value:St,op:"a"})}),this.clone(de)}set(z,de){return this.clone({param:z,value:de,op:"s"})}delete(z,de){return this.clone({param:z,value:de,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const de=this.encoder.encodeKey(z);return this.map.get(z).map(ft=>de+"="+this.encoder.encodeValue(ft)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const de=new De({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(z),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const de=("a"===z.op?this.map.get(z.param):void 0)||[];de.push(yt(z.value)),this.map.set(z.param,de);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let ft=this.map.get(z.param)||[];const St=ft.indexOf(yt(z.value));-1!==St&&ft.splice(St,1),ft.length>0?this.map.set(z.param,ft):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(z,de){return this.map.set(z,de),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function Ye(K){return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer}function Me(K){return typeof Blob<"u"&&K instanceof Blob}function oe(K){return typeof FormData<"u"&&K instanceof FormData}class Xe{constructor(z,de,ft,St){let Ot;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function Je(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==ft?ft:null,Ot=St):Ot=ft,Ot&&(this.reportProgress=!!Ot.reportProgress,this.withCredentials=!!Ot.withCredentials,Ot.responseType&&(this.responseType=Ot.responseType),Ot.headers&&(this.headers=Ot.headers),Ot.context&&(this.context=Ot.context),Ot.params&&(this.params=Ot.params)),this.headers||(this.headers=new Ie),this.context||(this.context=new Ge),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=de;else{const Hn=de.indexOf("?");this.urlWithParams=de+(-1===Hn?"?":Hn<de.length-1?"&":"")+Gt}}else this.params=new De,this.urlWithParams=de}serializeBody(){return null===this.body?null:Ye(this.body)||Me(this.body)||oe(this.body)||function ze(K){return typeof URLSearchParams<"u"&&K instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof De?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:Me(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof De?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){const de=z.method||this.method,ft=z.url||this.url,St=z.responseType||this.responseType,Ot=void 0!==z.body?z.body:this.body,Gt=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,Hn=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let en=z.headers||this.headers,ir=z.params||this.params;const fr=z.context??this.context;return void 0!==z.setHeaders&&(en=Object.keys(z.setHeaders).reduce(($r,ni)=>$r.set(ni,z.setHeaders[ni]),en)),z.setParams&&(ir=Object.keys(z.setParams).reduce(($r,ni)=>$r.set(ni,z.setParams[ni]),ir)),new Xe(de,ft,Ot,{params:ir,headers:en,context:fr,reportProgress:Hn,responseType:St,withCredentials:Gt})}}var $e=(()=>(($e=$e||{})[$e.Sent=0]="Sent",$e[$e.UploadProgress=1]="UploadProgress",$e[$e.ResponseHeader=2]="ResponseHeader",$e[$e.DownloadProgress=3]="DownloadProgress",$e[$e.Response=4]="Response",$e[$e.User=5]="User",$e))();class xe{constructor(z,de=200,ft="OK"){this.headers=z.headers||new Ie,this.status=void 0!==z.status?z.status:de,this.statusText=z.statusText||ft,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends xe{constructor(z={}){super(z),this.type=$e.ResponseHeader}clone(z={}){return new lt({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class be extends xe{constructor(z={}){super(z),this.type=$e.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new be({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class he extends xe{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function Z(K,z){return{body:z,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials}}let M=(()=>{class K{constructor(de){this.handler=de}request(de,ft,St={}){let Ot;if(de instanceof Xe)Ot=de;else{let en,ir;en=St.headers instanceof Ie?St.headers:new Ie(St.headers),St.params&&(ir=St.params instanceof De?St.params:new De({fromObject:St.params})),Ot=new Xe(de,ft,void 0!==St.body?St.body:null,{headers:en,context:St.context,params:ir,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials})}const Gt=(0,d.of)(Ot).pipe((0,Ae.b)(en=>this.handler.handle(en)));if(de instanceof Xe||"events"===St.observe)return Gt;const Hn=Gt.pipe((0,Fe.h)(en=>en instanceof be));switch(St.observe||"body"){case"body":switch(Ot.responseType){case"arraybuffer":return Hn.pipe((0,le.U)(en=>{if(null!==en.body&&!(en.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return en.body}));case"blob":return Hn.pipe((0,le.U)(en=>{if(null!==en.body&&!(en.body instanceof Blob))throw new Error("Response is not a Blob.");return en.body}));case"text":return Hn.pipe((0,le.U)(en=>{if(null!==en.body&&"string"!=typeof en.body)throw new Error("Response is not a string.");return en.body}));default:return Hn.pipe((0,le.U)(en=>en.body))}case"response":return Hn;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(de,ft={}){return this.request("DELETE",de,ft)}get(de,ft={}){return this.request("GET",de,ft)}head(de,ft={}){return this.request("HEAD",de,ft)}jsonp(de,ft){return this.request("JSONP",de,{params:(new De).append(ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,ft={}){return this.request("OPTIONS",de,ft)}patch(de,ft,St={}){return this.request("PATCH",de,Z(St,ft))}post(de,ft,St={}){return this.request("POST",de,Z(St,ft))}put(de,ft,St={}){return this.request("PUT",de,Z(St,ft))}}return K.\u0275fac=function(de){return new(de||K)(c.LFG(ae))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();function A(K,z){return z(K)}function j(K,z){return(de,ft)=>z.intercept(de,{handle:St=>K(St,ft)})}const pe=new c.OlP(""),He=new c.OlP(""),We=new c.OlP("");function Ue(){let K=null;return(z,de)=>{null===K&&(K=((0,c.f3M)(pe,{optional:!0})??[]).reduceRight(j,A));const ft=(0,c.f3M)(c.HDt),St=ft.add();return K(z,de).pipe((0,qe.x)(()=>ft.remove(St)))}}let it=(()=>{class K extends ae{constructor(de,ft){super(),this.backend=de,this.injector=ft,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(de){if(null===this.chain){const St=Array.from(new Set([...this.injector.get(He),...this.injector.get(We,[])]));this.chain=St.reduceRight((Ot,Gt)=>function Oe(K,z,de){return(ft,St)=>de.runInContext(()=>z(ft,Ot=>K(Ot,St)))}(Ot,Gt,this.injector),A)}const ft=this.pendingTasks.add();return this.chain(de,St=>this.backend.handle(St)).pipe((0,qe.x)(()=>this.pendingTasks.remove(ft)))}}return K.\u0275fac=function(de){return new(de||K)(c.LFG(Se),c.LFG(c.lqb))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const xn=/^\)\]\}',?\n/;let Jt=(()=>{class K{constructor(de){this.xhrFactory=de}handle(de){if("JSONP"===de.method)throw new c.vHH(-2800,!1);const ft=this.xhrFactory;return(ft.\u0275loadImpl?(0,G.D)(ft.\u0275loadImpl()):(0,d.of)(null)).pipe((0,Qe.w)(()=>new ue.y(Ot=>{const Gt=ft.build();if(Gt.open(de.method,de.urlWithParams),de.withCredentials&&(Gt.withCredentials=!0),de.headers.forEach((Pr,Tr)=>Gt.setRequestHeader(Pr,Tr.join(","))),de.headers.has("Accept")||Gt.setRequestHeader("Accept","application/json, text/plain, */*"),!de.headers.has("Content-Type")){const Pr=de.detectContentTypeHeader();null!==Pr&&Gt.setRequestHeader("Content-Type",Pr)}if(de.responseType){const Pr=de.responseType.toLowerCase();Gt.responseType="json"!==Pr?Pr:"text"}const Hn=de.serializeBody();let en=null;const ir=()=>{if(null!==en)return en;const Pr=Gt.statusText||"OK",Tr=new Ie(Gt.getAllResponseHeaders()),Yr=function On(K){return"responseURL"in K&&K.responseURL?K.responseURL:/^X-Request-URL:/m.test(K.getAllResponseHeaders())?K.getResponseHeader("X-Request-URL"):null}(Gt)||de.url;return en=new lt({headers:Tr,status:Gt.status,statusText:Pr,url:Yr}),en},fr=()=>{let{headers:Pr,status:Tr,statusText:Yr,url:Eo}=ir(),Wr=null;204!==Tr&&(Wr=typeof Gt.response>"u"?Gt.responseText:Gt.response),0===Tr&&(Tr=Wr?200:0);let gr=Tr>=200&&Tr<300;if("json"===de.responseType&&"string"==typeof Wr){const dr=Wr;Wr=Wr.replace(xn,"");try{Wr=""!==Wr?JSON.parse(Wr):null}catch(Oo){Wr=dr,gr&&(gr=!1,Wr={error:Oo,text:Wr})}}gr?(Ot.next(new be({body:Wr,headers:Pr,status:Tr,statusText:Yr,url:Eo||void 0})),Ot.complete()):Ot.error(new he({error:Wr,headers:Pr,status:Tr,statusText:Yr,url:Eo||void 0}))},$r=Pr=>{const{url:Tr}=ir(),Yr=new he({error:Pr,status:Gt.status||0,statusText:Gt.statusText||"Unknown Error",url:Tr||void 0});Ot.error(Yr)};let ni=!1;const Ai=Pr=>{ni||(Ot.next(ir()),ni=!0);let Tr={type:$e.DownloadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(Tr.total=Pr.total),"text"===de.responseType&&Gt.responseText&&(Tr.partialText=Gt.responseText),Ot.next(Tr)},Si=Pr=>{let Tr={type:$e.UploadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(Tr.total=Pr.total),Ot.next(Tr)};return Gt.addEventListener("load",fr),Gt.addEventListener("error",$r),Gt.addEventListener("timeout",$r),Gt.addEventListener("abort",$r),de.reportProgress&&(Gt.addEventListener("progress",Ai),null!==Hn&&Gt.upload&&Gt.upload.addEventListener("progress",Si)),Gt.send(Hn),Ot.next({type:$e.Sent}),()=>{Gt.removeEventListener("error",$r),Gt.removeEventListener("abort",$r),Gt.removeEventListener("load",fr),Gt.removeEventListener("timeout",$r),de.reportProgress&&(Gt.removeEventListener("progress",Ai),null!==Hn&&Gt.upload&&Gt.upload.removeEventListener("progress",Si)),Gt.readyState!==Gt.DONE&&Gt.abort()}})))}}return K.\u0275fac=function(de){return new(de||K)(c.LFG(fe.JF))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const un=new c.OlP("XSRF_ENABLED"),En=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nn=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wr{}let Dn=(()=>{class K{constructor(de,ft,St){this.doc=de,this.platform=ft,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const de=this.doc.cookie||"";return de!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe.Mx)(de,this.cookieName),this.lastCookieString=de),this.lastToken}}return K.\u0275fac=function(de){return new(de||K)(c.LFG(fe.K0),c.LFG(c.Lbi),c.LFG(En))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();function nr(K,z){const de=K.url.toLowerCase();if(!(0,c.f3M)(un)||"GET"===K.method||"HEAD"===K.method||de.startsWith("http://")||de.startsWith("https://"))return z(K);const ft=(0,c.f3M)(wr).getToken(),St=(0,c.f3M)(Nn);return null!=ft&&!K.headers.has(St)&&(K=K.clone({headers:K.headers.set(St,ft)})),z(K)}var In=(()=>((In=In||{})[In.Interceptors=0]="Interceptors",In[In.LegacyInterceptors=1]="LegacyInterceptors",In[In.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",In[In.NoXsrfProtection=3]="NoXsrfProtection",In[In.JsonpSupport=4]="JsonpSupport",In[In.RequestsMadeViaParent=5]="RequestsMadeViaParent",In))();function sr(K,z){return{\u0275kind:K,\u0275providers:z}}function jn(...K){const z=[M,Jt,it,{provide:ae,useExisting:it},{provide:Se,useExisting:Jt},{provide:He,useValue:nr,multi:!0},{provide:un,useValue:!0},{provide:wr,useClass:Dn}];for(const de of K)z.push(...de.\u0275providers);return(0,c.MR2)(z)}const Dr=new c.OlP("LEGACY_INTERCEPTOR_FN");let ti=(()=>{class K{}return K.\u0275fac=function(de){return new(de||K)},K.\u0275mod=c.oAB({type:K}),K.\u0275inj=c.cJS({providers:[jn(sr(In.LegacyInterceptors,[{provide:Dr,useFactory:Ue},{provide:He,useExisting:Dr,multi:!0}]))]}),K})()},2223:(ln,gt,P)=>{"use strict";P.d(gt,{$8M:()=>jl,$WT:()=>er,$Z:()=>dc,AFp:()=>Nh,ALo:()=>C0,AaK:()=>Se,AsE:()=>ov,BQk:()=>hf,CHM:()=>fd,CRH:()=>U0,D6c:()=>SD,DdM:()=>v0,EJc:()=>xw,EpF:()=>Xd,F$t:()=>D_,F4k:()=>Xg,FYo:()=>ip,FiY:()=>Yl,G48:()=>nD,Gf:()=>B0,GfV:()=>op,GkF:()=>Zg,Gpc:()=>ye,HDt:()=>lI,Hsn:()=>Jd,JOm:()=>Bt,KtG:()=>Iu,LFG:()=>vr,LMc:()=>PD,LSH:()=>Xp,Lbi:()=>Xf,Lck:()=>yT,MAs:()=>Kg,MMx:()=>d0,MR2:()=>xh,NdJ:()=>Cp,Ojb:()=>Ts,OlP:()=>Mi,Oqu:()=>iv,P3R:()=>Om,PXZ:()=>qw,Q6J:()=>Yg,QGY:()=>Zu,Qsj:()=>hg,R0b:()=>Ea,RDi:()=>Th,Rgc:()=>_m,SBq:()=>wl,Sil:()=>Nw,Suo:()=>$0,TTD:()=>Zs,TgZ:()=>ld,Tol:()=>m,VKq:()=>E0,X6Q:()=>tD,XFs:()=>un,Xpm:()=>je,Xts:()=>Zc,Y36:()=>qu,YKP:()=>l0,YNc:()=>bp,Yjl:()=>tn,Yz7:()=>Ct,Z0I:()=>yn,ZZ4:()=>Hv,_Bn:()=>u0,_UZ:()=>Tp,_c5:()=>yD,_uU:()=>pE,aQg:()=>zv,c2e:()=>uI,cJS:()=>Tt,cg1:()=>av,dDg:()=>Hw,dqk:()=>Dn,eFA:()=>TI,eJc:()=>Cv,ekj:()=>Op,eoX:()=>vI,f3M:()=>Kn,g9A:()=>og,h0i:()=>Lp,hGG:()=>vD,hij:()=>V_,iGM:()=>V0,ifc:()=>ft,ip1:()=>aI,jDz:()=>h0,kL8:()=>OE,lG2:()=>Yt,lnq:()=>sv,lqb:()=>Qc,lri:()=>_I,n5z:()=>Ul,oAB:()=>dt,oxw:()=>Ml,q4F:()=>sp,qFp:()=>MD,qLn:()=>Wu,qOj:()=>Og,qZA:()=>cd,rWj:()=>yI,rg0:()=>vu,sBO:()=>rD,s_b:()=>z_,soG:()=>W_,tb:()=>Lv,tp0:()=>al,uIk:()=>ws,vHH:()=>De,vpe:()=>yc,wAp:()=>Sr,xi3:()=>A0,xp6:()=>Jm,ynx:()=>Dp,z2F:()=>$p,zSh:()=>qf,zs3:()=>ia});var c=P(7579),d=P(727),G=P(1135),ue=P(9751),Ae=P(6451),Fe=P(9646),le=P(3099),qe=P(5577),Qe=P(1884);function fe(t){for(let n in t)if(t[n]===fe)return n;throw Error("Could not find renamed property on target object.")}function ae(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ie(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ce=fe({__forward_ref__:fe});function ye(t){return t.__forward_ref__=ye,t.toString=function(){return Se(this())},t}function Ve(t){return Ce(t)?t():t}function Ce(t){return"function"==typeof t&&t.hasOwnProperty(ce)&&t.__forward_ref__===ye}function Pe(t){return t&&!!t.\u0275providers}const yt="https://g.co/ng/security#xss";class De extends Error{constructor(n,i){super(function Ke(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function ze(t,n){throw new De(-201,!1)}function We(t,n){null==t&&function Ue(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function Ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gn(t){return xt(t,cn)||xt(t,On)}function yn(t){return null!==gn(t)}function xt(t,n){return t.hasOwnProperty(n)?t[n]:null}function kt(t){return t&&(t.hasOwnProperty(xn)||t.hasOwnProperty(Jt))?t[xn]:null}const cn=fe({\u0275prov:fe}),xn=fe({\u0275inj:fe}),On=fe({ngInjectableDef:fe}),Jt=fe({ngInjectorDef:fe});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let wn;function Zn(t){const n=wn;return wn=t,n}function Nn(t,n,i){const s=gn(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&un.Optional?null:void 0!==n?n:void ze(Se(t))}const Dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},jn="__NG_DI_FLAG__",rr="ngTempTokenPath",fi=/\n/gm,cr="__source";let pr;function qr(t){const n=pr;return pr=t,n}function ti(t,n=un.Default){if(void 0===pr)throw new De(-203,!1);return null===pr?Nn(t,void 0,n):pr.get(t,n&un.Optional?null:void 0,n)}function vr(t,n=un.Default){return(function En(){return wn}()||ti)(Ve(t),n)}function Kn(t,n=un.Default){return vr(t,dn(n))}function dn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function et(t){const n=[];for(let i=0;i<t.length;i++){const s=Ve(t[i]);if(Array.isArray(s)){if(0===s.length)throw new De(900,!1);let l,f=un.Default;for(let y=0;y<s.length;y++){const D=s[y],O=S(D);"number"==typeof O?-1===O?l=D.token:f|=O:l=D}n.push(vr(l,f))}else n.push(vr(s))}return n}function F(t,n){return t[jn]=n,t.prototype[jn]=n,t}function S(t){return t[jn]}function z(t){return{toString:t}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),ft=(()=>{return(t=ft||(ft={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ft;var t})();const St={},Ot=[],Gt=fe({\u0275cmp:fe}),Hn=fe({\u0275dir:fe}),en=fe({\u0275pipe:fe}),ir=fe({\u0275mod:fe}),fr=fe({\u0275fac:fe}),$r=fe({__NG_ELEMENT_ID__:fe}),ni=fe({__NG_ENV_ID__:fe});function Ai(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const f=n.length;if(l+f===s||t.charCodeAt(l+f)<=32)return l}i=l+1}}function Si(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const f=i[s++],y=i[s++],D=i[s++];t.setAttribute(n,y,D,f)}else{const f=l,y=i[++s];Tr(f)?t.setProperty(n,f,y):t.setAttribute(n,f,y),s++}}return s}function Pr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Yr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||Eo(t,i,l,null,-1===i||2===i?n[++s]:null)}}return t}function Eo(t,n,i,s,l){let f=0,y=t.length;if(-1===n)y=-1;else for(;f<t.length;){const D=t[f++];if("number"==typeof D){if(D===n){y=-1;break}if(D>n){y=f-1;break}}}for(;f<t.length;){const D=t[f];if("number"==typeof D)break;if(D===i){if(null===s)return void(null!==l&&(t[f+1]=l));if(s===t[f+1])return void(t[f+2]=l)}f++,null!==s&&f++,null!==l&&f++}-1!==y&&(t.splice(y,0,n),f=y+1),t.splice(f++,0,i),null!==s&&t.splice(f++,0,s),null!==l&&t.splice(f++,0,l)}const Wr="ng-template";function gr(t,n,i){let s=0,l=!0;for(;s<t.length;){let f=t[s++];if("string"==typeof f&&l){const y=t[s++];if(i&&"class"===f&&-1!==Ai(y.toLowerCase(),n,0))return!0}else{if(1===f){for(;s<t.length&&"string"==typeof(f=t[s++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(l=!1)}}return!1}function dr(t){return 4===t.type&&t.value!==Wr}function Oo(t,n,i){return n===(4!==t.type||i?t.value:Wr)}function pi(t,n,i){let s=4;const l=t.attrs||[],f=function Ii(t){for(let n=0;n<t.length;n++)if(Pr(t[n]))return n;return t.length}(l);let y=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!y)if(4&s){if(s=2|1&s,""!==O&&!Oo(t,O,i)||""===O&&1===n.length){if(Ei(s))return!1;y=!0}}else{const Q=8&s?O:n[++D];if(8&s&&null!==t.attrs){if(!gr(t.attrs,Q,i)){if(Ei(s))return!1;y=!0}continue}const tt=No(8&s?"class":O,l,dr(t),i);if(-1===tt){if(Ei(s))return!1;y=!0;continue}if(""!==Q){let Dt;Dt=tt>f?"":l[tt+1].toLowerCase();const Mt=8&s?Dt:null;if(Mt&&-1!==Ai(Mt,Q,0)||2&s&&Q!==Dt){if(Ei(s))return!1;y=!0}}}}else{if(!y&&!Ei(s)&&!Ei(O))return!1;if(y&&Ei(O))continue;y=!1,s=O|1&s}}return Ei(s)||y}function Ei(t){return 0==(1&t)}function No(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let f=!1;for(;l<n.length;){const y=n[l];if(y===t)return l;if(3===y||6===y)f=!0;else{if(1===y||2===y){let D=n[++l];for(;"string"==typeof D;)D=n[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=f?1:2}return-1}return function Vi(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function Ki(t,n,i=!1){for(let s=0;s<n.length;s++)if(pi(t,n[s],i))return!0;return!1}function di(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function Hi(t,n){return t?":not("+n.trim()+")":n}function co(t){let n=t[0],i=1,s=2,l="",f=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&s){const D=t[++i];l+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&s?l+="."+y:4&s&&(l+=" "+y);else""!==l&&!Ei(y)&&(n+=Hi(f,l),l=""),s=y,f=f||!Ei(s);i++}return""!==l&&(n+=Hi(f,l)),n}function je(t){return z(()=>{const n=ai(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||ft.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""};Ar(i);const s=t.dependencies;return i.directiveDefs=Ur(s,!1),i.pipeDefs=Ur(s,!0),i.id=function ho(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ne(t){return Xt(t)||Mn(t)}function ut(t){return null!==t}function dt(t){return z(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ft(t,n){if(null==t)return St;const i={};for(const s in t)if(t.hasOwnProperty(s)){let l=t[s],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),i[l]=s,n&&(n[l]=f)}return i}function Yt(t){return z(()=>{const n=ai(t);return Ar(n),n})}function tn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[Gt]||null}function Mn(t){return t[Hn]||null}function qn(t){return t[en]||null}function er(t){const n=Xt(t)||Mn(t)||qn(t);return null!==n&&n.standalone}function Fr(t,n){const i=t[ir]||null;if(!i&&!0===n)throw new Error(`Type ${Se(t)} does not have '\u0275mod' property.`);return i}function ai(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ft(t.inputs,n),outputs:Ft(t.outputs)}}function Ar(t){t.features?.forEach(n=>n(t))}function Ur(t,n){if(!t)return null;const i=n?qn:Ne;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(ut)}const Lr=0,Sn=1,Xn=2,mr=3,Bi=4,zi=5,zr=6,Io=7,Or=8,ko=9,no=10,Qn=11,ro=12,os=13,Di=14,ii=15,bo=16,Co=17,io=18,To=19,Fo=20,oo=21,fo=22,Yi=23,po=24,se=25,nt=1,ct=2,bt=7,$t=8,fn=9,bn=11;function or(t){return Array.isArray(t)&&"object"==typeof t[nt]}function hr(t){return Array.isArray(t)&&!0===t[nt]}function Bn(t){return 0!=(4&t.flags)}function Gn(t){return t.componentOffset>-1}function ui(t){return 1==(1&t.flags)}function kr(t){return!!t.template}function gi(t){return 0!=(512&t[Xn])}function _i(t,n){return t.hasOwnProperty(fr)?t[fr]:null}let Rn=Dn.WeakRef??class Wt{constructor(n){this.ref=n}deref(){return this.ref}},qo=0,Oi=null,Xi=!1;function Ri(t){const n=Oi;return Oi=t,n}class so{constructor(){this.id=qo++,this.ref=function yi(t){return new Rn(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,i]of this.producers){const s=i.producerNode.deref();if(void 0!==s&&i.atTrackingVersion===this.trackingVersion){if(s.producerPollStatus(i.seenValueVersion))return!0}else this.producers.delete(n),s?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Xi;Xi=!0;try{for(const[i,s]of this.consumers){const l=s.consumerNode.deref();void 0!==l&&l.trackingVersion===s.atTrackingVersion?l.onConsumerDependencyMayHaveChanged():(this.consumers.delete(i),l?.producers.delete(this.id))}}finally{Xi=n}}producerAccessed(){if(Xi)throw new Error("");if(null===Oi)return;let n=Oi.producers.get(this.id);void 0===n?(n={consumerNode:Oi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Oi.trackingVersion},Oi.producers.set(this.id,n),this.consumers.set(Oi.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Oi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Oi?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Qi=null;function vu(t){const n=Ri(null);try{return t()}finally{Ri(n)}}const kl=()=>{};class Er extends so{constructor(n,i,s){super(),this.watch=n,this.schedule=i,this.dirty=!1,this.cleanupFn=kl,this.registerOnCleanup=l=>{this.cleanupFn=l},this.consumerAllowSignalWrites=s}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Ri(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=kl,this.watch(this.registerOnCleanup)}finally{Ri(n)}}cleanup(){this.cleanupFn()}}class Fl{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Zs(){return Ta}function Ta(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ll),sa}function sa(){const t=Eu(this),n=t?.current;if(n){const i=t.previous;if(i===St)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Ll(t,n,i,s){const l=this.declaredInputs[i],f=Eu(t)||function Qu(t,n){return t[As]=n}(t,{previous:St,current:null}),y=f.current||(f.current={}),D=f.previous,O=D[l];y[l]=new Fl(O&&O.currentValue,n,D===St),t[s]=n}Zs.ngInherit=!0;const As="__ngSimpleChanges__";function Eu(t){return t[As]||null}const So=function(t,n,i){};function li(t){for(;Array.isArray(t);)t=t[Lr];return t}function Qo(t,n){return li(n[t])}function wo(t,n){return li(n[t.index])}function x(t,n){return t.data[n]}function te(t,n){return t[n]}function L(t,n){const i=n[t];return or(i)?i:i[Lr]}function rt(t){return 128==(128&t[Xn])}function Qt(t,n){return null==n?null:t[n]}function Vn(t){t[Co]=0}function oi(t){1024&t[Xn]||(t[Xn]|=1024,Vr(t,1))}function si(t){1024&t[Xn]&&(t[Xn]&=-1025,Vr(t,-1))}function Vr(t,n){let i=t[mr];if(null===i)return;i[zi]+=n;let s=i;for(i=i[mr];null!==i&&(1===n&&1===s[zi]||-1===n&&0===s[zi]);)i[zi]+=n,s=i,i=i[mr]}const An={lFrame:Ji(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ko(){return An.bindingsEnabled}function es(){return null!==An.skipHydrationRootTNode}function an(){return An.lFrame.lView}function Qr(){return An.lFrame.tView}function fd(t){return An.lFrame.contextLView=t,t[Or]}function Iu(t){return An.lFrame.contextLView=null,t}function $i(){let t=Vs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vs(){return An.lFrame.currentTNode}function mo(t,n){const i=An.lFrame;i.currentTNode=t,i.isParent=n}function Xs(){return An.lFrame.isParent}function ua(){An.lFrame.isParent=!1}function Ro(){const t=An.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function _s(){return An.lFrame.bindingIndex}function Ps(){return An.lFrame.bindingIndex++}function ls(t){const n=An.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Ha(t,n){const i=An.lFrame;i.bindingIndex=i.bindingRootIndex=t,wu(n)}function wu(t){An.lFrame.currentDirectiveIndex=t}function Wi(){return An.lFrame.currentQueryIndex}function la(t){An.lFrame.currentQueryIndex=t}function Ga(t){const n=t[Sn];return 2===n.type?n.declTNode:1===n.type?t[zr]:null}function Cu(t,n,i){if(i&un.SkipSelf){let l=n,f=t;for(;!(l=l.parent,null!==l||i&un.Host||(l=Ga(f),null===l||(f=f[Di],10&l.type))););if(null===l)return!1;n=l,t=f}const s=An.lFrame=ys();return s.currentTNode=n,s.lView=t,!0}function cs(t){const n=ys(),i=t[Sn];An.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ys(){const t=An.lFrame,n=null===t?null:t.child;return null===n?Ji(t):n}function Ji(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ca(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Aa=Ca;function Wa(){const t=Ca();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zo(){return An.lFrame.selectedIndex}function Js(t){An.lFrame.selectedIndex=t}function Ni(){const t=An.lFrame;return x(t.tView,t.selectedIndex)}let Re=!0;function Be(){return Re}function At(t){Re=t}function zn(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:Q,ngOnDestroy:Ee}=f;y&&(t.contentHooks??=[]).push(-i,y),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),O&&(t.viewHooks??=[]).push(-i,O),Q&&((t.viewHooks??=[]).push(i,Q),(t.viewCheckHooks??=[]).push(i,Q)),null!=Ee&&(t.destroyHooks??=[]).push(i,Ee)}}function Jn(t,n,i){Sa(t,n,3,i)}function Hr(t,n,i,s){(3&t[Xn])===i&&Sa(t,n,i,s)}function _o(t,n){let i=t[Xn];(3&i)===n&&(i&=4095,i+=1,t[Xn]=i)}function Sa(t,n,i,s){const f=s??-1,y=n.length-1;let D=0;for(let O=void 0!==s?65535&t[Co]:0;O<y;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=s&&D>=s)break}else n[O]<0&&(t[Co]+=65536),(D<f||-1==f)&&(Ka(t,i,n,O),t[Co]=(4294901760&t[Co])+O+2),O++}function ca(t,n){So(4,t,n);const i=Ri(null);try{n.call(t)}finally{Ri(i),So(5,t,n)}}function Ka(t,n,i,s){const l=i[s]<0,f=i[s+1],D=t[l?-i[s]:i[s]];l?t[Xn]>>12<t[Co]>>16&&(3&t[Xn])===n&&(t[Xn]+=4096,ca(D,f)):ca(D,f)}const Po=-1;class ea{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function Vl(t){return t!==Po}function Su(t){return 32767&t}function Ru(t,n){let i=function Ec(t){return t>>16}(t),s=n;for(;i>0;)s=s[Di],i--;return s}let Bl=!0;function Ju(t){const n=Bl;return Bl=t,n}const Qa=255,el=5;let ta=0;const eo={};function Ja(t,n){const i=Pu(t,n);if(-1!==i)return i;const s=n[Sn];s.firstCreatePass&&(t.injectorIndex=n.length,tl(s.data,t),tl(n,null),tl(s.blueprint,null));const l=nl(t,n),f=t.injectorIndex;if(Vl(l)){const y=Su(l),D=Ru(l,n),O=D[Sn].data;for(let Q=0;Q<8;Q++)n[f+Q]=D[y+Q]|O[y+Q]}return n[f+8]=l,f}function tl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Pu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function nl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=Nu(l),null===s)return Po;if(i++,l=l[Di],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Po}function da(t,n,i){!function Ic(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty($r)&&(s=i[$r]),null==s&&(s=i[$r]=ta++);const l=s&Qa;n.data[t+(l>>el)]|=1<<l}(t,n,i)}function fa(t,n,i){if(i&un.Optional||void 0!==t)return t;ze()}function pa(t,n,i,s){if(i&un.Optional&&void 0===s&&(s=null),!(i&(un.Self|un.Host))){const l=t[ko],f=Zn(void 0);try{return l?l.get(n,s,i&un.Optional):Nn(n,s,i&un.Optional)}finally{Zn(f)}}return fa(s,0,i)}function Us(t,n,i,s=un.Default,l){if(null!==t){if(2048&n[Xn]&&!(s&un.Self)){const y=function Ou(t,n,i,s,l){let f=t,y=n;for(;null!==f&&null!==y&&2048&y[Xn]&&!(512&y[Xn]);){const D=rl(f,y,i,s|un.Self,eo);if(D!==eo)return D;let O=f.parent;if(!O){const Q=y[Fo];if(Q){const Ee=Q.get(i,eo,s);if(Ee!==eo)return Ee}O=Nu(y),y=y[Di]}f=O}return l}(t,n,i,s,eo);if(y!==eo)return y}const f=rl(t,n,i,s,eo);if(f!==eo)return f}return pa(n,i,s,l)}function rl(t,n,i,s,l){const f=function il(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($r)?t[$r]:void 0;return"number"==typeof n?n>=0?n&Qa:xu:n}(i);if("function"==typeof f){if(!Cu(n,t,s))return s&un.Host?fa(l,0,s):pa(n,i,s,l);try{const y=f(s);if(null!=y||s&un.Optional)return y;ze()}finally{Aa()}}else if("number"==typeof f){let y=null,D=Pu(t,n),O=Po,Q=s&un.Host?n[ii][zr]:null;for((-1===D||s&un.SkipSelf)&&(O=-1===D?nl(t,n):n[D+8],O!==Po&&$l(s,!1)?(y=n[Sn],D=Su(O),n=Ru(O,n)):D=-1);-1!==D;){const Ee=n[Sn];if(Mu(f,D,Ee.data)){const tt=bc(D,n,i,y,s,Q);if(tt!==eo)return tt}O=n[D+8],O!==Po&&$l(s,n[Sn].data[D+8]===Q)&&Mu(f,D,n)?(y=Ee,D=Su(O),n=Ru(O,n)):D=-1}}return l}function bc(t,n,i,s,l,f){const y=n[Sn],D=y.data[t+8],Ee=eu(D,y,i,null==s?Gn(D)&&Bl:s!=y&&0!=(3&D.type),l&un.Host&&f===D);return null!==Ee?vs(n,y,Ee,D):eo}function eu(t,n,i,s,l){const f=t.providerIndexes,y=n.data,D=1048575&f,O=t.directiveStart,Ee=f>>20,Dt=l?D+Ee:t.directiveEnd;for(let Mt=s?D:D+Ee;Mt<Dt;Mt++){const sn=y[Mt];if(Mt<O&&i===sn||Mt>=O&&sn.type===i)return Mt}if(l){const Mt=y[O];if(Mt&&kr(Mt)&&Mt.type===i)return O}return null}function vs(t,n,i,s){let l=t[i];const f=n.data;if(function vf(t){return t instanceof ea}(l)){const y=l;y.resolving&&function Ye(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new De(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(f[i]));const D=Ju(y.canSeeViewProviders);y.resolving=!0;const O=y.injectImpl?Zn(y.injectImpl):null;Cu(t,s,un.Default);try{l=t[i]=y.factory(void 0,f,t,s),n.firstCreatePass&&i>=s.directiveStart&&function mn(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:f}=n.type.prototype;if(s){const y=Ta(n);(i.preOrderHooks??=[]).push(t,y),(i.preOrderCheckHooks??=[]).push(t,y)}l&&(i.preOrderHooks??=[]).push(0-t,l),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==O&&Zn(O),Ju(D),y.resolving=!1,Aa()}}return l}function Mu(t,n,i){return!!(i[n+(t>>el)]&1<<t)}function $l(t,n){return!(t&un.Self||t&un.Host&&n)}class js{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Us(this._tNode,this._lView,n,dn(s),i)}}function xu(){return new js($i(),an())}function Ul(t){return z(()=>{const n=t.prototype.constructor,i=n[fr]||Do(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const f=l[fr]||Do(l);if(f&&f!==i)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Do(t){return Ce(t)?()=>{const n=Do(Ve(t));return n&&n()}:_i(t)}function Nu(t){const n=t[Sn],i=n.type;return 2===i?n.declTNode:1===i?t[zr]:null}function jl(t){return function ha(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const f=i[l];if(Pr(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(f===n)return i[l+1];l+=2}}}return null}($i(),t)}const Hs="__parameters__";function qi(t,n,i){return z(()=>{const s=function Ra(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...f){if(this instanceof l)return s.apply(this,f),this;const y=new l(...f);return D.annotation=y,D;function D(O,Q,Ee){const tt=O.hasOwnProperty(Hs)?O[Hs]:Object.defineProperty(O,Hs,{value:[]})[Hs];for(;tt.length<=Ee;)tt.push(null);return(tt[Ee]=tt[Ee]||[]).push(y),O}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Ma(t,n){t.forEach(i=>Array.isArray(i)?Ma(i,n):n(i))}function wc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ma(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Lu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}function Mo(t,n,i){let s=iu(t,n);return s>=0?t[1|s]=i:(s=~s,function Dc(t,n,i,s){let l=t.length;if(l==n)t.push(i,s);else if(1===l)t.push(s,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function zs(t,n){const i=iu(t,n);if(i>=0)return t[1|i]}function iu(t,n){return function Sc(t,n,i){let s=0,l=t.length>>i;for(;l!==s;){const f=s+(l-s>>1),y=t[f<<i];if(n===y)return f<<i;y>n?l=f:s=f+1}return~(l<<i)}(t,n,1)}const Yl=F(qi("Optional"),8),al=F(qi("SkipSelf"),4);function Te(t){return 128==(128&t.flags)}var Bt=(()=>((Bt=Bt||{})[Bt.Important=1]="Important",Bt[Bt.DashCase=2]="DashCase",Bt))();const hn=/^>|^->|<!--|-->|--!>|<!-$/g,Un=/(<|>)/,$n="\u200b$1\u200b";const xo=new Map;let na=0;const _a="__ngContext__";function Bo(t,n){or(n)?(t[_a]=n[To],function Ql(t){xo.set(t[To],t)}(n)):t[_a]=n}let pl;function $c(t,n){return pl(t,n)}function Uc(t){const n=t[mr];return hr(n)?n[mr]:n}function tc(t){return nc(t[ro])}function hu(t){return nc(t[Bi])}function nc(t){for(;null!==t&&!hr(t);)t=t[Bi];return t}function gl(t,n,i,s,l){if(null!=s){let f,y=!1;hr(s)?f=s:or(s)&&(y=!0,s=s[Lr]);const D=li(s);0===t&&null!==i?null==l?zu(n,i,D):ra(n,i,D,l||null,!0):1===t&&null!==i?ra(n,i,D,l||null,!0):2===t?function Wc(t,n,i){const s=ml(t,n);s&&function jc(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,D,y):3===t&&n.destroyNode(D),null!=f&&function bm(t,n,i,s,l){const f=i[bt];f!==li(i)&&gl(n,t,s,f,l);for(let D=bn;D<i.length;D++){const O=i[D];ic(O[Sn],O,t,n,s,f)}}(n,t,f,i,l)}}function mh(t,n){return t.createComment(function Jr(t){return t.replace(hn,n=>n.replace(Un,$n))}(n))}function Sd(t,n,i){return t.createElement(n,i)}function Hp(t,n){const i=t[fn],s=i.indexOf(n);si(n),i.splice(s,1)}function Rd(t,n){if(t.length<=bn)return;const i=bn+n,s=t[i];if(s){const l=s[bo];null!==l&&l!==t&&Hp(l,s),n>0&&(t[i-1][Bi]=s[Bi]);const f=ma(t,bn+n);!function Df(t,n){ic(t,n,n[Qn],2,null,null),n[Lr]=null,n[zr]=null}(s[Sn],s);const y=f[io];null!==y&&y.detachView(f[Sn]),s[mr]=null,s[Bi]=null,s[Xn]&=-129}return s}function zp(t,n){if(!(256&n[Xn])){const i=n[Qn];n[Yi]?.destroy(),n[po]?.destroy(),i.destroyNode&&ic(t,n,i,3,null,null),function Cf(t){let n=t[ro];if(!n)return Pd(t[Sn],t);for(;n;){let i=null;if(or(n))i=n[ro];else{const s=n[bn];s&&(i=s)}if(!i){for(;n&&!n[Bi]&&n!==t;)or(n)&&Pd(n[Sn],n),n=n[mr];null===n&&(n=t),or(n)&&Pd(n[Sn],n),i=n&&n[Bi]}n=i}}(n)}}function Pd(t,n){if(!(256&n[Xn])){n[Xn]&=-129,n[Xn]|=256,function Sf(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof ea)){const f=i[s+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const D=l[f[y]],O=f[y+1];So(4,D,O);try{O.call(D)}finally{So(5,D,O)}}else{So(4,l,f);try{f.call(l)}finally{So(5,l,f)}}}}}(t,n),function Gp(t,n){const i=t.cleanup,s=n[Io];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const y=i[f+3];y>=0?s[y]():s[-y].unsubscribe(),f+=2}else i[f].call(s[i[f+1]]);null!==s&&(n[Io]=null);const l=n[oo];if(null!==l){n[oo]=null;for(let f=0;f<l.length;f++)(0,l[f])()}}(t,n),1===n[Sn].type&&n[Qn].destroy();const i=n[bo];if(null!==i&&hr(n[mr])){i!==n[mr]&&Hp(i,n);const s=n[io];null!==s&&s.detachView(t)}!function Id(t){xo.delete(t[To])}(n)}}function Md(t,n,i){return function _h(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Lr];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:f}=t.data[s.directiveStart+l];if(f===ft.None||f===ft.Emulated)return null}return wo(s,i)}}(t,n.parent,i)}function ra(t,n,i,s,l){t.insertBefore(n,i,s,l)}function zu(t,n,i){t.appendChild(n,i)}function yh(t,n,i,s,l){null!==s?ra(t,n,i,s,l):zu(t,n,i)}function ml(t,n){return t.parentNode(n)}function Rf(t,n,i){return zc(t,n,i)}let Gc,Od,oc,zc=function Wp(t,n,i){return 40&t.type?wo(t,i):null};function rc(t,n,i,s){const l=Md(t,s,n),f=n[Qn],D=Rf(s.parent||n[zr],s,n);if(null!=l)if(Array.isArray(i))for(let O=0;O<i.length;O++)yh(f,l,i[O],D,!1);else yh(f,l,i,D,!1);void 0!==Gc&&Gc(f,s,n,i,l)}function yl(t,n){if(null!==n){const i=n.type;if(3&i)return wo(n,t);if(4&i)return vh(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return yl(t,s);{const l=t[n.index];return hr(l)?vh(-1,l):li(l)}}if(32&i)return $c(n,t)()||li(t[n.index]);{const s=Pf(t,n);return null!==s?Array.isArray(s)?s[0]:yl(Uc(t[ii]),s):yl(t,n.next)}}return null}function Pf(t,n){return null!==n?t[ii][zr].projection[n.projection]:null}function vh(t,n){const i=bn+t+1;if(i<n.length){const s=n[i],l=s[Sn].firstChild;if(null!==l)return yl(s,l)}return n[bt]}function Ih(t,n,i,s,l,f,y){for(;null!=i;){const D=s[i.index],O=i.type;if(y&&0===n&&(D&&Bo(li(D),s),i.flags|=2),32!=(32&i.flags))if(8&O)Ih(t,n,i.child,s,l,f,!1),gl(n,t,l,D,f);else if(32&O){const Q=$c(i,s);let Ee;for(;Ee=Q();)gl(n,t,l,Ee,f);gl(n,t,l,D,f)}else 16&O?Mf(t,n,s,i,l,f):gl(n,t,l,D,f);i=y?i.projectionNext:i.next}}function ic(t,n,i,s,l,f){Ih(i,s,t.firstChild,n,l,f,!1)}function Mf(t,n,i,s,l,f){const y=i[ii],O=y[zr].projection[s.projection];if(Array.isArray(O))for(let Q=0;Q<O.length;Q++)gl(n,t,l,O[Q],f);else{let Q=O;const Ee=y[mr];Te(s)&&(Q.flags|=128),Ih(t,n,Q,Ee,l,f,!0)}}function Of(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Nf(t,n,i){const{mergedAttrs:s,classes:l,styles:f}=i;null!==s&&Si(t,n,s),null!==l&&Of(t,n,l),null!==f&&function xf(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function Th(t){Od=t}function ge(t){return function wh(){if(void 0===oc&&(oc=null,Dn.trustedTypes))try{oc=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return oc}()?.createScriptURL(t)||t}class ht{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}function br(t){return t instanceof ht?t.changingThisBreaksApplicationSecurity:t}function wi(t,n){const i=function Br(t){return t instanceof ht&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${yt})`)}return i===n}const Q_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Go=(()=>((Go=Go||{})[Go.NONE=0]="NONE",Go[Go.HTML=1]="HTML",Go[Go.STYLE=2]="STYLE",Go[Go.SCRIPT=3]="SCRIPT",Go[Go.URL=4]="URL",Go[Go.RESOURCE_URL=5]="RESOURCE_URL",Go))();function Xp(t){const n=Mh();return n?n.sanitize(Go.URL,t)||"":wi(t,"URL")?br(t):function Ah(t){return(t=String(t)).match(Q_)?t:"unsafe:"+t}(Ge(t))}function $f(t){const n=Mh();if(n)return ge(n.sanitize(Go.RESOURCE_URL,t)||"");if(wi(t,"ResourceURL"))return ge(br(t));throw new De(904,!1)}function Om(t,n,i){return function Uf(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?$f:Xp}(n,i)(t)}function Mh(){const t=an();return t&&t[no].sanitizer}class Mi{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ct({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zc=new Mi("ENVIRONMENT_INITIALIZER"),Qp=new Mi("INJECTOR",-1),jf=new Mi("INJECTOR_DEF_TYPES");class Hf{get(n,i=sr){if(i===sr){const s=new Error(`NullInjectorError: No provider for ${Se(n)}!`);throw s.name="NullInjectorError",s}return i}}function xh(t){return{\u0275providers:t}}function zf(...t){return{\u0275providers:Gf(0,t),\u0275fromNgModule:!0}}function Gf(t,...n){const i=[],s=new Set;let l;return Ma(n,f=>{const y=f;ac(y,i,[],s)&&(l||=[],l.push(y))}),void 0!==l&&Jp(l,i),i}function Jp(t,n){for(let i=0;i<t.length;i++){const{providers:l}=t[i];Oh(l,f=>{n.push(f)})}}function ac(t,n,i,s){if(!(t=Ve(t)))return!1;let l=null,f=kt(t);const y=!f&&Xt(t);if(f||y){if(y&&!y.standalone)return!1;l=t}else{const O=t.ngModule;if(f=kt(O),!f)return!1;l=O}const D=s.has(l);if(y){if(D)return!1;if(s.add(l),y.dependencies){const O="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const Q of O)ac(Q,n,i,s)}}else{if(!f)return!1;{if(null!=f.imports&&!D){let Q;s.add(l);try{Ma(f.imports,Ee=>{ac(Ee,n,i,s)&&(Q||=[],Q.push(Ee))})}finally{}void 0!==Q&&Jp(Q,n)}if(!D){const Q=_i(l)||(()=>new l);n.push({provide:l,useFactory:Q,deps:Ot},{provide:jf,useValue:l,multi:!0},{provide:Zc,useValue:()=>vr(l),multi:!0})}const O=f.providers;null==O||D||Oh(O,Ee=>{n.push(Ee)})}}return l!==t&&void 0!==t.providers}function Oh(t,n){for(let i of t)Pe(i)&&(i=i.\u0275providers),Array.isArray(i)?Oh(i,n):n(i)}const Nm=fe({provide:String,useValue:fe});function uc(t){return null!==t&&"object"==typeof t&&Nm in t}function Xc(t){return"function"==typeof t}const qf=new Mi("Set Injector scope."),Kf={},Fm={};let eg;function Yf(){return void 0===eg&&(eg=new Hf),eg}class Qc{}class tg extends Qc{get destroyed(){return this._destroyed}constructor(n,i,s,l){super(),this.parent=i,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zf(n,y=>this.processProvider(y)),this.records.set(Qp,Jc(void 0,this)),l.has("environment")&&this.records.set(Qc,Jc(void 0,this));const f=this.records.get(qf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(jf.multi,Ot,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=qr(this),s=Zn(void 0);try{return n()}finally{qr(i),Zn(s)}}get(n,i=sr,s=un.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ni))return n[ni](this);s=dn(s);const l=qr(this),f=Zn(void 0);try{if(!(s&un.SkipSelf)){let D=this.records.get(n);if(void 0===D){const O=function Vm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Mi}(n)&&gn(n);D=O&&this.injectableDefInScope(O)?Jc(ng(n),Kf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&un.Self?Yf():this.parent).get(n,i=s&un.Optional&&i===sr?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[rr]=y[rr]||[]).unshift(Se(n)),l)throw y;return function $(t,n,i,s){const l=t[rr];throw n[cr]&&l.unshift(n[cr]),t.message=function K(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Se(n);if(Array.isArray(n))l=n.map(Se).join(" -> ");else if("object"==typeof n){let f=[];for(let y in n)if(n.hasOwnProperty(y)){let D=n[y];f.push(y+":"+("string"==typeof D?JSON.stringify(D):Se(D)))}l=`{${f.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${t.replace(fi,"\n  ")}`}("\n"+t.message,l,i,s),t.ngTokenPath=l,t[rr]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{Zn(f),qr(l)}}resolveInjectorInitializers(){const n=qr(this),i=Zn(void 0);try{const s=this.get(Zc.multi,Ot,un.Self);for(const l of s)l()}finally{qr(n),Zn(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Se(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(n){let i=Xc(n=Ve(n))?n:Ve(n&&n.provide);const s=function oy(t){return uc(t)?Jc(void 0,t.useValue):Jc(rg(t),Kf)}(n);if(Xc(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=Jc(void 0,Kf,!0),l.factory=()=>et(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===Kf&&(i.value=Fm,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Lm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ve(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ng(t){const n=gn(t),i=null!==n?n.factory:_i(t);if(null!==i)return i;if(t instanceof Mi)throw new De(204,!1);if(t instanceof Function)return function iy(t){const n=t.length;if(n>0)throw Lu(n,"?"),new De(204,!1);const i=function Ht(t){return t&&(t[cn]||t[On])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new De(204,!1)}function rg(t,n,i){let s;if(Xc(t)){const l=Ve(t);return _i(l)||ng(l)}if(uc(t))s=()=>Ve(t.useValue);else if(function km(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...et(t.deps||[]));else if(function Wf(t){return!(!t||!t.useExisting)}(t))s=()=>vr(Ve(t.useExisting));else{const l=Ve(t&&(t.useClass||t.provide));if(!function ig(t){return!!t.deps}(t))return _i(l)||ng(l);s=()=>new l(...et(t.deps))}return s}function Jc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Zf(t,n){for(const i of t)Array.isArray(i)?Zf(i,n):i&&Pe(i)?Zf(i.\u0275providers,n):n(i)}const Nh=new Mi("AppId",{providedIn:"root",factory:()=>ci}),ci="ng",og=new Mi("Platform Initializer"),Xf=new Mi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ts=new Mi("CSP nonce",{providedIn:"root",factory:()=>function vl(){if(void 0!==Od)return Od;if(typeof document<"u")return document;throw new De(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lg=(t,n)=>null;function Um(t,n){return lg(t,n)}class tp{}class Hm{}class np{resolveComponentFactory(n){throw function dy(t){const n=Error(`No component factory found for ${Se(t)}.`);return n.ngComponent=t,n}(n)}}let rp=(()=>{class t{}return t.NULL=new np,t})();function td(){return Tl($i(),an())}function Tl(t,n){return new wl(wo(t,n))}let wl=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=td,t})();function zm(t){return t instanceof wl?t.nativeElement:t}class ip{}let hg=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function fg(){const t=an(),i=L($i().index,t);return(or(i)?i:t)[Qn]}(),t})(),pg=(()=>{class t{}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:()=>null}),t})();class op{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const sp=new op("16.0.4"),ap={};function gu(t){for(;t;){t[Xn]|=64;const n=Uc(t);if(gi(t)&&!n)return t;t=n}return null}function Uh(t){return t.ngOriginalError}class Wu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Uh(n);for(;i&&Uh(i);)i=Uh(i);return i||null}}const Hh=new Mi("",{providedIn:"root",factory:()=>!1});function ya(t){return t instanceof Function?t():t}class Zm extends so{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){gu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,i,s){const l=Ri(this);this.trackingVersion++;try{n(i,s)}finally{Ri(l)}}destroy(){this.trackingVersion++}}let nd=null;function Xm(){return nd??=new Zm,nd}function Qm(t,n){return t[n]??Xm()}function qh(t,n){const i=Xm();i.hasReadASignal&&(t[n]=nd,i.lView=t,nd=new Zm)}const Gr={};function Jm(t){_g(Qr(),an(),zo()+t,!1)}function _g(t,n,i,s){if(!s)if(3==(3&n[Xn])){const f=t.preOrderCheckHooks;null!==f&&Jn(n,f,i)}else{const f=t.preOrderHooks;null!==f&&Hr(n,f,0,i)}Js(i)}function vy(t,n=null,i=null,s){const l=cc(t,n,i,s);return l.resolveInjectorInitializers(),l}function cc(t,n=null,i=null,s,l=new Set){const f=[i||Ot,zf(t)];return s=s||("object"==typeof t?void 0:Se(t)),new tg(f,n||Yf(),s||null,l)}let ia=(()=>{class t{static create(i,s){if(Array.isArray(i))return vy({name:""},s,i,"");{const l=i.name??"";return vy({name:l},i.parent,i.providers,l)}}}return t.THROW_IF_NOT_FOUND=sr,t.NULL=new Hf,t.\u0275prov=Ct({token:t,providedIn:"any",factory:()=>vr(Qp)}),t.__NG_ELEMENT_ID__=-1,t})();function qu(t,n=un.Default){const i=an();return null===i?vr(t,n):Us($i(),i,Ve(t),n)}function dc(){throw new Error("invalid")}function cp(t,n,i,s,l,f,y,D,O,Q,Ee){const tt=n.blueprint.slice();return tt[Lr]=l,tt[Xn]=140|s,(null!==Q||t&&2048&t[Xn])&&(tt[Xn]|=2048),Vn(tt),tt[mr]=tt[Di]=t,tt[Or]=i,tt[no]=y||t&&t[no],tt[Qn]=D||t&&t[Qn],tt[ko]=O||t&&t[ko]||null,tt[zr]=f,tt[To]=function ka(){return na++}(),tt[fo]=Ee,tt[Fo]=Q,tt[ii]=2==n.type?t[ii]:tt,tt}function $d(t,n,i,s,l){let f=t.data[n];if(null===f)f=function Ku(t,n,i,s,l){const f=Vs(),y=Xs(),O=t.data[n]=function wy(t,n,i,s,l,f){let y=n?n.injectorIndex:-1,D=0;return es()&&(D|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,i,n,s,l);return null===t.firstChild&&(t.firstChild=O),null!==f&&(y?null==f.child&&null!==O.parent&&(f.child=O):null===f.next&&(f.next=O,O.prev=f)),O}(t,n,i,s,l),function ja(){return An.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=s,f.attrs=l;const y=function ms(){const t=An.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return mo(f,!0),f}function Yh(t,n,i,s){if(0===i)return-1;const l=n.length;for(let f=0;f<i;f++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function n_(t,n,i,s,l){const f=Qm(n,Yi),y=zo(),D=2&s;try{if(Js(-1),D&&n.length>se&&_g(t,n,se,!1),So(D?2:0,l),D)f.runInContext(i,s,l);else{const Q=Ri(null);try{i(s,l)}finally{Ri(Q)}}}finally{D&&null===n[Yi]&&qh(n,Yi),Js(y),So(D?3:1,l)}}function Eg(t,n,i){if(Bn(n)){const s=Ri(null);try{const f=n.directiveEnd;for(let y=n.directiveStart;y<f;y++){const D=t.data[y];D.contentQueries&&D.contentQueries(1,i[y],y)}}finally{Ri(s)}}}function Ig(t,n,i){Ko()&&(function Sy(t,n,i,s){const l=i.directiveStart,f=i.directiveEnd;Gn(i)&&function Ny(t,n,i){const s=wo(n,t),y=Rg(t,cp(t,r_(i),null,i.onPush?64:16,s,n,null,t[no].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=y}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||Ja(i,n),Bo(s,n);const y=i.initialInputs;for(let D=l;D<f;D++){const O=t.data[D],Q=vs(n,t,D,i);Bo(Q,n),null!==y&&lE(0,D-l,Q,O,0,y),kr(O)&&(L(i.index,n)[Or]=vs(n,t,D,i))}}(t,n,i,wo(i,n)),64==(64&i.flags)&&Cg(t,n,i))}function bg(t,n,i=wo){const s=n.localNames;if(null!==s){let l=n.index+1;for(let f=0;f<s.length;f+=2){const y=s[f+1],D=-1===y?i(n,t):t[y];t[l++]=D}}}function r_(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Tg(t,n,i,s,l,f,y,D,O,Q,Ee){const tt=se+s,Dt=tt+l,Mt=function Iy(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:Gr);return i}(tt,Dt),sn="function"==typeof Q?Q():Q;return Mt[Sn]={type:t,blueprint:Mt,template:i,queries:null,viewQuery:D,declTNode:n,data:Mt.slice().fill(null,tt),bindingStartIndex:tt,expandoStartIndex:Dt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:O,consts:sn,incompleteFirstPass:!1,ssrId:Ee}}let i_=t=>null;function o_(t,n,i,s){for(let l in t)if(t.hasOwnProperty(l)){i=null===i?{}:i;const f=t[l];null===s?s_(i,n,l,f):s.hasOwnProperty(l)&&s_(i,n,s[l],f)}return i}function s_(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function Dg(t,n,i,s){if(Ko()){const l=null===s?null:{"":-1},f=function Ry(t,n){const i=t.directiveRegistry;let s=null,l=null;if(i)for(let f=0;f<i.length;f++){const y=i[f];if(Ki(n,y.selectors,!1))if(s||(s=[]),kr(y))if(null!==y.findHostDirectiveDefs){const D=[];l=l||new Map,y.findHostDirectiveDefs(y,D,l),s.unshift(...D,y),Ag(t,n,D.length)}else s.unshift(y),Ag(t,n,0);else l=l||new Map,y.findHostDirectiveDefs?.(y,s,l),s.push(y)}return null===s?null:[s,l]}(t,i);let y,D;null===f?y=D=null:[y,D]=f,null!==y&&a_(t,n,i,y,l,D),l&&function Py(t,n,i){if(n){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const f=i[n[l+1]];if(null==f)throw new De(-301,!1);s.push(n[l],f)}}}(i,s,l)}i.mergedAttrs=Yr(i.mergedAttrs,i.attrs)}function a_(t,n,i,s,l,f){for(let Q=0;Q<s.length;Q++)da(Ja(i,n),t,s[Q].type);!function xy(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let Q=0;Q<s.length;Q++){const Ee=s[Q];Ee.providersResolver&&Ee.providersResolver(Ee)}let y=!1,D=!1,O=Yh(t,n,s.length,null);for(let Q=0;Q<s.length;Q++){const Ee=s[Q];i.mergedAttrs=Yr(i.mergedAttrs,Ee.hostAttrs),Oy(t,i,n,O,Ee),My(O,Ee,l),null!==Ee.contentQueries&&(i.flags|=4),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(i.flags|=64);const tt=Ee.type.prototype;!y&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),y=!0),!D&&(tt.ngOnChanges||tt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),O++}!function Dy(t,n,i){const l=n.directiveEnd,f=t.data,y=n.attrs,D=[];let O=null,Q=null;for(let Ee=n.directiveStart;Ee<l;Ee++){const tt=f[Ee],Dt=i?i.get(tt):null,sn=Dt?Dt.outputs:null;O=o_(tt.inputs,Ee,O,Dt?Dt.inputs:null),Q=o_(tt.outputs,Ee,Q,sn);const vn=null===O||null===y||dr(n)?null:ky(O,Ee,y);D.push(vn)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=Q}(t,i,f)}function Cg(t,n,i){const s=i.directiveStart,l=i.directiveEnd,f=i.index,y=function za(){return An.lFrame.currentDirectiveIndex}();try{Js(f);for(let D=s;D<l;D++){const O=t.data[D],Q=n[D];wu(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&hc(O,Q)}}finally{Js(-1),wu(y)}}function hc(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ag(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function My(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;kr(n)&&(i[""]=t)}}function Oy(t,n,i,s,l){t.data[s]=l;const f=l.factory||(l.factory=_i(l.type)),y=new ea(f,kr(l),qu);t.blueprint[s]=y,i[s]=y,function Ay(t,n,i,s,l){const f=l.hostBindings;if(f){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const D=~n.index;(function uE(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=D&&y.push(D),y.push(i,s,f)}}(t,n,s,Yh(t,i,l.hostVars,Gr),l)}function Dl(t,n,i,s,l,f){const y=wo(t,n);!function u_(t,n,i,s,l,f,y){if(null==f)t.removeAttribute(n,l,i);else{const D=null==y?Ge(f):y(f,s||"",l);t.setAttribute(n,l,D,i)}}(n[Qn],y,f,t.value,i,s,l)}function lE(t,n,i,s,l,f){const y=f[n];if(null!==y)for(let D=0;D<y.length;)Sg(s,i,y[D++],y[D++],y[D++])}function Sg(t,n,i,s,l){const f=Ri(null);try{null!==t.setInput?t.setInput(n,l,i,s):n[s]=l}finally{Ri(f)}}function ky(t,n,i){let s=null,l=0;for(;l<i.length;){const f=i[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===s&&(s=[]);const y=t[f];for(let D=0;D<y.length;D+=2)if(y[D]===n){s.push(f,y[D+1],i[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function Fy(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function Ly(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const f=i[s+1];if(-1!==f){const y=t.data[f];la(i[s]),y.contentQueries(2,n[f],f)}}}function Rg(t,n){return t[ro]?t[os][Bi]=n:t[ro]=n,t[os]=n,n}function l_(t,n,i){la(0);const s=Ri(null);try{n(t,i)}finally{Ri(s)}}function Pg(t){return t[Io]||(t[Io]=[])}function By(t){return t.cleanup||(t.cleanup=[])}function Uy(t,n){const i=t[ko],s=i?i.get(Wu,null):null;s&&s.handleError(n)}function Zh(t,n,i,s,l){for(let f=0;f<i.length;){const y=i[f++],D=i[f++];Sg(t.data[y],n[y],s,D,l)}}function La(t,n,i){const s=Qo(n,t);!function Ad(t,n,i){t.setValue(n,i)}(t[Qn],s,i)}function a(t,n){const i=L(n,t),s=i[Sn];!function e(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[Lr];null!==l&&null===i[fo]&&(i[fo]=Um(l,i[ko])),r(s,i,i[Or])}function r(t,n,i){cs(n);try{const s=t.viewQuery;null!==s&&l_(1,s,i);const l=t.template;null!==l&&n_(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ly(t,n),t.staticViewQueries&&l_(2,t.viewQuery,i);const f=t.components;null!==f&&function o(t,n){for(let i=0;i<n.length;i++)a(t,n[i])}(n,f)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Xn]&=-5,Wa()}}let C=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,l){const f=typeof Zone>"u"?null:Zone.current,y=new Er(i,Q=>{this.all.has(Q)&&this.queue.set(Q,f)},l);let D;this.all.add(y),y.notify();const O=()=>{y.cleanup(),D?.(),this.all.delete(y),this.queue.delete(y)};return D=s?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:()=>new t}),t})();function J(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,f=0;if(null!==n)for(let y=0;y<n.length;y++){const D=n[y];"number"==typeof D?f=D:1==f?l=Ie(l,D):2==f&&(s=Ie(s,D+": "+n[++y]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}function _e(t,n,i,s,l=!1){for(;null!==i;){const f=n[i.index];if(null!==f&&s.push(li(f)),hr(f)){for(let D=bn;D<f.length;D++){const O=f[D],Q=O[Sn].firstChild;null!==Q&&_e(O[Sn],O,Q,s)}f[bt]!==f[Lr]&&s.push(f[bt])}const y=i.type;if(8&y)_e(t,n,i.child,s);else if(32&y){const D=$c(i,n);let O;for(;O=D();)s.push(O)}else if(16&y){const D=Pf(n,i);if(Array.isArray(D))s.push(...D);else{const O=Uc(n[ii]);_e(O[Sn],O,D,s,!0)}}i=l?i.projectionNext:i.next}return s}function Ze(t,n,i,s=!0){const l=n[no].rendererFactory;l.begin&&l.begin();try{on(t,n,t.template,i)}catch(y){throw s&&Uy(n,y),y}finally{l.end&&l.end(),n[no].effectManager?.flush()}}function on(t,n,i,s){const l=n[Xn];if(256!=(256&l)){n[no].effectManager?.flush(),cs(n);try{Vn(n),function Qs(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&n_(t,n,i,2,s);const y=3==(3&l);if(y){const Q=t.preOrderCheckHooks;null!==Q&&Jn(n,Q,null)}else{const Q=t.preOrderHooks;null!==Q&&Hr(n,Q,0,null),_o(n,0)}if(function _n(t){for(let n=tc(t);null!==n;n=hu(n)){if(!n[ct])continue;const i=n[fn];for(let s=0;s<i.length;s++){oi(i[s])}}}(n),function Tn(t){for(let n=tc(t);null!==n;n=hu(n))for(let i=bn;i<n.length;i++){const s=n[i],l=s[Sn];rt(s)&&on(l,s,l.template,s[Or])}}(n),null!==t.contentQueries&&Ly(t,n),y){const Q=t.contentCheckHooks;null!==Q&&Jn(n,Q)}else{const Q=t.contentHooks;null!==Q&&Hr(n,Q,1),_o(n,1)}!function Ey(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Qm(n,po);try{for(let l=0;l<i.length;l++){const f=i[l];if(f<0)Js(~f);else{const y=f,D=i[++l],O=i[++l];Ha(D,y),s.runInContext(O,2,n[y])}}}finally{null===n[po]&&qh(n,po),Js(-1)}}(t,n);const D=t.components;null!==D&&function ar(t,n){for(let i=0;i<n.length;i++)tr(t,n[i])}(n,D);const O=t.viewQuery;if(null!==O&&l_(2,O,s),y){const Q=t.viewCheckHooks;null!==Q&&Jn(n,Q)}else{const Q=t.viewHooks;null!==Q&&Hr(n,Q,2),_o(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Xn]&=-73,si(n)}finally{Wa()}}}function tr(t,n){const i=L(n,t);if(rt(i)){const s=i[Sn];80&i[Xn]?on(s,i,s.template,i[Or]):i[zi]>0&&ur(i)}}function ur(t){for(let s=tc(t);null!==s;s=hu(s))for(let l=bn;l<s.length;l++){const f=s[l];if(rt(f))if(1024&f[Xn]){const y=f[Sn];on(y,f,y.template,f[Or])}else f[zi]>0&&ur(f)}const i=t[Sn].components;if(null!==i)for(let s=0;s<i.length;s++){const l=L(i[s],t);rt(l)&&l[zi]>0&&ur(l)}}class xr{get rootNodes(){const n=this._lView,i=n[Sn];return _e(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(n){this._lView[Or]=n}get destroyed(){return 256==(256&this._lView[Xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mr];if(hr(n)){const i=n[$t],s=i?i.indexOf(this):-1;s>-1&&(Rd(n,s),ma(i,s))}this._attachedToViewContainer=!1}zp(this._lView[Sn],this._lView)}onDestroy(n){!function Wn(t,n){if(256==(256&t[Xn]))throw new De(911,!1);null===t[oo]&&(t[oo]=[]),t[oo].push(n)}(this._lView,n)}markForCheck(){gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xn]&=-129}reattach(){this._lView[Xn]|=128}detectChanges(){Ze(this._lView[Sn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(t,n){ic(t,n,n[Qn],2,null,null)}(this._lView[Sn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=n}}class Fi extends xr{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Ze(n[Sn],n,n[Or],!1)}checkNoChanges(){}get context(){return null}}class ei extends rp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Xt(n);return new Pt(i,this.ngModule)}}function Rt(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class It{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=dn(s);const l=this.injector.get(n,ap,s);return l!==ap||i===ap?l:this.parentInjector.get(n,i,s)}}class Pt extends Hm{get inputs(){return Rt(this.componentDef.inputs)}get outputs(){return Rt(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function ri(t){return t.map(co).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,l){let f=(l=l||this.ngModule)instanceof Qc?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new It(n,f):n,D=y.get(ip,null);if(null===D)throw new De(407,!1);const Ee={rendererFactory:D,sanitizer:y.get(pg,null),effectManager:y.get(C,null)},tt=D.createRenderer(null,this.componentDef),Dt=this.componentDef.selectors[0][0]||"div",Mt=s?function by(t,n,i,s){const f=s.get(Hh,!1)||i===ft.ShadowDom,y=t.selectRootElement(n,f);return function Ty(t){i_(t)}(y),y}(tt,s,this.componentDef.encapsulation,y):Sd(tt,Dt,function pt(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Dt)),sn=this.componentDef.onPush?576:528,vn=Tg(0,null,null,1,0,null,null,null,null,null,null),Fn=cp(null,vn,null,sn,null,null,Ee,tt,y,null,null);let lr,pn;cs(Fn);try{const Rr=this.componentDef;let hi,to=null;Rr.findHostDirectiveDefs?(hi=[],to=new Map,Rr.findHostDirectiveDefs(Rr,hi,to),hi.push(Rr)):hi=[Rr];const Nl=function Et(t,n){const i=t[Sn],s=se;return t[s]=n,$d(i,s,2,"#host",null)}(Fn,Mt),qI=function Cl(t,n,i,s,l,f,y){const D=l[Sn];!function Xh(t,n,i,s){for(const l of t)n.mergedAttrs=Yr(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(J(n,n.mergedAttrs,!0),null!==i&&Nf(s,i,n))}(s,t,n,y);let O=null;null!==n&&(O=Um(n,l[ko]));const Q=f.rendererFactory.createRenderer(n,i),Ee=cp(l,r_(i),null,i.onPush?64:16,l[t.index],t,f,Q,null,null,O);return D.firstCreatePass&&Ag(D,t,s.length-1),Rg(l,Ee),l[t.index]=Ee}(Nl,Mt,Rr,hi,Fn,Ee,tt);pn=x(vn,se),Mt&&function Qh(t,n,i,s){if(s)Si(t,i,["ng-version",sp.full]);else{const{attrs:l,classes:f}=function me(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let f=t[s];if("string"==typeof f)2===l?""!==f&&n.push(f,t[++s]):8===l&&i.push(f);else{if(!Ei(l))break;l=f}s++}return{attrs:n,classes:i}}(n.selectors[0]);l&&Si(t,i,l),f&&f.length>0&&Of(t,i,f.join(" "))}}(tt,Rr,Mt,s),void 0!==i&&function Jh(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const f=i[l];s.push(null!=f?Array.from(f):null)}}(pn,this.ngContentSelectors,i),lr=function jy(t,n,i,s,l,f){const y=$i(),D=l[Sn],O=wo(y,l);a_(D,l,y,i,null,s);for(let Ee=0;Ee<i.length;Ee++)Bo(vs(l,D,y.directiveStart+Ee,y),l);Cg(D,l,y),O&&Bo(O,l);const Q=vs(l,D,y.directiveStart+y.componentOffset,y);if(t[Or]=l[Or]=Q,null!==f)for(const Ee of f)Ee(Q,n);return Eg(D,y,t),Q}(qI,Rr,hi,to,Fn,[Mg]),r(vn,Fn,null)}finally{Wa()}return new Nt(this.componentType,lr,Tl(pn,Fn),Fn,pn)}}class Nt extends tp{constructor(n,i,s,l,f){super(),this.location=s,this._rootLView=l,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Fi(l),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Zh(f[Sn],f,l,n,i),this.previousInputValues.set(n,i),gu(L(this._tNode.index,f))}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Mg(){const t=$i();zn(an()[Sn],t)}function Og(t){let n=function xg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let l;if(kr(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new De(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const y=t;y.inputs=fs(t.inputs),y.declaredInputs=fs(t.declaredInputs),y.outputs=fs(t.outputs);const D=l.hostBindings;D&&zy(t,D);const O=l.viewQuery,Q=l.contentQueries;if(O&&Hy(t,O),Q&&ef(t,Q),ae(t.inputs,l.inputs),ae(t.declaredInputs,l.declaredInputs),ae(t.outputs,l.outputs),kr(l)&&l.data.animation){const Ee=t.data;Ee.animation=(Ee.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let y=0;y<f.length;y++){const D=f[y];D&&D.ngInherit&&D(t),D===Og&&(i=!1)}}n=Object.getPrototypeOf(n)}!function fc(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Yr(l.hostAttrs,i=Yr(i,l.hostAttrs))}}(s)}function fs(t){return t===St?{}:t===Ot?[]:t}function Hy(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function ef(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,f)=>{n(s,l,f),i(s,l,f)}:n}function zy(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}function rf(t){return!!pp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function pp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mu(t,n,i){return t[n]=i}function ps(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Al(t,n,i,s){const l=ps(t,n,i);return ps(t,n+1,s)||l}function ws(t,n,i,s){const l=an();return ps(l,Ps(),n)&&(Qr(),Dl(Ni(),l,t,n,i,s)),ws}function Hd(t,n,i,s,l,f,y,D){const Q=function jd(t,n,i,s,l){const f=Al(t,n,i,s);return ps(t,n+2,l)||f}(t,_s(),i,l,y);return ls(3),Q?n+Ge(i)+s+Ge(l)+f+Ge(y)+D:Gr}function bp(t,n,i,s,l,f,y,D){const O=an(),Q=Qr(),Ee=t+se,tt=Q.firstCreatePass?function Gg(t,n,i,s,l,f,y,D,O){const Q=n.consts,Ee=$d(n,t,4,y||null,Qt(Q,D));Dg(n,i,Ee,Qt(Q,O)),zn(n,Ee);const tt=Ee.tView=Tg(2,Ee,s,l,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Q,null);return null!==n.queries&&(n.queries.template(n,Ee),tt.queries=n.queries.embeddedTView(Ee)),Ee}(Ee,Q,O,n,i,s,l,f,y):Q.data[Ee];mo(tt,!1);const Dt=Wg(Q,O,tt,t);Be()&&rc(Q,O,Dt,tt),Bo(Dt,O),Rg(O,O[Ee]=Fy(Dt,O,Dt,tt)),ui(tt)&&Ig(Q,O,tt),null!=y&&bg(O,tt,D)}let Wg=function qg(t,n,i,s){return At(!0),n[Qn].createComment("")};function Kg(t){return te(function Bs(){return An.lFrame.contextLView}(),se+t)}function Yg(t,n,i){const s=an();return ps(s,Ps(),n)&&function Fa(t,n,i,s,l,f,y,D){const O=wo(n,i);let Ee,Q=n.inputs;!D&&null!=Q&&(Ee=Q[s])?(Zh(t,i,Ee,s,l),Gn(n)&&function sE(t,n){const i=L(n,t);16&i[Xn]||(i[Xn]|=64)}(i,n.index)):3&n.type&&(s=function Cy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),l=null!=y?y(l,n.value||"",s):l,f.setProperty(O,s,l))}(Qr(),Ni(),s,t,n,s[Qn],i,!1),Yg}function Rl(t,n,i,s,l){const y=l?"class":"style";Zh(t,i,n.inputs[y],y,s)}function ld(t,n,i,s){const l=an(),f=Qr(),y=se+t,D=l[Qn],O=f.firstCreatePass?function Pl(t,n,i,s,l,f){const y=n.consts,O=$d(n,t,2,s,Qt(y,l));return Dg(n,i,O,Qt(y,f)),null!==O.attrs&&J(O,O.attrs,!1),null!==O.mergedAttrs&&J(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(y,f,l,n,i,s):f.data[y],Q=vo(f,l,O,D,n,t);l[y]=Q;const Ee=ui(O);return mo(O,!0),Nf(D,Q,O),32!=(32&O.flags)&&Be()&&rc(f,l,Q,O),0===function is(){return An.lFrame.elementDepthCount}()&&Bo(Q,l),function Ui(){An.lFrame.elementDepthCount++}(),Ee&&(Ig(f,l,O),Eg(f,O,l)),null!==s&&bg(l,O),ld}function cd(){let t=$i();Xs()?ua():(t=t.parent,mo(t,!1));const n=t;(function Ls(t){return An.skipHydrationRootTNode===t})(n)&&function aa(){An.skipHydrationRootTNode=null}(),function Ho(){An.lFrame.elementDepthCount--}();const i=Qr();return i.firstCreatePass&&(zn(i,t),Bn(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Za(t){return 0!=(8&t.flags)}(n)&&Rl(i,n,an(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Xa(t){return 0!=(16&t.flags)}(n)&&Rl(i,n,an(),n.stylesWithoutHost,!1),cd}function Tp(t,n,i,s){return ld(t,n,i,s),cd(),Tp}let vo=(t,n,i,s,l,f)=>(At(!0),Sd(s,l,function re(){return An.lFrame.currentNamespace}()));function Dp(t,n,i){const s=an(),l=Qr(),f=t+se,y=l.firstCreatePass?function df(t,n,i,s,l){const f=n.consts,y=Qt(f,s),D=$d(n,t,8,"ng-container",y);return null!==y&&J(D,y,!0),Dg(n,i,D,Qt(f,l)),null!==n.queries&&n.queries.elementStart(n,D),D}(f,l,s,n,i):l.data[f];mo(y,!0);const D=I_(l,s,y,t);return s[f]=D,Be()&&rc(l,s,D,y),Bo(D,s),ui(y)&&(Ig(l,s,y),Eg(l,y,s)),null!=i&&bg(s,y),Dp}function hf(){let t=$i();const n=Qr();return Xs()?ua():(t=t.parent,mo(t,!1)),n.firstCreatePass&&(zn(n,t),Bn(t)&&n.queries.elementEnd(t)),hf}function Zg(t,n,i){return Dp(t,n,i),hf(),Zg}let I_=(t,n,i,s)=>(At(!0),mh(n[Qn],""));function Xd(){return an()}function Zu(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function Cp(t,n,i,s){const l=an(),f=Qr(),y=$i();return function b_(t,n,i,s,l,f,y){const D=ui(s),Q=t.firstCreatePass&&By(t),Ee=n[Or],tt=Pg(n);let Dt=!0;if(3&s.type||y){const vn=wo(s,n),Fn=y?y(vn):vn,lr=tt.length,pn=y?hi=>y(li(hi[s.index])):s.index;let Rr=null;if(!y&&D&&(Rr=function Qd(t,n,i,s){const l=t.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const y=l[f];if(y===i&&l[f+1]===s){const D=n[Io],O=l[f+2];return D.length>O?D[O]:null}"string"==typeof y&&(f+=2)}return null}(t,n,l,s.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=f,Rr.__ngLastListenerFn__=f,Dt=!1;else{f=w_(s,n,Ee,f,!1);const hi=i.listen(Fn,l,f);tt.push(f,hi),Q&&Q.push(l,pn,lr,lr+1)}}else f=w_(s,n,Ee,f,!1);const Mt=s.outputs;let sn;if(Dt&&null!==Mt&&(sn=Mt[l])){const vn=sn.length;if(vn)for(let Fn=0;Fn<vn;Fn+=2){const to=n[sn[Fn]][sn[Fn+1]].subscribe(f),Nl=tt.length;tt.push(f,to),Q&&Q.push(l,s.index,Nl,-(Nl+1))}}}(f,l,l[Qn],y,t,n,s),Cp}function T_(t,n,i,s){try{return So(6,n,i),!1!==i(s)}catch(l){return Uy(t,l),!1}finally{So(7,n,i)}}function w_(t,n,i,s,l){return function f(y){if(y===Function)return s;gu(t.componentOffset>-1?L(t.index,n):n);let O=T_(n,i,s,y),Q=f.__ngNextListenerFn__;for(;Q;)O=T_(n,i,Q,y)&&O,Q=Q.__ngNextListenerFn__;return l&&!1===O&&y.preventDefault(),O}}function Ml(t=1){return function qa(t){return(An.lFrame.contextLView=function vc(t,n){for(;t>0;)n=n[Di],t--;return n}(t,An.lFrame.contextLView))[Or]}(t)}function rv(t,n){let i=null;const s=function Mr(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const f=n[l];if("*"!==f){if(null===s?Ki(t,f,!0):di(s,f))return l}else i=l}return i}function D_(t){const n=an()[ii][zr];if(!n.projection){const s=n.projection=Lu(t?t.length:1,null),l=s.slice();let f=n.child;for(;null!==f;){const y=t?rv(f,t):0;null!==y&&(l[y]?l[y].projectionNext=f:s[y]=f,l[y]=f),f=f.next}}}function Jd(t,n=0,i){const s=an(),l=Qr(),f=$d(l,se+t,16,null,i||null);null===f.projection&&(f.projection=n),ua(),(!s[fo]||es())&&32!=(32&f.flags)&&function Im(t,n,i){Mf(n[Qn],0,n,i,Md(t,i,n),Rf(i.parent||n[zr],i,n))}(l,s,f)}function pf(t,n){return t<<17|n<<2}function xl(t){return t>>17&32767}function _u(t){return 2|t}function _c(t){return(131068&t)>>2}function tm(t,n){return-131069&t|n<<2}function Pp(t){return 1|t}function M_(t,n,i,s,l){const f=t[i+1],y=null===n;let D=s?xl(f):_c(f),O=!1;for(;0!==D&&(!1===O||y);){const Ee=t[D+1];x_(t[D],n)&&(O=!0,t[D+1]=s?Pp(Ee):_u(Ee)),D=s?xl(Ee):_c(Ee)}O&&(t[i+1]=s?_u(f):Pp(f))}function x_(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&iu(t,n)>=0}const Uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rm(t){return t.substring(Uo.key,Uo.keyEnd)}function xp(t,n){const i=Uo.textEnd;return i===n?-1:(n=Uo.keyEnd=function hd(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Uo.key=n,i),dd(t,n,i))}function dd(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Op(t,n){return function ee(t,n,i,s){const l=an(),f=Qr(),y=ls(2);f.firstUpdatePass&&Zt(f,t,y,s),n!==Gr&&ps(l,y,n)&&dE(f,f.data[zo()],l,l[Qn],t,l[y+1]=function XI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Se(br(t)))),t}(n,i),s,y)}(t,n,null,!0),Op}function m(t){!function Le(t,n,i,s){const l=Qr(),f=ls(2);l.firstUpdatePass&&Zt(l,null,f,s);const y=an();if(i!==Gr&&ps(y,f,i)){const D=l.data[zo()];if(fE(D,s)&&!Lt(l,f)){let O=s?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(i=Ie(O,i||"")),Rl(l,D,y,i,s)}else!function lm(t,n,i,s,l,f,y,D){l===Gr&&(l=Ot);let O=0,Q=0,Ee=0<l.length?l[0]:null,tt=0<f.length?f[0]:null;for(;null!==Ee||null!==tt;){const Dt=O<l.length?l[O+1]:void 0,Mt=Q<f.length?f[Q+1]:void 0;let vn,sn=null;Ee===tt?(O+=2,Q+=2,Dt!==Mt&&(sn=tt,vn=Mt)):null===tt||null!==Ee&&Ee<tt?(O+=2,sn=Ee):(Q+=2,sn=tt,vn=Mt),null!==sn&&dE(t,n,i,s,sn,vn,y,D),Ee=O<l.length?l[O]:null,tt=Q<f.length?f[Q]:null}}(l,D,y,y[Qn],y[f+1],y[f+1]=function rh(t,n,i){if(null==i||""===i)return Ot;const s=[],l=br(i);if(Array.isArray(l))for(let f=0;f<l.length;f++)t(s,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&t(s,f,l[f]);else"string"==typeof l&&n(s,l);return s}(t,n,i),s,f)}}(Np,B,t,!0)}function B(t,n){for(let i=function im(t){return function om(t){Uo.key=0,Uo.keyEnd=0,Uo.value=0,Uo.valueEnd=0,Uo.textEnd=t.length}(t),xp(t,dd(t,0,Uo.textEnd))}(n);i>=0;i=xp(n,i))Mo(t,rm(n),!0)}function Lt(t,n){return n>=t.expandoStartIndex}function Zt(t,n,i,s){const l=t.data;if(null===l[i+1]){const f=l[zo()],y=Lt(t,i);fE(f,s)&&null===n&&!y&&(n=!1),n=function kn(t,n,i,s){const l=function Du(t){const n=An.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=ns(i=gs(null,t,n,i,s),n.attrs,s),f=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==l)if(i=gs(l,t,n,i,s),null===f){let O=function lo(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==_c(s))return t[xl(s)]}(t,n,s);void 0!==O&&Array.isArray(O)&&(O=gs(null,t,n,O[1],s),O=ns(O,n.attrs,s),function Ds(t,n,i,s){t[xl(i?n.classBindings:n.styleBindings)]=s}(t,n,s,O))}else f=function Li(t,n,i){let s;const l=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<l;f++)s=ns(s,t[f].hostAttrs,i);return ns(s,n.attrs,i)}(t,n,s)}return void 0!==f&&(s?n.residualClasses=f:n.residualStyles=f),i}(l,f,n,s),function P_(t,n,i,s,l,f){let y=f?n.classBindings:n.styleBindings,D=xl(y),O=_c(y);t[s]=i;let Ee,Q=!1;if(Array.isArray(i)?(Ee=i[1],(null===Ee||iu(i,Ee)>0)&&(Q=!0)):Ee=i,l)if(0!==O){const Dt=xl(t[D+1]);t[s+1]=pf(Dt,D),0!==Dt&&(t[Dt+1]=tm(t[Dt+1],s)),t[D+1]=function S_(t,n){return 131071&t|n<<17}(t[D+1],s)}else t[s+1]=pf(D,0),0!==D&&(t[D+1]=tm(t[D+1],s)),D=s;else t[s+1]=pf(O,0),0===D?D=s:t[O+1]=tm(t[O+1],s),O=s;Q&&(t[s+1]=_u(t[s+1])),M_(t,Ee,s,!0),M_(t,Ee,s,!1),function Mp(t,n,i,s,l){const f=l?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&iu(f,n)>=0&&(i[s+1]=Pp(i[s+1]))}(n,Ee,t,s,f),y=pf(D,O),f?n.classBindings=y:n.styleBindings=y}(l,f,n,i,y,s)}}function gs(t,n,i,s,l){let f=null;const y=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<y&&(f=n[D],s=ns(s,f.hostAttrs,l),f!==t);)D++;return null!==t&&(i.directiveStylingLast=D),s}function ns(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?l=y:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mo(t,y,!!i||n[++f]))}return void 0===t?null:t}function Np(t,n,i){const s=String(n);""!==s&&!s.includes(" ")&&Mo(t,s,i)}function dE(t,n,i,s,l,f,y,D){if(!(3&n.type))return;const O=t.data,Q=O[D+1],Ee=function gf(t){return 1==(1&t)}(Q)?hE(O,n,i,l,_c(Q),y):void 0;L_(Ee)||(L_(f)||function Rp(t){return 2==(2&t)}(Q)&&(f=hE(O,null,i,l,D,y)),function qp(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let f=-1===s.indexOf("-")?void 0:Bt.DashCase;null==l?t.removeStyle(i,s,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Bt.Important),t.setStyle(i,s,l,f))}}(s,y,Qo(zo(),i),l,f))}function hE(t,n,i,s,l,f){const y=null===n;let D;for(;l>0;){const O=t[l],Q=Array.isArray(O),Ee=Q?O[1]:O,tt=null===Ee;let Dt=i[l+1];Dt===Gr&&(Dt=tt?Ot:void 0);let Mt=tt?zs(Dt,s):Ee===s?Dt:void 0;if(Q&&!L_(Mt)&&(Mt=zs(O,s)),L_(Mt)&&(D=Mt,y))return D;const sn=t[l+1];l=y?xl(sn):_c(sn)}if(null!==n){let O=f?n.residualClasses:n.residualStyles;null!=O&&(D=zs(O,s))}return D}function L_(t){return void 0!==t}function fE(t,n){return 0!=(t.flags&(n?8:16))}function pE(t,n=""){const i=an(),s=Qr(),l=t+se,f=s.firstCreatePass?$d(s,l,1,n,null):s.data[l],y=gE(s,i,f,n,t);i[l]=y,Be()&&rc(s,i,y,f),mo(f,!1)}let gE=(t,n,i,s,l)=>(At(!0),function fu(t,n){return t.createText(n)}(n[Qn],s));function iv(t){return V_("",t,""),iv}function V_(t,n,i){const s=an(),l=function rd(t,n,i,s){return ps(t,Ps(),i)?n+Ge(i)+s:Gr}(s,t,n,i);return l!==Gr&&La(s,zo(),l),V_}function ov(t,n,i,s,l){const f=an(),y=function id(t,n,i,s,l,f){const D=Al(t,_s(),i,l);return ls(2),D?n+Ge(i)+s+Ge(l)+f:Gr}(f,t,n,i,s,l);return y!==Gr&&La(f,zo(),y),ov}function sv(t,n,i,s,l,f,y){const D=an(),O=Hd(D,t,n,i,s,l,f,y);return O!==Gr&&La(D,zo(),O),sv}const _f=void 0;var vb=["en",[["a","p"],["AM","PM"],_f],[["AM","PM"],_f,_f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_f,"{1} 'at' {0}",_f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yb(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let kp={};function av(t){const n=function Eb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=NE(n);if(i)return i;const s=n.split("-")[0];if(i=NE(s),i)return i;if("en"===s)return vb;throw new De(701,!1)}function OE(t){return av(t)[Sr.PluralCase]}function NE(t){return t in kp||(kp[t]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[t]),kp[t]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const Fp="en-US";let kE=Fp;function cv(t,n,i,s,l){if(t=Ve(t),Array.isArray(t))for(let f=0;f<t.length;f++)cv(t[f],n,i,s,l);else{const f=Qr(),y=an();let D=Xc(t)?t:Ve(t.provide),O=rg(t);const Q=$i(),Ee=1048575&Q.providerIndexes,tt=Q.directiveStart,Dt=Q.providerIndexes>>20;if(Xc(t)||!t.multi){const Mt=new ea(O,l,qu),sn=hv(D,n,l?Ee:Ee+Dt,tt);-1===sn?(da(Ja(Q,y),f,D),dv(f,t,n.length),n.push(D),Q.directiveStart++,Q.directiveEnd++,l&&(Q.providerIndexes+=1048576),i.push(Mt),y.push(Mt)):(i[sn]=Mt,y[sn]=Mt)}else{const Mt=hv(D,n,Ee+Dt,tt),sn=hv(D,n,Ee,Ee+Dt),Fn=sn>=0&&i[sn];if(l&&!Fn||!l&&!(Mt>=0&&i[Mt])){da(Ja(Q,y),f,D);const lr=function _T(t,n,i,s,l){const f=new ea(t,i,qu);return f.multi=[],f.index=n,f.componentProviders=0,a0(f,l,s&&!i),f}(l?mT:gT,i.length,l,s,O);!l&&Fn&&(i[sn].providerFactory=lr),dv(f,t,n.length,0),n.push(D),Q.directiveStart++,Q.directiveEnd++,l&&(Q.providerIndexes+=1048576),i.push(lr),y.push(lr)}else dv(f,t,Mt>-1?Mt:sn,a0(i[l?sn:Mt],O,!l&&s));!l&&s&&Fn&&i[sn].componentProviders++}}}function dv(t,n,i,s){const l=Xc(n),f=function ry(t){return!!t.useClass}(n);if(l||f){const O=(f?Ve(n.useClass):n).prototype.ngOnDestroy;if(O){const Q=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const Ee=Q.indexOf(i);-1===Ee?Q.push(i,[s,O]):Q[Ee+1].push(s,O)}else Q.push(i,O)}}}function a0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function hv(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function gT(t,n,i,s){return fv(this.multi,[])}function mT(t,n,i,s){const l=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=vs(i,i[Sn],this.providerFactory.index,s);f=D.slice(0,y),fv(l,f);for(let O=y;O<D.length;O++)f.push(D[O])}else f=[],fv(l,f);return f}function fv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function u0(t,n=[]){return i=>{i.providersResolver=(s,l)=>function pT(t,n,i){const s=Qr();if(s.firstCreatePass){const l=kr(t);cv(i,s.data,s.blueprint,l,!0),cv(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}class Lp{}class l0{}function yT(t,n){return new pv(t,n??null,[])}class pv extends Lp{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ei(this);const l=Fr(n);this._bootstrapComponents=ya(l.bootstrap),this._r3Injector=cc(n,i,[{provide:Lp,useValue:this},{provide:rp,useValue:this.componentFactoryResolver},...s],Se(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gv extends l0{constructor(n){super(),this.moduleType=n}create(n){return new pv(this.moduleType,n,[])}}class c0 extends Lp{constructor(n){super(),this.componentFactoryResolver=new ei(this),this.instance=null;const i=new tg([...n.providers,{provide:Lp,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],n.parent||Yf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function d0(t,n,i=null){return new c0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let ET=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const s=Gf(0,i.type),l=s.length>0?d0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,l)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Ct({token:t,providedIn:"environment",factory:()=>new t(vr(Qc))}),t})();function h0(t){t.getStandaloneInjector=n=>n.get(ET).getOrCreateStandaloneInjector(t)}function v0(t,n,i){const s=Ro()+t,l=an();return l[s]===Gr?mu(l,s,i?n.call(i):n()):function sf(t,n){return t[n]}(l,s)}function E0(t,n,i,s){return function I0(t,n,i,s,l,f){const y=n+i;return ps(t,y,l)?mu(t,y+1,f?s.call(f,l):s(l)):gm(t,y+1)}(an(),Ro(),t,n,i,s)}function gm(t,n){const i=t[n];return i===Gr?void 0:i}function C0(t,n){const i=Qr();let s;const l=t+se;i.firstCreatePass?(s=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks??=[]).push(l,s.onDestroy)):s=i.data[l];const f=s.factory||(s.factory=_i(s.type)),y=Zn(qu);try{const D=Ju(!1),O=f();return Ju(D),function E_(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,an(),l,O),O}finally{Zn(y)}}function A0(t,n,i,s){const l=t+se,f=an(),y=te(f,l);return function mm(t,n){return t[Sn].data[n].pure}(f,l)?function b0(t,n,i,s,l,f,y){const D=n+i;return Al(t,D,l,f)?mu(t,D+2,y?s.call(y,l,f):s(l,f)):gm(t,D+2)}(f,Ro(),n,y.transform,i,s,y):y.transform(i,s)}function _v(t){return n=>{setTimeout(t,void 0,n)}}const yc=class jT extends c.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let l=n,f=i||(()=>null),y=s;if(n&&"object"==typeof n){const O=n;l=O.next?.bind(O),f=O.error?.bind(O),y=O.complete?.bind(O)}this.__isAsync&&(f=_v(f),l&&(l=_v(l)),y&&(y=_v(y)));const D=super.subscribe({next:l,error:f,complete:y});return n instanceof d.w0&&n.add(D),D}};function HT(){return this._results[Symbol.iterator]()}class yv{get changes(){return this._changes||(this._changes=new yc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=yv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=HT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=function ds(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Wl(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let l=t[s],f=n[s];if(i&&(l=i(l),f=i(f)),f!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _m=(()=>{class t{}return t.__NG_ELEMENT_ID__=WT,t})();const zT=_m,GT=class extends zT{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i,null)}createEmbeddedViewImpl(n,i,s){const l=this._declarationTContainer.tView,f=cp(this._declarationLView,l,n,16,null,l.declTNode,null,null,null,i||null,s||null);f[bo]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[io];return null!==D&&(f[io]=D.createEmbeddedView(l)),r(l,f,n),new xr(f)}};function WT(){return H_($i(),an())}function H_(t,n){return 4&t.type?new GT(n,t,Tl(t,n)):null}let z_=(()=>{class t{}return t.__NG_ELEMENT_ID__=JT,t})();function JT(){return O0($i(),an())}const ew=z_,M0=class extends ew{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const n=nl(this._hostTNode,this._hostLView);if(Vl(n)){const i=Ru(n,this._hostLView),s=Su(n);return new js(i[Sn].data[s+8],i)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=x0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(n,i,s){let l,f;"number"==typeof s?l=s:null!=s&&(l=s.index,f=s.injector);const D=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(D,l,false),D}createComponent(n,i,s,l,f){const y=n&&!function Fu(t){return"function"==typeof t}(n);let D;if(y)D=i;else{const vn=i||{};D=vn.index,s=vn.injector,l=vn.projectableNodes,f=vn.environmentInjector||vn.ngModuleRef}const O=y?n:new Pt(Xt(n)),Q=s||this.parentInjector;if(!f&&null==O.ngModule){const Fn=(y?Q:this.parentInjector).get(Qc,null);Fn&&(f=Fn)}Xt(O.componentType??{});const Mt=O.create(Q,l,null,f);return this.insertImpl(Mt.hostView,D,false),Mt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const l=n._lView,f=l[Sn];if(function jt(t){return hr(t[mr])}(l)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const Q=l[mr],Ee=new M0(Q,Q[zr],Q[mr]);Ee.detach(Ee.indexOf(n))}}const y=this._adjustIndex(i),D=this._lContainer;if(function Em(t,n,i,s){const l=bn+s,f=i.length;s>0&&(i[l-1][Bi]=n),s<f-bn?(n[Bi]=i[l],wc(i,bn+s,n)):(i.push(n),n[Bi]=null),n[mr]=i;const y=n[bo];null!==y&&i!==y&&function Af(t,n){const i=t[fn];n[ii]!==n[mr][mr][ii]&&(t[ct]=!0),null===i?t[fn]=[n]:i.push(n)}(y,n);const D=n[io];null!==D&&D.insertView(t),n[Xn]|=128}(f,l,D,y),!s){const O=vh(y,D),Q=l[Qn],Ee=ml(Q,D[bt]);null!==Ee&&function jp(t,n,i,s,l,f){s[Lr]=l,s[zr]=n,ic(t,s,i,1,l,f)}(f,D[zr],Q,l,Ee,O)}return n.attachToViewContainerRef(),wc(Ev(D),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=x0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Rd(this._lContainer,i);s&&(ma(Ev(this._lContainer),i),zp(s[Sn],s))}detach(n){const i=this._adjustIndex(n,-1),s=Rd(this._lContainer,i);return s&&null!=ma(Ev(this._lContainer),i)?new xr(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function x0(t){return t[$t]}function Ev(t){return t[$t]||(t[$t]=[])}function O0(t,n){let i;const s=n[t.index];return hr(s)?i=s:(i=Fy(s,n,null,t),n[t.index]=i,Rg(n,i)),N0(i,n,t,s),new M0(i,t,n)}let N0=function k0(t,n,i,s){if(t[bt])return;let l;l=8&i.type?li(s):function tw(t,n){const i=t[Qn],s=i.createComment(""),l=wo(n,t);return ra(i,ml(i,l),s,function _l(t,n){return t.nextSibling(n)}(i,l),!1),s}(n,i),t[bt]=l};class Iv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Iv(this.queryList)}setDirty(){this.queryList.setDirty()}}class bv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let f=0;f<s;f++){const y=i.getByIndex(f);l.push(this.queries[y.indexInDeclarationView].clone())}return new bv(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==z0(n,i).matches&&this.queries[i].setDirty()}}class F0{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class Tv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,f=this.getByIndex(s).embeddedTView(n,l);f&&(f.indexInDeclarationView=s,null!==i?i.push(f):i=[f])}return null!==i?new Tv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new wv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const f=s[l];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,eu(i,n,f,!1,!1))}else s===_m?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,eu(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===wl||l===z_||l===_m&&4&i.type)this.addMatch(i.index,-2);else{const f=eu(i,n,l,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function sw(t,n,i,s){return-1===i?function ow(t,n){return 11&t.type?Tl(t,n):4&t.type?H_(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===wl?Tl(n,t):i===_m?H_(n,t):i===z_?O0(n,t):void 0}(t,n,s):vs(t,t[Sn],i,n)}function L0(t,n,i,s){const l=n[io].queries[s];if(null===l.matches){const f=t.data,y=i.matches,D=[];for(let O=0;O<y.length;O+=2){const Q=y[O];D.push(Q<0?null:sw(n,f[Q],y[O+1],i.metadata.read))}l.matches=D}return l.matches}function Dv(t,n,i,s){const l=t.queries.getByIndex(i),f=l.matches;if(null!==f){const y=L0(t,n,l,i);for(let D=0;D<f.length;D+=2){const O=f[D];if(O>0)s.push(y[D/2]);else{const Q=f[D+1],Ee=n[-O];for(let tt=bn;tt<Ee.length;tt++){const Dt=Ee[tt];Dt[bo]===Dt[mr]&&Dv(Dt[Sn],Dt,Q,s)}if(null!==Ee[fn]){const tt=Ee[fn];for(let Dt=0;Dt<tt.length;Dt++){const Mt=tt[Dt];Dv(Mt[Sn],Mt,Q,s)}}}}}return s}function V0(t){const n=an(),i=Qr(),s=Wi();la(s+1);const l=z0(i,s);if(t.dirty&&function ve(t){return 4==(4&t[Xn])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const f=l.crossesNgTemplate?Dv(i,n,s,[]):L0(i,n,l,s);t.reset(f,zm),t.notifyOnChanges()}return!0}return!1}function B0(t,n,i){const s=Qr();s.firstCreatePass&&(H0(s,new F0(t,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),j0(s,an(),n)}function $0(t,n,i,s){const l=Qr();if(l.firstCreatePass){const f=$i();H0(l,new F0(n,i,s),f.index),function lw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),2==(2&i)&&(l.staticContentQueries=!0)}j0(l,an(),i)}function U0(){return function uw(t,n){return t[io].queries[n].queryList}(an(),Wi())}function j0(t,n,i){const s=new yv(4==(4&i));(function oE(t,n,i,s){const l=Pg(n);l.push(i),t.firstCreatePass&&By(t).push(s,l.length-1)})(t,n,s,s.destroy),null===n[io]&&(n[io]=new bv),n[io].queries.push(new Iv(s))}function H0(t,n,i){null===t.queries&&(t.queries=new Tv),t.queries.track(new wv(n,i))}function z0(t,n){return t.queries.getByIndex(n)}function Cv(t){return!!Fr(t)}const aI=new Mi("Application Initializer");let Mv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Kn(aI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const f=l();if(Zu(f))i.push(f);else if(Xg(f)){const y=new Promise((D,O)=>{f.subscribe({complete:D,error:O})});i.push(y)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const W_=new Mi("LocaleId",{providedIn:"root",factory:()=>Kn(W_,un.Optional|un.SkipSelf)||function Mw(){return typeof $localize<"u"&&$localize.locale||Fp}()}),xw=new Mi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new G.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new gv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),f=ya(Fr(i).declarations).reduce((y,D)=>{const O=Xt(D);return O&&y.push(new Pt(O)),y},[]);return new Ow(s,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lw=(()=>Promise.resolve(0))();function xv(t){typeof Zone>"u"?Lw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function hI(...t){}class Ea{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Vw(){let t=Dn.requestAnimationFrame,n=Dn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Uw(t){const n=()=>{!function $w(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nv(t),t.isCheckStableRunning=!0,Ov(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,f,y,D)=>{try{return fI(t),i.invokeTask(l,f,y,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),pI(t)}},onInvoke:(i,s,l,f,y,D,O)=>{try{return fI(t),i.invoke(l,f,y,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),pI(t)}},onHasTask:(i,s,l,f)=>{i.hasTask(l,f),s===l&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Nv(t),Ov(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,s,l,f)=>(i.handleError(l,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new De(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+l,n,Bw,hI,hI);try{return f.runTask(y,i,s)}finally{f.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Bw={};function Ov(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pI(t){t._nesting--,Ov(t)}class jw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}const gI=new Mi("",{providedIn:"root",factory:mI});function mI(){const t=Kn(Ea);let n=!0;const i=new ue.y(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),s=new ue.y(l=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),xv(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const y=t.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Ae.T)(i,s.pipe((0,le.B)()))}const _I=new Mi(""),yI=new Mi("");let kv,Hw=(()=>{class t{constructor(i,s,l){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kv||(function zw(t){kv=t}(l),l.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xv(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let f=-1;s&&s>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,l){return[]}}return t.\u0275fac=function(i){return new(i||t)(vr(Ea),vr(vI),vr(yI))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})(),vI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return kv?.findTestabilityInTree(this,i,s)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ih=null;const EI=new Mi("AllowMultipleToken"),Fv=new Mi("PlatformDestroyListeners"),Lv=new Mi("appBootstrapListener");class qw{constructor(n,i){this.name=n,this.token=i}}function TI(t,n,i=[]){const s=`Platform: ${n}`,l=new Mi(s);return(f=[])=>{let y=Vv();if(!y||y.injector.get(EI,!1)){const D=[...i,...f,{provide:l,useValue:!0}];t?t(D):function Kw(t){if(ih&&!ih.get(EI,!1))throw new De(400,!1);(function II(){!function Cs(t){Qi=t}(()=>{throw new De(600,!1)})})(),ih=t;const n=t.get(DI);(function bI(t){t.get(og,null)?.forEach(i=>i())})(t)}(function wI(t=[],n){return ia.create({name:n,providers:[{provide:qf,useValue:"platform"},{provide:Fv,useValue:new Set([()=>ih=null])},...t]})}(D,s))}return function Zw(t){const n=Vv();if(!n)throw new De(401,!1);return n}()}}function Vv(){return ih?.get(DI)??null}let DI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const l=function Xw(t="zone.js",n){return"noop"===t?new jw:"zone.js"===t?new Ea(n):t}(s?.ngZone,function CI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return l.run(()=>{const f=function vT(t,n,i){return new pv(t,n,i)}(i.moduleType,this.injector,function MI(t){return[{provide:Ea,useFactory:t},{provide:Zc,multi:!0,useFactory:()=>{const n=Kn(Jw,{optional:!0});return()=>n.initialize()}},{provide:PI,useFactory:Qw},{provide:gI,useFactory:mI}]}(()=>l)),y=f.injector.get(Wu,null);return l.runOutsideAngular(()=>{const D=l.onError.subscribe({next:O=>{y.handleError(O)}});f.onDestroy(()=>{q_(this._modules,f),D.unsubscribe()})}),function AI(t,n,i){try{const s=i();return Zu(s)?s.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(y,l,()=>{const D=f.injector.get(Mv);return D.runInitializers(),D.donePromise.then(()=>(function FE(t){We(t,"Expected localeId to be defined"),"string"==typeof t&&(kE=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(W_,Fp)||Fp),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,s=[]){const l=SI({},s);return function Gw(t,n,i){const s=new gv(i);return Promise.resolve(s)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(i){const s=i.injector.get($p);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new De(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(Fv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(vr(ia))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function SI(t,n){return Array.isArray(n)?n.reduce(SI,t):{...t,...n}}let $p=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kn(PI),this.zoneIsStable=Kn(gI),this.componentTypes=[],this.components=[],this.isStable=Kn(lI).hasPendingTasks.pipe((0,qe.z)(i=>i?(0,Fe.of)(!1):this.zoneIsStable),(0,Qe.x)(),(0,le.B)()),this._injector=Kn(Qc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const l=i instanceof Hm;if(!this._injector.get(Mv).done)throw!l&&er(i),new De(405,!1);let y;y=l?i:this._injector.get(rp).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const D=function Ww(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Lp),Q=y.create(ia.NULL,[],s||y.selector,D),Ee=Q.location.nativeElement,tt=Q.injector.get(_I,null);return tt?.registerApplication(Ee),Q.onDestroy(()=>{this.detachView(Q.hostView),q_(this.components,Q),tt?.unregisterApplication(Ee)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;q_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Lv,[]);s.push(...this._bootstrapListeners),s.forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>q_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new De(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function q_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const PI=new Mi("",{providedIn:"root",factory:()=>Kn(Wu).handleError.bind(void 0)});function Qw(){const t=Kn(Ea),n=Kn(Wu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let Jw=(()=>{class t{constructor(){this.zone=Kn(Ea),this.applicationRef=Kn($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tD(){return!1}function nD(){}let rD=(()=>{class t{}return t.__NG_ELEMENT_ID__=iD,t})();function iD(t){return function oD(t,n,i){if(Gn(t)&&!i){const s=L(t.index,n);return new xr(s,s)}return 47&t.type?new xr(n[ii],n):null}($i(),an(),16==(16&t))}class kI{constructor(){}supports(n){return rf(n)}create(n){return new dD(n)}}const cD=(t,n)=>n;class dD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||cD}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,f=null;for(;i||s;){const y=!s||i&&i.currentIndex<LI(s,l,f)?i:s,D=LI(y,l,f),O=y.currentIndex;if(y===s)l--,s=s._nextRemoved;else if(i=i._next,null==y.previousIndex)l++;else{f||(f=[]);const Q=D-l,Ee=O-l;if(Q!=Ee){for(let Dt=0;Dt<Q;Dt++){const Mt=Dt<f.length?f[Dt]:f[Dt]=0,sn=Mt+Dt;Ee<=sn&&sn<Q&&(f[Dt]=Mt+1)}f[y.previousIndex]=Ee-Q}}D!==O&&n(y,D,O)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!rf(n))throw new De(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,f,y,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)f=n[D],y=this._trackByFn(D,f),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,f,y,D)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,y,D),s=!0),i=i._next}else l=0,function d_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,D=>{y=this._trackByFn(l,D),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,D,y,l)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,y,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,l)):n=this._addAfter(new hD(i,s),f,l),n}_verifyReinsertion(n,i,s,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==f?n=this._reinsertAfter(f,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,f=n._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new FI),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class hD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class FI{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new fD,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LI(t,n,i){const s=t.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class VI{constructor(){}supports(n){return n instanceof Map||pp(n)}create(){return new pD}}class pD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||pp(n)))throw new De(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const f=l._prev,y=l._next;return f&&(f._next=y),y&&(y._prev=f),l._next=null,l._prev=null,l}const s=new gD(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class gD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BI(){return new Hv([new kI])}let Hv=(()=>{class t{constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||BI()),deps:[[t,new al,new Yl]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new De(901,!1)}}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:BI}),t})();function $I(){return new zv([new VI])}let zv=(()=>{class t{constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||$I()),deps:[[t,new al,new Yl]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new De(901,!1)}}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:$I}),t})();const yD=TI(null,"core",[]);let vD=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(vr($p))},t.\u0275mod=dt({type:t}),t.\u0275inj=Tt({}),t})();function SD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function PD(t,n){const i=Xt(t),s=n.elementInjector||Yf();return new Pt(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function MD(t){const n=Xt(t);if(!n)return null;const i=new Pt(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone}}}},7341:(ln,gt,P)=>{"use strict";P.d(gt,{zQ:()=>be,ww:()=>he,rT:()=>Xe,f7:()=>xe,L6:()=>oe,_Q:()=>ze,lh:()=>$e,Qv:()=>Me,nw:()=>lt});var c=P(1180),G=(P(9568),P(4755)),ue=P(2223),Ae=P(6161),Fe=P(3593),le=P(7579),qe=P(9646),Qe=P(9751),fe=P(8996),ae=P(6451),Se=P(5363),Ie=P(3900),ce=P(4004),ye=P(6063);class Ve extends le.x{constructor(M=1/0,A=1/0,j=ye.l){super(),this._bufferSize=M,this._windowTime=A,this._timestampProvider=j,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=A===1/0,this._bufferSize=Math.max(1,M),this._windowTime=Math.max(1,A)}next(M){const{isStopped:A,_buffer:j,_infiniteTimeWindow:Oe,_timestampProvider:pe,_windowTime:He}=this;A||(j.push(M),!Oe&&j.push(pe.now()+He)),this._trimBuffer(),super.next(M)}_subscribe(M){this._throwIfClosed(),this._trimBuffer();const A=this._innerSubscribe(M),{_infiniteTimeWindow:j,_buffer:Oe}=this,pe=Oe.slice();for(let He=0;He<pe.length&&!M.closed;He+=j?1:2)M.next(pe[He]);return this._checkFinalizedStatuses(M),A}_trimBuffer(){const{_bufferSize:M,_timestampProvider:A,_buffer:j,_infiniteTimeWindow:Oe}=this,pe=(Oe?1:2)*M;if(M<1/0&&pe<j.length&&j.splice(0,j.length-pe),!Oe){const He=A.now();let We=0;for(let Ue=1;Ue<j.length&&j[Ue]<=He;Ue+=2)We=Ue;We&&j.splice(0,We+1)}}}var Ce=P(3099);function Pe(Z,M,A){let j,Oe=!1;return Z&&"object"==typeof Z?({bufferSize:j=1/0,windowTime:M=1/0,refCount:Oe=!1,scheduler:A}=Z):j=Z??1/0,(0,Ce.B)({connector:()=>new Ve(j,M,A),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var ot=P(590),yt=P(576);function De(Z,M){return(0,yt.m)(M)?(0,Ie.w)(()=>Z,M):(0,Ie.w)(()=>Z)}var Ke=P(9468),Ge=P(9300),Je=P(9260);const Me=new ue.OlP("angularfire2.auth.use-emulator"),oe=new ue.OlP("angularfire2.auth.settings"),ze=new ue.OlP("angularfire2.auth.tenant-id"),Xe=new ue.OlP("angularfire2.auth.langugage-code"),$e=new ue.OlP("angularfire2.auth.use-device-language"),xe=new ue.OlP("angularfire.auth.persistence"),lt=(Z,M,A,j,Oe,pe,He,We)=>(0,Fe.cc)(`${Z.name}.auth`,"AngularFireAuth",Z.name,()=>{const Ue=M.runOutsideAngular(()=>Z.auth());if(A&&Ue.useEmulator(...A),j&&(Ue.tenantId=j),Ue.languageCode=Oe,pe&&Ue.useDeviceLanguage(),He)for(const[it,st]of Object.entries(He))Ue.settings[it]=st;return We&&Ue.setPersistence(We),Ue},[A,j,Oe,pe,He,We]);let be=(()=>{class Z{constructor(A,j,Oe,pe,He,We,Ue,it,st,at,Ct,Kt){(0,c.Z)(this,"authState",void 0),(0,c.Z)(this,"idToken",void 0),(0,c.Z)(this,"user",void 0),(0,c.Z)(this,"idTokenResult",void 0),(0,c.Z)(this,"credential",void 0);const Tt=new le.x,gn=(0,qe.of)(void 0).pipe((0,Se.Q)(He.outsideAngular),(0,Ie.w)(()=>pe.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9568)))),(0,ce.U)(()=>(0,Fe.on)(A,pe,j)),(0,ce.U)(yn=>lt(yn,pe,We,it,st,at,Ue,Ct)),Pe({bufferSize:1,refCount:!1}));if((0,G.PM)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{gn.pipe((0,ot.P)()).subscribe();const yn=gn.pipe((0,Ie.w)(kt=>kt.getRedirectResult().then(cn=>cn,()=>null)),Ae.iC,Pe({bufferSize:1,refCount:!1})),xt=gn.pipe((0,Ie.w)(kt=>new Qe.y(cn=>({unsubscribe:pe.runOutsideAngular(()=>kt.onAuthStateChanged(xn=>cn.next(xn),xn=>cn.error(xn),()=>cn.complete()))})))),Ht=gn.pipe((0,Ie.w)(kt=>new Qe.y(cn=>({unsubscribe:pe.runOutsideAngular(()=>kt.onIdTokenChanged(xn=>cn.next(xn),xn=>cn.error(xn),()=>cn.complete()))}))));this.authState=yn.pipe(De(xt),(0,Ke.R)(He.outsideAngular),(0,Se.Q)(He.insideAngular)),this.user=yn.pipe(De(Ht),(0,Ke.R)(He.outsideAngular),(0,Se.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Ie.w)(kt=>kt?(0,fe.D)(kt.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe((0,Ie.w)(kt=>kt?(0,fe.D)(kt.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,ae.T)(yn,Tt,this.authState.pipe((0,Ge.h)(kt=>!kt))).pipe((0,ce.U)(kt=>kt?.user?kt:null),(0,Ke.R)(He.outsideAngular),(0,Se.Q)(He.insideAngular))}return(0,Fe.pX)(this,gn,pe,{spy:{apply:(yn,xt,Ht)=>{(yn.startsWith("signIn")||yn.startsWith("createUser"))&&Ht.then(kt=>Tt.next(kt))}}})}}return(0,c.Z)(Z,"\u0275fac",function(A){return new(A||Z)(ue.LFG(Fe.Dh),ue.LFG(Fe.xv,8),ue.LFG(ue.Lbi),ue.LFG(ue.R0b),ue.LFG(Ae.HU),ue.LFG(Me,8),ue.LFG(oe,8),ue.LFG(ze,8),ue.LFG(Xe,8),ue.LFG($e,8),ue.LFG(xe,8),ue.LFG(Ae.Rf,8))}),(0,c.Z)(Z,"\u0275prov",ue.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"any"})),Z})(),he=(()=>{class Z{constructor(){Je.Z.registerVersion("angularfire",Ae.q4.full,"auth-compat")}}return(0,c.Z)(Z,"\u0275fac",function(A){return new(A||Z)}),(0,c.Z)(Z,"\u0275mod",ue.oAB({type:Z})),(0,c.Z)(Z,"\u0275inj",ue.cJS({providers:[be]})),Z})()},4267:(ln,gt,P)=>{"use strict";P.d(gt,{ST:()=>pe,yb:()=>He});var c=P(1180),d=P(4755),G=P(2223),ue=P(6161),Ae=P(3593),Fe=P(7341),le=P(4986),qe=P(9751),Qe=P(8996),fe=P(9646),ae=P(8675),Se=P(4482),Ie=P(5403);function ce(){return(0,Se.e)((We,Ue)=>{let it,st=!1;We.subscribe((0,Ie.x)(Ue,at=>{const Ct=it;it=at,st&&Ue.next([Ct,at]),st=!0}))})}var ye=P(4004),Ve=P(5026),Ce=P(1884),Pe=P(9300),De=(P(9568),P(5878),P(9260));function Ge(We,Ue){return function Ke(We,Ue=le.z){return new qe.y(it=>{let st;return null!=Ue?Ue.schedule(()=>{st=We.onSnapshot({includeMetadataChanges:!0},it)}):st=We.onSnapshot({includeMetadataChanges:!0},it),()=>{st?.()}})}(We,Ue)}function Ye(We,Ue){return Ge(We,Ue).pipe((0,ye.U)(it=>({payload:it,type:"query"})))}class Me{constructor(Ue,it){(0,c.Z)(this,"ref",void 0),(0,c.Z)(this,"afs",void 0),this.ref=Ue,this.afs=it}set(Ue,it){return this.ref.set(Ue,it)}update(Ue){return this.ref.update(Ue)}delete(){return this.ref.delete()}collection(Ue,it){const st=this.ref.collection(Ue),{ref:at,query:Ct}=Oe(st,it);return new be(at,Ct,this.afs)}snapshotChanges(){return function Je(We,Ue){return Ge(We,Ue).pipe((0,ae.O)(void 0),ce(),(0,ye.U)(it=>{const[st,at]=it;return at.exists?st?.exists?{payload:at,type:"modified"}:{payload:at,type:"added"}:{payload:at,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(Ue={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:it})=>Ue.idField?{...it.data(),[Ue.idField]:it.id}:it.data()))}get(Ue){return(0,Qe.D)(this.ref.get(Ue)).pipe(ue.iC)}}function oe(We,Ue){return Ye(We,Ue).pipe((0,ae.O)(void 0),ce(),(0,ye.U)(it=>{const[st,at]=it,Ct=at.payload.docChanges(),Kt=Ct.map(Tt=>({type:Tt.type,payload:Tt}));return st&&JSON.stringify(st.payload.metadata)!==JSON.stringify(at.payload.metadata)&&at.payload.docs.forEach((Tt,gn)=>{const yn=Ct.find(Ht=>Ht.doc.ref.isEqual(Tt.ref)),xt=st?.payload.docs.find(Ht=>Ht.ref.isEqual(Tt.ref));yn&&JSON.stringify(yn.doc.metadata)===JSON.stringify(Tt.metadata)||!yn&&xt&&JSON.stringify(xt.metadata)===JSON.stringify(Tt.metadata)||Kt.push({type:"modified",payload:{oldIndex:gn,newIndex:gn,type:"modified",doc:Tt}})}),Kt}))}function ze(We,Ue,it){return oe(We,it).pipe((0,Ve.R)((st,at)=>function Xe(We,Ue,it){return Ue.forEach(st=>{it.indexOf(st.type)>-1&&(We=function xe(We,Ue){switch(Ue.type){case"added":if(!We[Ue.newIndex]||!We[Ue.newIndex].doc.ref.isEqual(Ue.doc.ref))return $e(We,Ue.newIndex,0,Ue);break;case"modified":if(null==We[Ue.oldIndex]||We[Ue.oldIndex].doc.ref.isEqual(Ue.doc.ref)){if(Ue.oldIndex!==Ue.newIndex){const it=We.slice();return it.splice(Ue.oldIndex,1),it.splice(Ue.newIndex,0,Ue),it}return $e(We,Ue.newIndex,1,Ue)}break;case"removed":if(We[Ue.oldIndex]&&We[Ue.oldIndex].doc.ref.isEqual(Ue.doc.ref))return $e(We,Ue.oldIndex,1)}return We}(We,st))}),We}(st,at.map(Ct=>Ct.payload),Ue),[]),(0,Ce.x)(),(0,ye.U)(st=>st.map(at=>({type:at.type,payload:at}))))}function $e(We,Ue,it,...st){const at=We.slice();return at.splice(Ue,it,...st),at}function lt(We){return(!We||0===We.length)&&(We=["added","removed","modified"]),We}class be{constructor(Ue,it,st){(0,c.Z)(this,"ref",void 0),(0,c.Z)(this,"query",void 0),(0,c.Z)(this,"afs",void 0),this.ref=Ue,this.query=it,this.afs=st}stateChanges(Ue){let it=oe(this.query,this.afs.schedulers.outsideAngular);return Ue&&Ue.length>0&&(it=it.pipe((0,ye.U)(st=>st.filter(at=>Ue.indexOf(at.type)>-1)))),it.pipe((0,ae.O)(void 0),ce(),(0,Pe.h)(([st,at])=>at.length>0||!st),(0,ye.U)(([,st])=>st),ue.iC)}auditTrail(Ue){return this.stateChanges(Ue).pipe((0,Ve.R)((it,st)=>[...it,...st],[]))}snapshotChanges(Ue){const it=lt(Ue);return ze(this.query,it,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(Ue={}){return Ye(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(it=>it.payload.docs.map(st=>Ue.idField?{...st.data(),[Ue.idField]:st.id}:st.data())),ue.iC)}get(Ue){return(0,Qe.D)(this.query.get(Ue)).pipe(ue.iC)}add(Ue){return this.ref.add(Ue)}doc(Ue){return new Me(this.ref.doc(Ue),this.afs)}}class he{constructor(Ue,it){(0,c.Z)(this,"query",void 0),(0,c.Z)(this,"afs",void 0),this.query=Ue,this.afs=it}stateChanges(Ue){return Ue&&0!==Ue.length?oe(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(it=>it.filter(st=>Ue.indexOf(st.type)>-1)),(0,Pe.h)(it=>it.length>0),ue.iC):oe(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(Ue){return this.stateChanges(Ue).pipe((0,Ve.R)((it,st)=>[...it,...st],[]))}snapshotChanges(Ue){const it=lt(Ue);return ze(this.query,it,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(Ue={}){return Ye(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(st=>st.payload.docs.map(at=>Ue.idField?{[Ue.idField]:at.id,...at.data()}:at.data())),ue.iC)}get(Ue){return(0,Qe.D)(this.query.get(Ue)).pipe(ue.iC)}}const Z=new G.OlP("angularfire2.enableFirestorePersistence"),M=new G.OlP("angularfire2.firestore.persistenceSettings"),A=new G.OlP("angularfire2.firestore.settings"),j=new G.OlP("angularfire2.firestore.use-emulator");function Oe(We,Ue=(it=>it)){return{query:Ue(We),ref:We}}let pe=(()=>{class We{constructor(it,st,at,Ct,Kt,Tt,gn,yn,xt,Ht,kt,cn,xn,On,Jt,un,wn){(0,c.Z)(this,"schedulers",void 0),(0,c.Z)(this,"firestore",void 0),(0,c.Z)(this,"persistenceEnabled$",void 0),this.schedulers=gn;const En=(0,Ae.on)(it,Tt,st),Zn=xt;Ht&&(0,Fe.nw)(En,Tt,kt,xn,On,Jt,cn,un),[this.firestore,this.persistenceEnabled$]=(0,Ae.cc)(`${En.name}.firestore`,"AngularFirestore",En.name,()=>{const Nn=Tt.runOutsideAngular(()=>En.firestore());if(Ct&&Nn.settings(Ct),Zn&&Nn.useEmulator(...Zn),at&&!(0,d.PM)(Kt)){const wr=()=>{try{return(0,Qe.D)(Nn.enablePersistence(yn||void 0).then(()=>!0,()=>!1))}catch(Dn){return typeof console<"u"&&console.warn(Dn),(0,fe.of)(!1)}};return[Nn,Tt.runOutsideAngular(wr)]}return[Nn,(0,fe.of)(!1)]},[Ct,Zn,at])}collection(it,st){let at;at="string"==typeof it?this.firestore.collection(it):it;const{ref:Ct,query:Kt}=Oe(at,st),Tt=this.schedulers.ngZone.run(()=>Ct);return new be(Tt,Kt,this)}collectionGroup(it,st){const at=st||(Kt=>Kt),Ct=this.firestore.collectionGroup(it);return new he(at(Ct),this)}doc(it){let st;st="string"==typeof it?this.firestore.doc(it):it;const at=this.schedulers.ngZone.run(()=>st);return new Me(at,this)}createId(){return this.firestore.collection("_").doc().id}}return(0,c.Z)(We,"\u0275fac",function(it){return new(it||We)(G.LFG(Ae.Dh),G.LFG(Ae.xv,8),G.LFG(Z,8),G.LFG(A,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(ue.HU),G.LFG(M,8),G.LFG(j,8),G.LFG(Fe.zQ,8),G.LFG(Fe.Qv,8),G.LFG(Fe.L6,8),G.LFG(Fe._Q,8),G.LFG(Fe.rT,8),G.LFG(Fe.lh,8),G.LFG(Fe.f7,8),G.LFG(ue.Rf,8))}),(0,c.Z)(We,"\u0275prov",G.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"})),We})(),He=(()=>{class We{constructor(){De.Z.registerVersion("angularfire",ue.q4.full,"fst-compat")}static enablePersistence(it){return{ngModule:We,providers:[{provide:Z,useValue:!0},{provide:M,useValue:it}]}}}return(0,c.Z)(We,"\u0275fac",function(it){return new(it||We)}),(0,c.Z)(We,"\u0275mod",G.oAB({type:We})),(0,c.Z)(We,"\u0275inj",G.cJS({providers:[pe]})),We})()},9097:(ln,gt,P)=>{"use strict";P.d(gt,{Q1:()=>M,TE:()=>Oe});var c=P(1180),d=P(6161),G=P(9751),ue=P(9646),Ae=P(8996),Fe=P(4986),le=P(4482),qe=P(5403),fe=P(4004),ae=P(3900),Se=P(2223),Ie=P(3593),ce=P(3942),ye=P(6961),Ve=P(4859);class Ce{constructor(He,We,Ue){this._delegate=He,this.task=We,this.ref=Ue}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Pe{constructor(He,We){this._delegate=He,this._ref=We,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ce(this._delegate.snapshot,this,this._ref)}then(He,We){return this._delegate.then(Ue=>{if(He)return He(new Ce(Ue,this,this._ref))},We)}on(He,We,Ue,it){let st;return We&&(st="function"==typeof We?at=>We(new Ce(at,this,this._ref)):{next:We.next?at=>We.next(new Ce(at,this,this._ref)):void 0,complete:We.complete||void 0,error:We.error||void 0}),this._delegate.on(He,st,Ue||void 0,it||void 0)}}class ot{constructor(He,We){this._delegate=He,this._service=We}get prefixes(){return this._delegate.prefixes.map(He=>new yt(He,this._service))}get items(){return this._delegate.items.map(He=>new yt(He,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yt{constructor(He,We){this._delegate=He,this.storage=We}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(He){const We=(0,ye.g6)(this._delegate,He);return new yt(We,this.storage)}get root(){return new yt(this._delegate.root,this.storage)}get parent(){const He=this._delegate.parent;return null==He?null:new yt(He,this.storage)}put(He,We){return this._throwIfRoot("put"),new Pe((0,ye.B0)(this._delegate,He,We),this)}putString(He,We=ye.bm.RAW,Ue){this._throwIfRoot("putString");const it=(0,ye.qm)(We,He),st=Object.assign({},Ue);return null==st.contentType&&null!=it.contentType&&(st.contentType=it.contentType),new Pe(new ye.IX(this._delegate,new ye.UJ(it.data,!0),st),this)}listAll(){return(0,ye.aF)(this._delegate).then(He=>new ot(He,this.storage))}list(He){return(0,ye.pb)(this._delegate,He||void 0).then(We=>new ot(We,this.storage))}getMetadata(){return(0,ye.sd)(this._delegate)}updateMetadata(He){return(0,ye.Ym)(this._delegate,He)}getDownloadURL(){return(0,ye.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,ye.oq)(this._delegate)}_throwIfRoot(He){if(""===this._delegate._location.path)throw(0,ye.y4)(He)}}class De{constructor(He,We){this.app=He,this._delegate=We}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(He){if(Ke(He))throw(0,ye.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new yt((0,ye.iH)(this._delegate,He),this)}refFromURL(He){if(!Ke(He))throw(0,ye.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ye.gE.makeFromUrl(He,this._delegate.host)}catch{throw(0,ye.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new yt((0,ye.iH)(this._delegate,He),this)}setMaxUploadRetryTime(He){this._delegate.maxUploadRetryTime=He}setMaxOperationRetryTime(He){this._delegate.maxOperationRetryTime=He}useEmulator(He,We,Ue={}){(0,ye.a1)(this._delegate,He,We,Ue)}}function Ke(pe){return/^[A-Za-z]+:\/\//.test(pe)}function Me(pe,{instanceIdentifier:He}){const We=pe.getProvider("app-compat").getImmediate(),Ue=pe.getProvider("storage").getImmediate({identifier:He});return new De(We,Ue)}!function oe(pe){const He={TaskState:ye.$Y,TaskEvent:ye.FN,StringFormat:ye.bm,Storage:De,Reference:yt};pe.INTERNAL.registerComponent(new Ve.wA("storage-compat",Me,"PUBLIC").setServiceProps(He).setMultipleInstances(!0)),pe.registerVersion("@firebase/storage-compat","0.3.12")}(ce.Z);var ze=P(9260);function $e(pe){const He=function Xe(pe){return new G.y(He=>{const We=at=>He.next(at);We(pe.snapshot);const st=pe.on("state_changed",We);return pe.then(at=>{We(at),He.complete()},at=>{We(pe.snapshot),(at=>{He.error(at)})(at)}),function(){st()}}).pipe(function Qe(pe,He=Fe.z){return(0,le.e)((We,Ue)=>{let it=null,st=null,at=null;const Ct=()=>{if(it){it.unsubscribe(),it=null;const Tt=st;st=null,Ue.next(Tt)}};function Kt(){const Tt=at+pe,gn=He.now();if(gn<Tt)return it=this.schedule(void 0,Tt-gn),void Ue.add(it);Ct()}We.subscribe((0,qe.x)(Ue,Tt=>{st=Tt,at=He.now(),it||(it=He.schedule(Kt,pe),Ue.add(it))},()=>{Ct(),Ue.complete()},void 0,()=>{st=it=null}))})}(0))}(pe);return{task:pe,then:pe.then.bind(pe),catch:pe.catch.bind(pe),pause:pe.pause.bind(pe),cancel:pe.cancel.bind(pe),resume:pe.resume.bind(pe),snapshotChanges:()=>He,percentageChanges:()=>He.pipe((0,fe.U)(We=>We.bytesTransferred/We.totalBytes*100))}}function xe(pe){return{getDownloadURL:()=>(0,ue.of)(void 0).pipe(d.fc,(0,ae.w)(()=>pe.getDownloadURL()),d.iC),getMetadata:()=>(0,ue.of)(void 0).pipe(d.fc,(0,ae.w)(()=>pe.getMetadata()),d.iC),delete:()=>(0,Ae.D)(pe.delete()),child:He=>xe(pe.child(He)),updateMetadata:He=>(0,Ae.D)(pe.updateMetadata(He)),put:(He,We)=>$e(pe.put(He,We)),putString:(He,We,Ue)=>$e(pe.putString(He,We,Ue)),list:He=>(0,Ae.D)(pe.list(He)),listAll:()=>(0,Ae.D)(pe.listAll())}}const lt=new Se.OlP("angularfire2.storageBucket"),be=new Se.OlP("angularfire2.storage.maxUploadRetryTime"),he=new Se.OlP("angularfire2.storage.maxOperationRetryTime"),Z=new Se.OlP("angularfire2.storage.use-emulator");let M=(()=>{class pe{constructor(We,Ue,it,st,at,Ct,Kt,Tt,gn,yn){(0,c.Z)(this,"storage",void 0);const xt=(0,Ie.on)(We,at,Ue);this.storage=(0,Ie.cc)(`${xt.name}.storage.${it}`,"AngularFireStorage",xt.name,()=>{const Ht=at.runOutsideAngular(()=>xt.storage(it||void 0)),kt=gn;return kt&&Ht.useEmulator(...kt),Kt&&Ht.setMaxUploadRetryTime(Kt),Tt&&Ht.setMaxOperationRetryTime(Tt),Ht},[Kt,Tt])}ref(We){return xe(this.storage.ref(We))}refFromURL(We){return xe(this.storage.refFromURL(We))}upload(We,Ue,it){return xe(this.storage.ref(We)).put(Ue,it)}}return(0,c.Z)(pe,"\u0275fac",function(We){return new(We||pe)(Se.LFG(Ie.Dh),Se.LFG(Ie.xv,8),Se.LFG(lt,8),Se.LFG(Se.Lbi),Se.LFG(Se.R0b),Se.LFG(d.HU),Se.LFG(be,8),Se.LFG(he,8),Se.LFG(Z,8),Se.LFG(d.Rf,8))}),(0,c.Z)(pe,"\u0275prov",Se.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"any"})),pe})(),j=(()=>{class pe{}return(0,c.Z)(pe,"\u0275fac",function(We){return new(We||pe)}),(0,c.Z)(pe,"\u0275mod",Se.oAB({type:pe})),(0,c.Z)(pe,"\u0275inj",Se.cJS({})),pe})(),Oe=(()=>{class pe{constructor(){ze.Z.registerVersion("angularfire",d.q4.full,"gcs-compat")}}return(0,c.Z)(pe,"\u0275fac",function(We){return new(We||pe)}),(0,c.Z)(pe,"\u0275mod",Se.oAB({type:pe})),(0,c.Z)(pe,"\u0275inj",Se.cJS({providers:[M],imports:[j]})),pe})()},3593:(ln,gt,P)=>{"use strict";P.d(gt,{Dh:()=>Qe,GT:()=>le,cc:()=>ye,hO:()=>ce,on:()=>ae,pX:()=>Fe,xv:()=>fe});var c=P(1180),d=P(2223),G=P(6161),ue=P(9260);const Ae=["ngOnDestroy"],Fe=(ot,yt,De,Ke={})=>new Proxy(ot,{get:(Ge,Je)=>De.runOutsideAngular(()=>{if(ot[Je])return Ke?.spy?.get&&Ke.spy.get(Je,ot[Je]),ot[Je];if(Ae.indexOf(Je)>-1)return()=>{};const Ye=yt.toPromise().then(Me=>{const oe=Me?.[Je];return"function"==typeof oe?oe.bind(Me):oe?.then?oe.then(ze=>De.run(()=>ze)):De.run(()=>oe)});return new Proxy(()=>{},{get:(Me,oe)=>Ye[oe],apply:(Me,oe,ze)=>Ye.then(Xe=>{const $e=Xe?.(...ze);return Ke?.spy?.apply&&Ke.spy.apply(Je,ze,$e),$e})})})}),le=(ot,yt)=>{yt.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(Ke=>{Object.defineProperty(ot.prototype,Ke,Object.getOwnPropertyDescriptor(De.prototype||De,Ke))})})};class qe{constructor(yt){return yt}}const Qe=new d.OlP("angularfire2.app.options"),fe=new d.OlP("angularfire2.app.name");function ae(ot,yt,De){const Ge="object"==typeof De&&De||{};Ge.name=Ge.name||"string"==typeof De&&De||"[DEFAULT]";const Ye=ue.Z.apps.filter(Me=>Me&&Me.name===Ge.name)[0]||yt.runOutsideAngular(()=>ue.Z.initializeApp(ot,Ge));try{if(JSON.stringify(ot)!==JSON.stringify(Ye.options)){const Me=!!module.hot;Se("error",`${Ye.name} Firebase App already initialized with different options${Me?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qe(Ye)}const Se=(ot,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ot](...yt)},Ie={provide:qe,useFactory:ae,deps:[Qe,d.R0b,[new d.FiY,fe]]};let ce=(()=>{class ot{static initializeApp(De,Ke){return{ngModule:ot,providers:[{provide:Qe,useValue:De},{provide:fe,useValue:Ke}]}}constructor(De){ue.Z.registerVersion("angularfire",G.q4.full,"core"),ue.Z.registerVersion("angularfire",G.q4.full,"app-compat"),ue.Z.registerVersion("angular",d.q4F.full,De.toString())}}return(0,c.Z)(ot,"\u0275fac",function(De){return new(De||ot)(d.LFG(d.Lbi))}),(0,c.Z)(ot,"\u0275mod",d.oAB({type:ot})),(0,c.Z)(ot,"\u0275inj",d.cJS({providers:[Ie]})),ot})();function ye(ot,yt,De,Ke,Ge){const[,Je,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===ot)||[];if(Je)return function Ve(ot,yt){try{return ot.toString()===yt.toString()}catch{return ot===yt}}(Ge,Ye)||(Pe("error",`${yt} was already initialized on the ${De} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Ge,was:Ye})),Je;{const Me=Ke();return globalThis.\u0275AngularfireInstanceCache.push([ot,Me,Ge]),Me}}const Ce=typeof module<"u"&&!!module.hot,Pe=(ot,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ot](...yt)};globalThis.\u0275AngularfireInstanceCache||=[]},6161:(ln,gt,P)=>{"use strict";P.d(gt,{q4:()=>ye,iC:()=>$e,fc:()=>ze,HU:()=>Je,Rf:()=>ot,vb:()=>Pe,JM:()=>Ce,af:()=>Ve,u3:()=>be});var c=P(1180),d=P(2223),G=P(259),ue=P(4408),Fe=P(7565);const qe=new class le extends Fe.v{}(class Ae extends ue.o{constructor(Z,M){super(Z,M),this.scheduler=Z,this.work=M}schedule(Z,M=0){return M>0?super.schedule(Z,M):(this.delay=M,this.state=Z,this.scheduler.flush(this),this)}execute(Z,M){return M>0||this.closed?super.execute(Z,M):this._execute(Z,M)}requestAsyncId(Z,M,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(Z,M,A):(Z.flush(this),0)}});var fe=P(4986),ae=P(9751),Se=P(8505),Ie=P(5363),ce=P(9468);const ye=new d.GfV("ANGULARFIRE2_VERSION"),Ve=he=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${he} in the constructor, first ensure that ${he} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${he})\`.`;function Ce(he,Z,M){if(Z){if(1===Z.length)return Z[0];const Oe=Z.filter(pe=>pe.app===M);if(1===Oe.length)return Oe[0]}return M.container.getProvider(he).getImmediate({optional:!0})}const Pe=(he,Z)=>{const M=Z?[Z]:(0,G.C6)(),A=[];return M.forEach(j=>{j.container.getProvider(he).instances.forEach(pe=>{A.includes(pe)||A.push(pe)})}),A};class ot{constructor(){return Pe(yt)}}const yt="app-check";function De(){}class Ke{constructor(Z,M=qe){(0,c.Z)(this,"zone",void 0),(0,c.Z)(this,"delegate",void 0),this.zone=Z,this.delegate=M}now(){return this.delegate.now()}schedule(Z,M,A){const j=this.zone;return this.delegate.schedule(function(pe){j.runGuarded(()=>{Z.apply(this,[pe])})},M,A)}}class Ge{constructor(Z){(0,c.Z)(this,"zone",void 0),(0,c.Z)(this,"task",null),this.zone=Z}call(Z,M){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",De,{},De,De)),M.pipe((0,Se.b)({next:A,complete:A,error:A})).subscribe(Z).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Je=(()=>{class he{constructor(M){(0,c.Z)(this,"ngZone",void 0),(0,c.Z)(this,"outsideAngular",void 0),(0,c.Z)(this,"insideAngular",void 0),this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ke(Zone.current)),this.insideAngular=M.run(()=>new Ke(Zone.current,fe.z)),globalThis.\u0275AngularFireScheduler||=this}}return(0,c.Z)(he,"\u0275fac",function(M){return new(M||he)(d.LFG(d.R0b))}),(0,c.Z)(he,"\u0275prov",d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})),he})();function Ye(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return he}function oe(he){return Ye().ngZone.run(()=>he())}function ze(he){return he.pipe((0,Ie.Q)(Ye().outsideAngular))}function $e(he){return function xe(he){return function(M){return(M=M.lift(new Ge(he.ngZone))).pipe((0,ce.R)(he.outsideAngular),(0,Ie.Q)(he.insideAngular))}}(Ye())(he)}const lt=(he,Z)=>function(){const A=arguments;return Z&&setTimeout(()=>{"scheduled"===Z.state&&Z.invoke()},10),oe(()=>he.apply(void 0,A))},be=(he,Z)=>function(){let M;const A=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof A[Oe]&&(Z&&(M||=oe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",De,{},De,De))),A[Oe]=lt(A[Oe],M));const j=function Me(he){return Ye().ngZone.runOutsideAngular(()=>he())}(()=>he.apply(this,A));if(!Z){if(j instanceof ae.y){const Oe=Ye();return j.pipe((0,ce.R)(Oe.outsideAngular),(0,Ie.Q)(Oe.insideAngular))}return oe(()=>j)}return j instanceof ae.y?j.pipe($e):j instanceof Promise?oe(()=>new Promise((Oe,pe)=>j.then(He=>oe(()=>Oe(He)),He=>oe(()=>pe(He))))):"function"==typeof j&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),j.apply(this,arguments)}:oe(()=>j)}},5030:(ln,gt,P)=>{"use strict";P.d(gt,{on:()=>bi,NI:()=>dt,u:()=>To,cw:()=>ft,sg:()=>ro,u5:()=>jr,nD:()=>Lo,wO:()=>mi,JU:()=>ye,a5:()=>xn,JJ:()=>wn,JL:()=>En,F:()=>_t,On:()=>Ur,UX:()=>_i,Q7:()=>kr,kI:()=>oe,_Y:()=>Zr});var c=P(2223),d=P(4755),G=P(8996),ue=P(9751),Ae=P(4742),Fe=P(8421),le=P(7669),qe=P(5403),Qe=P(3268),fe=P(1810),Se=P(4004);let Ie=(()=>{class W{constructor(U,we){this._renderer=U,this._elementRef=we,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(U,we){this._renderer.setProperty(this._elementRef.nativeElement,U,we)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(c.Qsj),c.Y36(c.SBq))},W.\u0275dir=c.lG2({type:W}),W})(),ce=(()=>{class W extends Ie{}return W.\u0275fac=function(){let H;return function(we){return(H||(H=c.n5z(W)))(we||W)}}(),W.\u0275dir=c.lG2({type:W,features:[c.qOj]}),W})();const ye=new c.OlP("NgValueAccessor"),Pe={provide:ye,useExisting:(0,c.Gpc)(()=>De),multi:!0},yt=new c.OlP("CompositionEventMode");let De=(()=>{class W extends Ie{constructor(U,we,Wt){super(U,we),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ot(){const W=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(yt,8))},W.\u0275dir=c.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,we){1&U&&c.NdJ("input",function(Rn){return we._handleInput(Rn.target.value)})("blur",function(){return we.onTouched()})("compositionstart",function(){return we._compositionStart()})("compositionend",function(Rn){return we._compositionEnd(Rn.target.value)})},features:[c._Bn([Pe]),c.qOj]}),W})();function Ke(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Ge(W){return null!=W&&"number"==typeof W.length}const Je=new c.OlP("NgValidators"),Ye=new c.OlP("NgAsyncValidators"),Me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(H){return function ze(W){return H=>{if(Ke(H.value)||Ke(W))return null;const U=parseFloat(H.value);return!isNaN(U)&&U<W?{min:{min:W,actual:H.value}}:null}}(H)}static max(H){return function Xe(W){return H=>{if(Ke(H.value)||Ke(W))return null;const U=parseFloat(H.value);return!isNaN(U)&&U>W?{max:{max:W,actual:H.value}}:null}}(H)}static required(H){return $e(H)}static requiredTrue(H){return function xe(W){return!0===W.value?null:{required:!0}}(H)}static email(H){return lt(H)}static minLength(H){return be(H)}static maxLength(H){return he(H)}static pattern(H){return function Z(W){if(!W)return M;let H,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),H=new RegExp(U)):(U=W.toString(),H=W),we=>{if(Ke(we.value))return null;const Wt=we.value;return H.test(Wt)?null:{pattern:{requiredPattern:U,actualValue:Wt}}}}(H)}static nullValidator(H){return null}static compose(H){return Ue(H)}static composeAsync(H){return st(H)}}function $e(W){return Ke(W.value)?{required:!0}:null}function lt(W){return Ke(W.value)||Me.test(W.value)?null:{email:!0}}function be(W){return H=>Ke(H.value)||!Ge(H.value)?null:H.value.length<W?{minlength:{requiredLength:W,actualLength:H.value.length}}:null}function he(W){return H=>Ge(H.value)&&H.value.length>W?{maxlength:{requiredLength:W,actualLength:H.value.length}}:null}function M(W){return null}function A(W){return null!=W}function j(W){return(0,c.QGY)(W)?(0,G.D)(W):W}function Oe(W){let H={};return W.forEach(U=>{H=null!=U?{...H,...U}:H}),0===Object.keys(H).length?null:H}function pe(W,H){return H.map(U=>U(W))}function We(W){return W.map(H=>function He(W){return!W.validate}(H)?H:U=>H.validate(U))}function Ue(W){if(!W)return null;const H=W.filter(A);return 0==H.length?null:function(U){return Oe(pe(U,H))}}function it(W){return null!=W?Ue(We(W)):null}function st(W){if(!W)return null;const H=W.filter(A);return 0==H.length?null:function(U){return function ae(...W){const H=(0,le.jO)(W),{args:U,keys:we}=(0,Ae.D)(W),Wt=new ue.y(Rn=>{const{length:yi}=U;if(!yi)return void Rn.complete();const Vo=new Array(yi);let qo=yi,Oi=yi;for(let Xi=0;Xi<yi;Xi++){let Ri=!1;(0,Fe.Xf)(U[Xi]).subscribe((0,qe.x)(Rn,so=>{Ri||(Ri=!0,Oi--),Vo[Xi]=so},()=>qo--,void 0,()=>{(!qo||!Ri)&&(Oi||Rn.next(we?(0,fe.n)(we,Vo):Vo),Rn.complete())}))}});return H?Wt.pipe((0,Qe.Z)(H)):Wt}(pe(U,H).map(j)).pipe((0,Se.U)(Oe))}}function at(W){return null!=W?st(We(W)):null}function Ct(W,H){return null===W?[H]:Array.isArray(W)?[...W,H]:[W,H]}function Kt(W){return W._rawValidators}function Tt(W){return W._rawAsyncValidators}function gn(W){return W?Array.isArray(W)?W:[W]:[]}function yn(W,H){return Array.isArray(W)?W.includes(H):W===H}function xt(W,H){const U=gn(H);return gn(W).forEach(Wt=>{yn(U,Wt)||U.push(Wt)}),U}function Ht(W,H){return gn(H).filter(U=>!yn(W,U))}class kt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=it(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=at(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H=void 0){this.control&&this.control.reset(H)}hasError(H,U){return!!this.control&&this.control.hasError(H,U)}getError(H,U){return this.control?this.control.getError(H,U):null}}class cn extends kt{get formDirective(){return null}get path(){return null}}class xn extends kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class On{constructor(H){this._cd=H}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wn=(()=>{class W extends On{constructor(U){super(U)}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(xn,2))},W.\u0275dir=c.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,we){2&U&&c.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)},features:[c.qOj]}),W})(),En=(()=>{class W extends On{constructor(U){super(U)}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(cn,10))},W.\u0275dir=c.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,we){2&U&&c.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)("ng-submitted",we.isSubmitted)},features:[c.qOj]}),W})();const ti="VALID",vr="INVALID",Cr="PENDING",Kn="DISABLED";function dn(W){return($(W)?W.validators:W)||null}function F(W,H){return($(H)?H.asyncValidators:W)||null}function $(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class de{constructor(H,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(H),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===ti}get invalid(){return this.status===vr}get pending(){return this.status==Cr}get disabled(){return this.status===Kn}get enabled(){return this.status!==Kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._assignValidators(H)}setAsyncValidators(H){this._assignAsyncValidators(H)}addValidators(H){this.setValidators(xt(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(xt(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(Ht(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(Ht(H,this._rawAsyncValidators))}hasValidator(H){return yn(this._rawValidators,H)}hasAsyncValidator(H){return yn(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=Cr,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=Kn,this.errors=null,this._forEachChild(we=>{we.disable({...H,onlySelf:!0})}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(we=>we(!0))}enable(H={}){const U=this._parentMarkedDirty(H.onlySelf);this.status=ti,this._forEachChild(we=>{we.enable({...H,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors({...H,skipPristineCheck:U}),this._onDisabledChange.forEach(we=>we(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}getRawValue(){return this.value}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ti||this.status===Cr)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kn:ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=Cr,this._hasOwnPendingAsyncValidator=!0;const U=j(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(we=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(we,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,U={}){this.errors=H,this._updateControlsErrors(!1!==U.emitEvent)}get(H){let U=H;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((we,Wt)=>we&&we._find(Wt),this)}getError(H,U){const we=U?this.get(U):this;return we&&we.errors?we.errors[H]:null}hasError(H,U){return!!this.getError(H,U)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Kn:this.errors?vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cr)?Cr:this._anyControlsHaveStatus(vr)?vr:ti}_anyControlsHaveStatus(H){return this._anyControls(U=>U.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){$(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(H){return null}_assignValidators(H){this._rawValidators=Array.isArray(H)?H.slice():H,this._composedValidatorFn=function et(W){return Array.isArray(W)?it(W):W||null}(this._rawValidators)}_assignAsyncValidators(H){this._rawAsyncValidators=Array.isArray(H)?H.slice():H,this._composedAsyncValidatorFn=function S(W){return Array.isArray(W)?at(W):W||null}(this._rawAsyncValidators)}}class ft extends de{constructor(H,U,we){super(dn(U),F(we,U)),this.controls=H,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,U){return this.controls[H]?this.controls[H]:(this.controls[H]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(H,U,we={}){this.registerControl(H,U),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}removeControl(H,U={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(H,U,we={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],U&&this.registerControl(H,U),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,U={}){(function z(W,H,U){W._forEachChild((we,Wt)=>{if(void 0===U[Wt])throw new c.vHH(1002,"")})})(this,0,H),Object.keys(H).forEach(we=>{(function K(W,H,U){const we=W.controls;if(!(H?Object.keys(we):we).length)throw new c.vHH(1e3,"");if(!we[U])throw new c.vHH(1001,"")})(this,!0,we),this.controls[we].setValue(H[we],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(H,U={}){null!=H&&(Object.keys(H).forEach(we=>{const Wt=this.controls[we];Wt&&Wt.patchValue(H[we],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(H={},U={}){this._forEachChild((we,Wt)=>{we.reset(H[Wt],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(H,U,we)=>(H[we]=U.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(U,we)=>!!we._syncPendingControls()||U);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(U=>{const we=this.controls[U];we&&H(we,U)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const[U,we]of Object.entries(this.controls))if(this.contains(U)&&H(we))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,we,Wt)=>((we.enabled||this.disabled)&&(U[Wt]=we.value),U))}_reduceChildren(H,U){let we=H;return this._forEachChild((Wt,Rn)=>{we=U(we,Wt,Rn)}),we}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(H){return this.controls.hasOwnProperty(H)?this.controls[H]:null}}const en=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ir}),ir="always";function fr(W,H){return[...H.path,W]}function $r(W,H,U=ir){Pr(W,H),H.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&H.valueAccessor.setDisabledState?.(W.disabled),function Yr(W,H){H.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Wr(W,H)})}(W,H),function gr(W,H){const U=(we,Wt)=>{H.valueAccessor.writeValue(we),Wt&&H.viewToModelUpdate(we)};W.registerOnChange(U),H._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,H),function Eo(W,H){H.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Wr(W,H),"submit"!==W.updateOn&&W.markAsTouched()})}(W,H),function Si(W,H){if(H.valueAccessor.setDisabledState){const U=we=>{H.valueAccessor.setDisabledState(we)};W.registerOnDisabledChange(U),H._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,H)}function ni(W,H,U=!0){const we=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(we),H.valueAccessor.registerOnTouched(we)),Tr(W,H),W&&(H._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Ai(W,H){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(H)})}function Pr(W,H){const U=Kt(W);null!==H.validator?W.setValidators(Ct(U,H.validator)):"function"==typeof U&&W.setValidators([U]);const we=Tt(W);null!==H.asyncValidator?W.setAsyncValidators(Ct(we,H.asyncValidator)):"function"==typeof we&&W.setAsyncValidators([we]);const Wt=()=>W.updateValueAndValidity();Ai(H._rawValidators,Wt),Ai(H._rawAsyncValidators,Wt)}function Tr(W,H){let U=!1;if(null!==W){if(null!==H.validator){const Wt=Kt(W);if(Array.isArray(Wt)&&Wt.length>0){const Rn=Wt.filter(yi=>yi!==H.validator);Rn.length!==Wt.length&&(U=!0,W.setValidators(Rn))}}if(null!==H.asyncValidator){const Wt=Tt(W);if(Array.isArray(Wt)&&Wt.length>0){const Rn=Wt.filter(yi=>yi!==H.asyncValidator);Rn.length!==Wt.length&&(U=!0,W.setAsyncValidators(Rn))}}}const we=()=>{};return Ai(H._rawValidators,we),Ai(H._rawAsyncValidators,we),U}function Wr(W,H){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function dr(W,H){Pr(W,H)}function Ii(W,H){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(H,U.currentValue)}function di(W,H){W._syncPendingControls(),H.forEach(U=>{const we=U.control;"submit"===we.updateOn&&we._pendingChange&&(U.viewToModelUpdate(we._pendingValue),we._pendingChange=!1)})}function Hi(W,H){if(!H)return null;let U,we,Wt;return Array.isArray(H),H.forEach(Rn=>{Rn.constructor===De?U=Rn:function Vi(W){return Object.getPrototypeOf(W.constructor)===ce}(Rn)?we=Rn:Wt=Rn}),Wt||we||U||null}const me={provide:cn,useExisting:(0,c.Gpc)(()=>_t)},je=(()=>Promise.resolve())();let _t=(()=>{class W extends cn{constructor(U,we,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ft({},it(U),at(we))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){je.then(()=>{const we=this._findContainer(U.path);U.control=we.registerControl(U.name,U.control),$r(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){je.then(()=>{const we=this._findContainer(U.path);we&&we.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){je.then(()=>{const we=this._findContainer(U.path),Wt=new ft({});dr(Wt,U),we.registerControl(U.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){je.then(()=>{const we=this._findContainer(U.path);we&&we.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,we){je.then(()=>{this.form.get(U.path).setValue(we)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,di(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(Je,10),c.Y36(Ye,10),c.Y36(en,8))},W.\u0275dir=c.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,we){1&U&&c.NdJ("submit",function(Rn){return we.onSubmit(Rn)})("reset",function(){return we.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([me]),c.qOj]}),W})();function Ne(W,H){const U=W.indexOf(H);U>-1&&W.splice(U,1)}function ut(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const dt=class extends de{constructor(H=null,U,we){super(dn(U),F(we,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=ut(H)?H.value:H)}setValue(H,U={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(we=>we(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(H,U={}){this.setValue(H,U)}reset(H=this.defaultValue,U={}){this._applyFormState(H),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Ne(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Ne(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){ut(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}},ai={provide:xn,useExisting:(0,c.Gpc)(()=>Ur)},Ar=(()=>Promise.resolve())();let Ur=(()=>{class W extends xn{constructor(U,we,Wt,Rn,yi,Vo){super(),this._changeDetectorRef=yi,this.callSetDisabledState=Vo,this.control=new dt,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=U,this._setValidators(we),this._setAsyncValidators(Wt),this.valueAccessor=Hi(0,Rn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const we=U.name.previousValue;this.formDirective.removeControl({name:we,path:this._getPath(we)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Ii(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$r(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Ar.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const we=U.isDisabled.currentValue,Wt=0!==we&&(0,c.D6c)(we);Ar.then(()=>{Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?fr(U,this._parent):[U]}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(cn,9),c.Y36(Je,10),c.Y36(Ye,10),c.Y36(ye,10),c.Y36(c.sBO,8),c.Y36(en,8))},W.\u0275dir=c.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ai]),c.qOj,c.TTD]}),W})(),Zr=(()=>{class W{}return W.\u0275fac=function(U){return new(U||W)},W.\u0275dir=c.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),mr=(()=>{class W{}return W.\u0275fac=function(U){return new(U||W)},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({}),W})();const Or=new c.OlP("NgModelWithFormControlWarning"),Qn={provide:cn,useExisting:(0,c.Gpc)(()=>ro)};let ro=(()=>{class W extends cn{constructor(U,we,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(U),this._setAsyncValidators(we)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const we=this.form.get(U.path);return $r(we,U,this.callSetDisabledState),we.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),we}getControl(U){return this.form.get(U.path)}removeControl(U){ni(U.control||null,U,!1),function co(W,H){const U=W.indexOf(H);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,we){this.form.get(U.path).setValue(we)}onSubmit(U){return this.submitted=!0,di(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const we=U.control,Wt=this.form.get(U.path);we!==Wt&&(ni(we||null,U),(W=>W instanceof dt)(Wt)&&($r(Wt,U,this.callSetDisabledState),U.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const we=this.form.get(U.path);dr(we,U),we.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const we=this.form.get(U.path);we&&function Oo(W,H){return Tr(W,H)}(we,U)&&we.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pr(this.form,this),this._oldForm&&Tr(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(U){return new(U||W)(c.Y36(Je,10),c.Y36(Ye,10),c.Y36(en,8))},W.\u0275dir=c.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(U,we){1&U&&c.NdJ("submit",function(Rn){return we.onSubmit(Rn)})("reset",function(){return we.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Qn]),c.qOj,c.TTD]}),W})();const io={provide:xn,useExisting:(0,c.Gpc)(()=>To)};let To=(()=>{class W extends xn{set isDisabled(U){}constructor(U,we,Wt,Rn,yi){super(),this._ngModelWarningConfig=yi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(we),this._setAsyncValidators(Wt),this.valueAccessor=Hi(0,Rn)}ngOnChanges(U){this._added||this._setUpControl(),Ii(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(U){return new(U||W)(c.Y36(cn,13),c.Y36(Je,10),c.Y36(Ye,10),c.Y36(ye,10),c.Y36(Or,8))},W.\u0275dir=c.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([io]),c.qOj,c.TTD]}),W})();function fn(W){return"number"==typeof W?W:parseInt(W,10)}let bn=(()=>{class W{constructor(){this._validator=M}ngOnChanges(U){if(this.inputName in U){const we=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(we),this._validator=this._enabled?this.createValidator(we):M,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}}return W.\u0275fac=function(U){return new(U||W)},W.\u0275dir=c.lG2({type:W,features:[c.TTD]}),W})();const Gn={provide:Je,useExisting:(0,c.Gpc)(()=>kr),multi:!0};let kr=(()=>{class W extends bn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=U=>$e}enabled(U){return U}}return W.\u0275fac=function(){let H;return function(we){return(H||(H=c.n5z(W)))(we||W)}}(),W.\u0275dir=c.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(U,we){2&U&&c.uIk("required",we._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Gn]),c.qOj]}),W})();const Zi={provide:Je,useExisting:(0,c.Gpc)(()=>bi),multi:!0};let bi=(()=>{class W extends bn{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=U=>lt}enabled(U){return U}}return W.\u0275fac=function(){let H;return function(we){return(H||(H=c.n5z(W)))(we||W)}}(),W.\u0275dir=c.lG2({type:W,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([Zi]),c.qOj]}),W})();const Ci={provide:Je,useExisting:(0,c.Gpc)(()=>mi),multi:!0};let mi=(()=>{class W extends bn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=U=>fn(U),this.createValidator=U=>be(U)}}return W.\u0275fac=function(){let H;return function(we){return(H||(H=c.n5z(W)))(we||W)}}(),W.\u0275dir=c.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(U,we){2&U&&c.uIk("minlength",we._enabled?we.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([Ci]),c.qOj]}),W})();const Ao={provide:Je,useExisting:(0,c.Gpc)(()=>Lo),multi:!0};let Lo=(()=>{class W extends bn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=U=>fn(U),this.createValidator=U=>he(U)}}return W.\u0275fac=function(){let H;return function(we){return(H||(H=c.n5z(W)))(we||W)}}(),W.\u0275dir=c.lG2({type:W,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(U,we){2&U&&c.uIk("maxlength",we._enabled?we.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([Ao]),c.qOj]}),W})(),Y=(()=>{class W{}return W.\u0275fac=function(U){return new(U||W)},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({imports:[mr]}),W})(),jr=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:en,useValue:U.callSetDisabledState??ir}]}}}return W.\u0275fac=function(U){return new(U||W)},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({imports:[Y]}),W})(),_i=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Or,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:en,useValue:U.callSetDisabledState??ir}]}}}return W.\u0275fac=function(U){return new(U||W)},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({imports:[Y]}),W})()},6550:(ln,gt,P)=>{"use strict";P.d(gt,{Dx:()=>xn,b2:()=>yn,q6:()=>Ct});var c=P(2223),d=P(4755);class G extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends G{static makeCurrent(){(0,d.HT)(new ue)}onAndCancel(F,S,$){return F.addEventListener(S,$),()=>{F.removeEventListener(S,$)}}dispatchEvent(F,S){F.dispatchEvent(S)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,S){return(S=S||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,S){return"window"===S?window:"document"===S?F:"body"===S?F.body:null}getBaseHref(F){const S=function Fe(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==S?null:function qe(et){le=le||document.createElement("a"),le.setAttribute("href",et);const F=le.pathname;return"/"===F.charAt(0)?F:`/${F}`}(S)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,d.Mx)(document.cookie,F)}}let le,Ae=null,fe=(()=>{class et{build(){return new XMLHttpRequest}}return et.\u0275fac=function(S){return new(S||et)},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();const ae=new c.OlP("EventManagerPlugins");let Se=(()=>{class et{constructor(S,$){this._zone=$,this._eventNameToPlugin=new Map,S.forEach(K=>{K.manager=this}),this._plugins=S.slice().reverse()}addEventListener(S,$,K){return this._findPluginFor($).addEventListener(S,$,K)}getZone(){return this._zone}_findPluginFor(S){let $=this._eventNameToPlugin.get(S);if($)return $;if($=this._plugins.find(z=>z.supports(S)),!$)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(S,$),$}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(ae),c.LFG(c.R0b))},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();class Ie{constructor(F){this._doc=F}}const ce="ng-app-id";let ye=(()=>{class et{constructor(S,$,K,z={}){this.doc=S,this.appId=$,this.nonce=K,this.platformId=z,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.PM)(z),this.resetHostNodes()}addStyles(S){for(const $ of S)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(S){for(const $ of S)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const S=this.styleNodesInDOM;S&&(S.forEach($=>$.remove()),S.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(S){this.hostNodes.add(S);for(const $ of this.getAllStyles())this.addStyleToHost(S,$)}removeHost(S){this.hostNodes.delete(S)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(S){for(const $ of this.hostNodes)this.addStyleToHost($,S)}onStyleRemoved(S){const $=this.styleRef;$.get(S)?.elements?.forEach(K=>K.remove()),$.delete(S)}collectServerRenderedStyles(){const S=this.doc.head?.querySelectorAll(`style[${ce}="${this.appId}"]`);if(S?.length){const $=new Map;return S.forEach(K=>{null!=K.textContent&&$.set(K.textContent,K)}),$}return null}changeUsageCount(S,$){const K=this.styleRef;if(K.has(S)){const z=K.get(S);return z.usage+=$,z.usage}return K.set(S,{usage:$,elements:[]}),$}getStyleElement(S,$){const K=this.styleNodesInDOM,z=K?.get($);if(z?.parentNode===S)return K.delete($),z.removeAttribute(ce),z;{const de=this.doc.createElement("style");return this.nonce&&de.setAttribute("nonce",this.nonce),de.textContent=$,this.platformIsServer&&de.setAttribute(ce,this.appId),de}}addStyleToHost(S,$){const K=this.getStyleElement(S,$);S.appendChild(K);const z=this.styleRef,de=z.get($)?.elements;de?de.push(K):z.set($,{elements:[K],usage:1})}resetHostNodes(){const S=this.hostNodes;S.clear(),S.add(this.doc.head)}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(d.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();const Ve={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ce=/%COMP%/g,Ke=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ye(et,F){return F.map(S=>S.replace(Ce,et))}let Me=(()=>{class et{constructor(S,$,K,z,de,ft,St,Ot=null){this.eventManager=S,this.sharedStylesHost=$,this.appId=K,this.removeStylesOnCompDestory=z,this.doc=de,this.platformId=ft,this.ngZone=St,this.nonce=Ot,this.rendererByCompId=new Map,this.platformIsServer=(0,d.PM)(ft),this.defaultRenderer=new oe(S,de,St,this.platformIsServer)}createRenderer(S,$){if(!S||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===c.ifc.ShadowDom&&($={...$,encapsulation:c.ifc.Emulated});const K=this.getOrCreateRenderer(S,$);return K instanceof be?K.applyToHost(S):K instanceof lt&&K.applyStyles(),K}getOrCreateRenderer(S,$){const K=this.rendererByCompId;let z=K.get($.id);if(!z){const de=this.doc,ft=this.ngZone,St=this.eventManager,Ot=this.sharedStylesHost,Gt=this.removeStylesOnCompDestory,Hn=this.platformIsServer;switch($.encapsulation){case c.ifc.Emulated:z=new be(St,Ot,$,this.appId,Gt,de,ft,Hn);break;case c.ifc.ShadowDom:return new xe(St,Ot,S,$,de,ft,this.nonce,Hn);default:z=new lt(St,Ot,$,Gt,de,ft,Hn)}z.onDestroy=()=>K.delete($.id),K.set($.id,z)}return z}ngOnDestroy(){this.rendererByCompId.clear()}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(Se),c.LFG(ye),c.LFG(c.AFp),c.LFG(Ke),c.LFG(d.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();class oe{constructor(F,S,$,K){this.eventManager=F,this.doc=S,this.ngZone=$,this.platformIsServer=K,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,S){return S?this.doc.createElementNS(Ve[S]||S,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,S){($e(F)?F.content:F).appendChild(S)}insertBefore(F,S,$){F&&($e(F)?F.content:F).insertBefore(S,$)}removeChild(F,S){F&&F.removeChild(S)}selectRootElement(F,S){let $="string"==typeof F?this.doc.querySelector(F):F;if(!$)throw new c.vHH(5104,!1);return S||($.textContent=""),$}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,S,$,K){if(K){S=K+":"+S;const z=Ve[K];z?F.setAttributeNS(z,S,$):F.setAttribute(S,$)}else F.setAttribute(S,$)}removeAttribute(F,S,$){if($){const K=Ve[$];K?F.removeAttributeNS(K,S):F.removeAttribute(`${$}:${S}`)}else F.removeAttribute(S)}addClass(F,S){F.classList.add(S)}removeClass(F,S){F.classList.remove(S)}setStyle(F,S,$,K){K&(c.JOm.DashCase|c.JOm.Important)?F.style.setProperty(S,$,K&c.JOm.Important?"important":""):F.style[S]=$}removeStyle(F,S,$){$&c.JOm.DashCase?F.style.removeProperty(S):F.style[S]=""}setProperty(F,S,$){F[S]=$}setValue(F,S){F.nodeValue=S}listen(F,S,$){if("string"==typeof F&&!(F=(0,d.q)().getGlobalEventTarget(this.doc,F)))throw new Error(`Unsupported event target ${F} for event ${S}`);return this.eventManager.addEventListener(F,S,this.decoratePreventDefault($))}decoratePreventDefault(F){return S=>{if("__ngUnwrap__"===S)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(S)):F(S))&&S.preventDefault()}}}function $e(et){return"TEMPLATE"===et.tagName&&void 0!==et.content}class xe extends oe{constructor(F,S,$,K,z,de,ft,St){super(F,z,de,St),this.sharedStylesHost=S,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=Ye(K.id,K.styles);for(const Gt of Ot){const Hn=document.createElement("style");ft&&Hn.setAttribute("nonce",ft),Hn.textContent=Gt,this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,S){return super.appendChild(this.nodeOrShadowRoot(F),S)}insertBefore(F,S,$){return super.insertBefore(this.nodeOrShadowRoot(F),S,$)}removeChild(F,S){return super.removeChild(this.nodeOrShadowRoot(F),S)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lt extends oe{constructor(F,S,$,K,z,de,ft,St){super(F,z,de,ft),this.sharedStylesHost=S,this.removeStylesOnCompDestory=K,this.rendererUsageCount=0,this.styles=St?Ye(St,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class be extends lt{constructor(F,S,$,K,z,de,ft,St){const Ot=K+"-"+$.id;super(F,S,$,z,de,ft,St,Ot),this.contentAttr=function Ge(et){return"_ngcontent-%COMP%".replace(Ce,et)}(Ot),this.hostAttr=function Je(et){return"_nghost-%COMP%".replace(Ce,et)}(Ot)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,S){const $=super.createElement(F,S);return super.setAttribute($,this.contentAttr,""),$}}let he=(()=>{class et extends Ie{constructor(S){super(S)}supports(S){return!0}addEventListener(S,$,K){return S.addEventListener($,K,!1),()=>this.removeEventListener(S,$,K)}removeEventListener(S,$,K){return S.removeEventListener($,K)}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(d.K0))},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();const Z=["alt","control","meta","shift"],M={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A={alt:et=>et.altKey,control:et=>et.ctrlKey,meta:et=>et.metaKey,shift:et=>et.shiftKey};let j=(()=>{class et extends Ie{constructor(S){super(S)}supports(S){return null!=et.parseEventName(S)}addEventListener(S,$,K){const z=et.parseEventName($),de=et.eventCallback(z.fullKey,K,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(S,z.domEventName,de))}static parseEventName(S){const $=S.toLowerCase().split("."),K=$.shift();if(0===$.length||"keydown"!==K&&"keyup"!==K)return null;const z=et._normalizeKey($.pop());let de="",ft=$.indexOf("code");if(ft>-1&&($.splice(ft,1),de="code."),Z.forEach(Ot=>{const Gt=$.indexOf(Ot);Gt>-1&&($.splice(Gt,1),de+=Ot+".")}),de+=z,0!=$.length||0===z.length)return null;const St={};return St.domEventName=K,St.fullKey=de,St}static matchEventFullKeyCode(S,$){let K=M[S.key]||S.key,z="";return $.indexOf("code.")>-1&&(K=S.code,z="code."),!(null==K||!K)&&(K=K.toLowerCase()," "===K?K="space":"."===K&&(K="dot"),Z.forEach(de=>{de!==K&&(0,A[de])(S)&&(z+=de+".")}),z+=K,z===$)}static eventCallback(S,$,K){return z=>{et.matchEventFullKeyCode(z,S)&&K.runGuarded(()=>$(z))}}static _normalizeKey(S){return"esc"===S?"escape":S}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(d.K0))},et.\u0275prov=c.Yz7({token:et,factory:et.\u0275fac}),et})();const Ct=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:d.bD},{provide:c.g9A,useValue:function Ue(){ue.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function st(){return(0,c.RDi)(document),document},deps:[]}]),Kt=new c.OlP(""),Tt=[{provide:c.rWj,useClass:class Qe{addToWindow(F){c.dqk.getAngularTestability=($,K=!0)=>{const z=F.findTestabilityInTree($,K);if(null==z)throw new c.vHH(5103,!1);return z},c.dqk.getAllAngularTestabilities=()=>F.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>F.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push($=>{const K=c.dqk.getAllAngularTestabilities();let z=K.length,de=!1;const ft=function(St){de=de||St,z--,0==z&&$(de)};K.forEach(function(St){St.whenStable(ft)})})}findTestabilityInTree(F,S,$){return null==S?null:F.getTestability(S)??($?(0,d.q)().isShadowRoot(S)?this.findTestabilityInTree(F,S.host,!0):this.findTestabilityInTree(F,S.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],gn=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function it(){return new c.qLn},deps:[]},{provide:ae,useClass:he,multi:!0,deps:[d.K0,c.R0b,c.Lbi]},{provide:ae,useClass:j,multi:!0,deps:[d.K0]},Me,ye,Se,{provide:c.FYo,useExisting:Me},{provide:d.JF,useClass:fe,deps:[]},[]];let yn=(()=>{class et{constructor(S){}static withServerTransition(S){return{ngModule:et,providers:[{provide:c.AFp,useValue:S.appId}]}}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(Kt,12))},et.\u0275mod=c.oAB({type:et}),et.\u0275inj=c.cJS({providers:[...gn,...Tt],imports:[d.ez,c.hGG]}),et})(),xn=(()=>{class et{constructor(S){this._doc=S}getTitle(){return this._doc.title}setTitle(S){this._doc.title=S||""}}return et.\u0275fac=function(S){return new(S||et)(c.LFG(d.K0))},et.\u0275prov=c.Yz7({token:et,factory:function(S){let $=null;return $=S?new S:function cn(){return new xn((0,c.LFG)(d.K0))}(),$},providedIn:"root"}),et})();typeof window<"u"&&window},4517:(ln,gt,P)=>{"use strict";P.d(gt,{gz:()=>mr,y6:()=>Fr,OD:()=>Vi,eC:()=>Ue,wm:()=>Kr,wN:()=>jt,F0:()=>Ui,rH:()=>Ko,Bz:()=>la,Hx:()=>In});var c=P(2223),d=P(9751),G=P(576),Ae=P(8996),Fe=P(9646),le=P(1135),qe=P(9841),Qe=P(6805),fe=P(7272),ae=P(8421);function Se(T){return new d.y(R=>{(0,ae.Xf)(T()).subscribe(R)})}var Ie=P(9635);function ce(T,R){const E=(0,G.m)(T)?T:()=>T,N=re=>re.error(E());return new d.y(R?re=>R.schedule(N,0,re):N)}var ye=P(515),Ve=P(727),Ce=P(4482),Pe=P(5403);function ot(){return(0,Ce.e)((T,R)=>{let E=null;T._refCount++;const N=(0,Pe.x)(R,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(E=null);const re=T._connection,Re=E;E=null,re&&(!Re||re===Re)&&re.unsubscribe(),R.unsubscribe()});T.subscribe(N),N.closed||(E=T.connect())})}class yt extends d.y{constructor(R,E){super(),this.source=R,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ve.w0;const E=this.getSubject();R.add(this.source.subscribe((0,Pe.x)(E,void 0,()=>{this._teardown(),E.complete()},N=>{this._teardown(),E.error(N)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ve.w0.EMPTY)}return R}refCount(){return ot()(this)}}var De=P(7579),Ke=P(4755),Ge=P(4004),Je=P(3900),Ye=P(5698),Me=P(8675),oe=P(9300),ze=P(5577),Xe=P(590),$e=P(4351),xe=P(8505);function lt(T){return(0,Ce.e)((R,E)=>{let Re,N=null,re=!1;N=R.subscribe((0,Pe.x)(E,void 0,void 0,Be=>{Re=(0,ae.Xf)(T(Be,lt(T)(R))),N?(N.unsubscribe(),N=null,Re.subscribe(E)):re=!0})),re&&(N.unsubscribe(),N=null,Re.subscribe(E))})}var be=P(5026),he=P(6590);function Z(T){return T<=0?()=>ye.E:(0,Ce.e)((R,E)=>{let N=[];R.subscribe((0,Pe.x)(E,re=>{N.push(re),T<N.length&&N.shift()},()=>{for(const re of N)E.next(re);E.complete()},void 0,()=>{N=null}))})}var M=P(8068),A=P(4671),pe=P(8746),He=P(8189),We=P(6550);const Ue="primary",it=Symbol("RouteTitle");class st{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E[0]:E}return null}getAll(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function at(T){return new st(T)}function Ct(T,R,E){const N=E.path.split("/");if(N.length>T.length||"full"===E.pathMatch&&(R.hasChildren()||N.length<T.length))return null;const re={};for(let Re=0;Re<N.length;Re++){const Be=N[Re],At=T[Re];if(Be.startsWith(":"))re[Be.substring(1)]=At;else if(Be!==At.path)return null}return{consumed:T.slice(0,N.length),posParams:re}}function Tt(T,R){const E=T?Object.keys(T):void 0,N=R?Object.keys(R):void 0;if(!E||!N||E.length!=N.length)return!1;let re;for(let Re=0;Re<E.length;Re++)if(re=E[Re],!gn(T[re],R[re]))return!1;return!0}function gn(T,R){if(Array.isArray(T)&&Array.isArray(R)){if(T.length!==R.length)return!1;const E=[...T].sort(),N=[...R].sort();return E.every((re,Re)=>N[Re]===re)}return T===R}function yn(T){return T.length>0?T[T.length-1]:null}function xt(T){return function ue(T){return!!T&&(T instanceof d.y||(0,G.m)(T.lift)&&(0,G.m)(T.subscribe))}(T)?T:(0,c.QGY)(T)?(0,Ae.D)(Promise.resolve(T)):(0,Fe.of)(T)}const Ht={exact:function On(T,R,E){if(!nr(T.segments,R.segments)||!En(T.segments,R.segments,E)||T.numberOfChildren!==R.numberOfChildren)return!1;for(const N in R.children)if(!T.children[N]||!On(T.children[N],R.children[N],E))return!1;return!0},subset:un},kt={exact:function xn(T,R){return Tt(T,R)},subset:function Jt(T,R){return Object.keys(R).length<=Object.keys(T).length&&Object.keys(R).every(E=>gn(T[E],R[E]))},ignored:()=>!0};function cn(T,R,E){return Ht[E.paths](T.root,R.root,E.matrixParams)&&kt[E.queryParams](T.queryParams,R.queryParams)&&!("exact"===E.fragment&&T.fragment!==R.fragment)}function un(T,R,E){return wn(T,R,R.segments,E)}function wn(T,R,E,N){if(T.segments.length>E.length){const re=T.segments.slice(0,E.length);return!(!nr(re,E)||R.hasChildren()||!En(re,E,N))}if(T.segments.length===E.length){if(!nr(T.segments,E)||!En(T.segments,E,N))return!1;for(const re in R.children)if(!T.children[re]||!un(T.children[re],R.children[re],N))return!1;return!0}{const re=E.slice(0,T.segments.length),Re=E.slice(T.segments.length);return!!(nr(T.segments,re)&&En(T.segments,re,N)&&T.children[Ue])&&wn(T.children[Ue],R,Re,N)}}function En(T,R,E){return R.every((N,re)=>kt[E](T[re].parameters,N.parameters))}class Zn{constructor(R=new Nn([],{}),E={},N=null){this.root=R,this.queryParams=E,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return jn.serialize(this)}}class Nn{constructor(R,E){this.segments=R,this.children=E,this.parent=null,Object.values(E).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rr(this)}}class wr{constructor(R,E){this.path=R,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=at(this.parameters)),this._parameterMap}toString(){return ti(this)}}function nr(T,R){return T.length===R.length&&T.every((E,N)=>E.path===R[N].path)}let In=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return new sr},providedIn:"root"}),T})();class sr{parse(R){const E=new de(R);return new Zn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(R){const E=`/${Dr(R.root,!0)}`,N=function Cr(T){const R=Object.keys(T).map(E=>{const N=T[E];return Array.isArray(N)?N.map(re=>`${wt(E)}=${wt(re)}`).join("&"):`${wt(E)}=${wt(N)}`}).filter(E=>!!E);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${E}${N}${"string"==typeof R.fragment?`#${function cr(T){return encodeURI(T)}(R.fragment)}`:""}`}}const jn=new sr;function rr(T){return T.segments.map(R=>ti(R)).join("/")}function Dr(T,R){if(!T.hasChildren())return rr(T);if(R){const E=T.children[Ue]?Dr(T.children[Ue],!1):"",N=[];return Object.entries(T.children).forEach(([re,Re])=>{re!==Ue&&N.push(`${re}:${Dr(Re,!1)}`)}),N.length>0?`${E}(${N.join("//")})`:E}{const E=function yr(T,R){let E=[];return Object.entries(T.children).forEach(([N,re])=>{N===Ue&&(E=E.concat(R(re,N)))}),Object.entries(T.children).forEach(([N,re])=>{N!==Ue&&(E=E.concat(R(re,N)))}),E}(T,(N,re)=>re===Ue?[Dr(T.children[Ue],!1)]:[`${re}:${Dr(N,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ue]?`${rr(T)}/${E[0]}`:`${rr(T)}/(${E.join("//")})`}}function fi(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wt(T){return fi(T).replace(/%3B/gi,";")}function pr(T){return fi(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vi(T){return decodeURIComponent(T)}function qr(T){return vi(T.replace(/\+/g,"%20"))}function ti(T){return`${pr(T.path)}${function vr(T){return Object.keys(T).map(R=>`;${pr(R)}=${pr(T[R])}`).join("")}(T.parameters)}`}const Kn=/^[^\/()?;#]+/;function dn(T){const R=T.match(Kn);return R?R[0]:""}const et=/^[^\/()?;=#]+/,S=/^[^=?&#]+/,K=/^[^&#]+/;class de{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(R.length>0||Object.keys(E).length>0)&&(N[Ue]=new Nn(R,E)),N}parseSegment(){const R=dn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(R),new wr(vi(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const E=function F(T){const R=T.match(et);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let N="";if(this.consumeOptional("=")){const re=dn(this.remaining);re&&(N=re,this.capture(N))}R[vi(E)]=vi(N)}parseQueryParam(R){const E=function $(T){const R=T.match(S);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let N="";if(this.consumeOptional("=")){const Be=function z(T){const R=T.match(K);return R?R[0]:""}(this.remaining);Be&&(N=Be,this.capture(N))}const re=qr(E),Re=qr(N);if(R.hasOwnProperty(re)){let Be=R[re];Array.isArray(Be)||(Be=[Be],R[re]=Be),Be.push(Re)}else R[re]=Re}parseParens(R){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=dn(this.remaining),re=this.remaining[N.length];if("/"!==re&&")"!==re&&";"!==re)throw new c.vHH(4010,!1);let Re;N.indexOf(":")>-1?(Re=N.slice(0,N.indexOf(":")),this.capture(Re),this.capture(":")):R&&(Re=Ue);const Be=this.parseChildren();E[Re]=1===Object.keys(Be).length?Be[Ue]:new Nn([],Be),this.consumeOptional("//")}return E}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new c.vHH(4011,!1)}}function ft(T){return T.segments.length>0?new Nn([],{[Ue]:T}):T}function St(T){const R={};for(const N of Object.keys(T.children)){const Re=St(T.children[N]);if(N===Ue&&0===Re.segments.length&&Re.hasChildren())for(const[Be,At]of Object.entries(Re.children))R[Be]=At;else(Re.segments.length>0||Re.hasChildren())&&(R[N]=Re)}return function Ot(T){if(1===T.numberOfChildren&&T.children[Ue]){const R=T.children[Ue];return new Nn(T.segments.concat(R.segments),R.children)}return T}(new Nn(T.segments,R))}function Gt(T){return T instanceof Zn}function en(T){let R;const re=ft(function E(Re){const Be={};for(const mn of Re.children){const zn=E(mn);Be[mn.outlet]=zn}const At=new Nn(Re.url,Be);return Re===T&&(R=At),At}(T.root));return R??re}function ir(T,R,E,N){let re=T;for(;re.parent;)re=re.parent;if(0===R.length)return ni(re,re,re,E,N);const Re=function Pr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Si(!0,0,T);let R=0,E=!1;const N=T.reduce((re,Re,Be)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const At={};return Object.entries(Re.outlets).forEach(([mn,zn])=>{At[mn]="string"==typeof zn?zn.split("/"):zn}),[...re,{outlets:At}]}if(Re.segmentPath)return[...re,Re.segmentPath]}return"string"!=typeof Re?[...re,Re]:0===Be?(Re.split("/").forEach((At,mn)=>{0==mn&&"."===At||(0==mn&&""===At?E=!0:".."===At?R++:""!=At&&re.push(At))}),re):[...re,Re]},[]);return new Si(E,R,N)}(R);if(Re.toRoot())return ni(re,re,new Nn([],{}),E,N);const Be=function Yr(T,R,E){if(T.isAbsolute)return new Tr(R,!0,0);if(!E)return new Tr(R,!1,NaN);if(null===E.parent)return new Tr(E,!0,0);const N=fr(T.commands[0])?0:1;return function Eo(T,R,E){let N=T,re=R,Re=E;for(;Re>re;){if(Re-=re,N=N.parent,!N)throw new c.vHH(4005,!1);re=N.segments.length}return new Tr(N,!1,re-Re)}(E,E.segments.length-1+N,T.numberOfDoubleDots)}(Re,re,T),At=Be.processChildren?dr(Be.segmentGroup,Be.index,Re.commands):gr(Be.segmentGroup,Be.index,Re.commands);return ni(re,Be.segmentGroup,At,E,N)}function fr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function $r(T){return"object"==typeof T&&null!=T&&T.outlets}function ni(T,R,E,N,re){let Be,Re={};N&&Object.entries(N).forEach(([mn,zn])=>{Re[mn]=Array.isArray(zn)?zn.map(Jn=>`${Jn}`):`${zn}`}),Be=T===R?E:Ai(T,R,E);const At=ft(St(Be));return new Zn(At,Re,re)}function Ai(T,R,E){const N={};return Object.entries(T.children).forEach(([re,Re])=>{N[re]=Re===R?E:Ai(Re,R,E)}),new Nn(T.segments,N)}class Si{constructor(R,E,N){if(this.isAbsolute=R,this.numberOfDoubleDots=E,this.commands=N,R&&N.length>0&&fr(N[0]))throw new c.vHH(4003,!1);const re=N.find($r);if(re&&re!==yn(N))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tr{constructor(R,E,N){this.segmentGroup=R,this.processChildren=E,this.index=N}}function gr(T,R,E){if(T||(T=new Nn([],{})),0===T.segments.length&&T.hasChildren())return dr(T,R,E);const N=function Oo(T,R,E){let N=0,re=R;const Re={match:!1,pathIndex:0,commandIndex:0};for(;re<T.segments.length;){if(N>=E.length)return Re;const Be=T.segments[re],At=E[N];if($r(At))break;const mn=`${At}`,zn=N<E.length-1?E[N+1]:null;if(re>0&&void 0===mn)break;if(mn&&zn&&"object"==typeof zn&&void 0===zn.outlets){if(!Ki(mn,zn,Be))return Re;N+=2}else{if(!Ki(mn,{},Be))return Re;N++}re++}return{match:!0,pathIndex:re,commandIndex:N}}(T,R,E),re=E.slice(N.commandIndex);if(N.match&&N.pathIndex<T.segments.length){const Re=new Nn(T.segments.slice(0,N.pathIndex),{});return Re.children[Ue]=new Nn(T.segments.slice(N.pathIndex),T.children),dr(Re,0,re)}return N.match&&0===re.length?new Nn(T.segments,{}):N.match&&!T.hasChildren()?pi(T,R,E):N.match?dr(T,0,re):pi(T,R,E)}function dr(T,R,E){if(0===E.length)return new Nn(T.segments,{});{const N=function Wr(T){return $r(T[0])?T[0].outlets:{[Ue]:T}}(E),re={};if(!N[Ue]&&T.children[Ue]&&1===T.numberOfChildren&&0===T.children[Ue].segments.length){const Re=dr(T.children[Ue],R,E);return new Nn(T.segments,Re.children)}return Object.entries(N).forEach(([Re,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(re[Re]=gr(T.children[Re],R,Be))}),Object.entries(T.children).forEach(([Re,Be])=>{void 0===N[Re]&&(re[Re]=Be)}),new Nn(T.segments,re)}}function pi(T,R,E){const N=T.segments.slice(0,R);let re=0;for(;re<E.length;){const Re=E[re];if($r(Re)){const mn=Ei(Re.outlets);return new Nn(N,mn)}if(0===re&&fr(E[0])){N.push(new wr(T.segments[R].path,No(E[0]))),re++;continue}const Be=$r(Re)?Re.outlets[Ue]:`${Re}`,At=re<E.length-1?E[re+1]:null;Be&&At&&fr(At)?(N.push(new wr(Be,No(At))),re+=2):(N.push(new wr(Be,{})),re++)}return new Nn(N,{})}function Ei(T){const R={};return Object.entries(T).forEach(([E,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(R[E]=pi(new Nn([],{}),0,N))}),R}function No(T){const R={};return Object.entries(T).forEach(([E,N])=>R[E]=`${N}`),R}function Ki(T,R,E){return T==E.path&&Tt(R,E.parameters)}const Mr="imperative";class Ii{constructor(R,E){this.id=R,this.url=E}}class Vi extends Ii{constructor(R,E,N="imperative",re=null){super(R,E),this.type=0,this.navigationTrigger=N,this.restoredState=re}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class di extends Ii{constructor(R,E,N){super(R,E),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hi extends Ii{constructor(R,E,N,re){super(R,E),this.reason=N,this.code=re,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Ii{constructor(R,E,N,re){super(R,E),this.reason=N,this.code=re,this.type=16}}class ri extends Ii{constructor(R,E,N,re){super(R,E),this.error=N,this.target=re,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class me extends Ii{constructor(R,E,N,re){super(R,E),this.urlAfterRedirects=N,this.state=re,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends Ii{constructor(R,E,N,re){super(R,E),this.urlAfterRedirects=N,this.state=re,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends Ii{constructor(R,E,N,re,Re){super(R,E),this.urlAfterRedirects=N,this.state=re,this.shouldActivate=Re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends Ii{constructor(R,E,N,re){super(R,E),this.urlAfterRedirects=N,this.state=re,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Ii{constructor(R,E,N,re){super(R,E),this.urlAfterRedirects=N,this.state=re,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vt{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ft{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(R,E,N){this.routerEvent=R,this.position=E,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class er{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fr,this.attachRef=null}}let Fr=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(E,N){const re=this.getOrCreateContext(E);re.outlet=N,this.contexts.set(E,re)}onChildOutletDestroyed(E){const N=this.getContext(E);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let N=this.getContext(E);return N||(N=new er,this.contexts.set(E,N)),N}getContext(E){return this.contexts.get(E)||null}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class ai{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const E=this.pathFromRoot(R);return E.length>1?E[E.length-2]:null}children(R){const E=Ar(R,this._root);return E?E.children.map(N=>N.value):[]}firstChild(R){const E=Ar(R,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(R){const E=Ur(R,this._root);return E.length<2?[]:E[E.length-2].children.map(re=>re.value).filter(re=>re!==R)}pathFromRoot(R){return Ur(R,this._root).map(E=>E.value)}}function Ar(T,R){if(T===R.value)return R;for(const E of R.children){const N=Ar(T,E);if(N)return N}return null}function Ur(T,R){if(T===R.value)return[R];for(const E of R.children){const N=Ur(T,E);if(N.length)return N.unshift(R),N}return[]}class Zr{constructor(R,E){this.value=R,this.children=E}toString(){return`TreeNode(${this.value})`}}function ho(T){const R={};return T&&T.children.forEach(E=>R[E.value.outlet]=E),R}class Lr extends ai{constructor(R,E){super(R),this.snapshot=E,Or(this,R)}toString(){return this.snapshot.toString()}}function Sn(T,R){const E=function Xn(T,R){const Be=new zr([],{},{},"",{},Ue,R,null,{});return new Io("",new Zr(Be,[]))}(0,R),N=new le.X([new wr("",{})]),re=new le.X({}),Re=new le.X({}),Be=new le.X({}),At=new le.X(""),mn=new mr(N,re,Be,At,Re,Ue,R,E.root);return mn.snapshot=E.root,new Lr(new Zr(mn,[]),E)}class mr{constructor(R,E,N,re,Re,Be,At,mn){this.urlSubject=R,this.paramsSubject=E,this.queryParamsSubject=N,this.fragmentSubject=re,this.dataSubject=Re,this.outlet=Be,this.component=At,this._futureSnapshot=mn,this.title=this.dataSubject?.pipe((0,Ge.U)(zn=>zn[it]))??(0,Fe.of)(void 0),this.url=R,this.params=E,this.queryParams=N,this.fragment=re,this.data=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(R=>at(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(R=>at(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bi(T,R="emptyOnly"){const E=T.pathFromRoot;let N=0;if("always"!==R)for(N=E.length-1;N>=1;){const re=E[N],Re=E[N-1];if(re.routeConfig&&""===re.routeConfig.path)N--;else{if(Re.component)break;N--}}return function zi(T){return T.reduce((R,E)=>({params:{...R.params,...E.params},data:{...R.data,...E.data},resolve:{...E.data,...R.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(N))}class zr{get title(){return this.data?.[it]}constructor(R,E,N,re,Re,Be,At,mn,zn){this.url=R,this.params=E,this.queryParams=N,this.fragment=re,this.data=Re,this.outlet=Be,this.component=At,this.routeConfig=mn,this._resolve=zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=at(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Io extends ai{constructor(R,E){super(E),this.url=R,Or(this,E)}toString(){return ko(this._root)}}function Or(T,R){R.value._routerState=T,R.children.forEach(E=>Or(T,E))}function ko(T){const R=T.children.length>0?` { ${T.children.map(ko).join(", ")} } `:"";return`${T.value}${R}`}function no(T){if(T.snapshot){const R=T.snapshot,E=T._futureSnapshot;T.snapshot=E,Tt(R.queryParams,E.queryParams)||T.queryParamsSubject.next(E.queryParams),R.fragment!==E.fragment&&T.fragmentSubject.next(E.fragment),Tt(R.params,E.params)||T.paramsSubject.next(E.params),function Kt(T,R){if(T.length!==R.length)return!1;for(let E=0;E<T.length;++E)if(!Tt(T[E],R[E]))return!1;return!0}(R.url,E.url)||T.urlSubject.next(E.url),Tt(R.data,E.data)||T.dataSubject.next(E.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Qn(T,R){const E=Tt(T.params,R.params)&&function Dn(T,R){return nr(T,R)&&T.every((E,N)=>Tt(E.parameters,R[N].parameters))}(T.url,R.url);return E&&!(!T.parent!=!R.parent)&&(!T.parent||Qn(T.parent,R.parent))}let ro=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Fr),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Di,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:N,previousValue:re}=E.name;if(N)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,N){this.activated=E,this._activatedRoute=N,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,N){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=E;const re=this.location,Be=E.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,mn=new os(E,At,re.injector);this.activated=re.createComponent(Be,{index:re.length,injector:mn,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275dir=c.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),T})();class os{constructor(R,E,N){this.route=R,this.childContexts=E,this.parent=N}get(R,E){return R===mr?this.route:R===Fr?this.childContexts:this.parent.get(R,E)}}const Di=new c.OlP("");let ii=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:N}=E,re=(0,qe.a)([N.queryParams,N.params,N.data]).pipe((0,Je.w)(([Re,Be,At],mn)=>(At={...Re,...Be,...At},0===mn?(0,Fe.of)(At):Promise.resolve(At)))).subscribe(Re=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(E);const Be=(0,c.qFp)(N.component);if(Be)for(const{templateName:At}of Be.inputs)E.activatedComponentRef.setInput(At,Re[At]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,re)}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();function Co(T,R,E){if(E&&T.shouldReuseRoute(R.value,E.value.snapshot)){const N=E.value;N._futureSnapshot=R.value;const re=function io(T,R,E){return R.children.map(N=>{for(const re of E.children)if(T.shouldReuseRoute(N.value,re.value.snapshot))return Co(T,N,re);return Co(T,N)})}(T,R,E);return new Zr(N,re)}{if(T.shouldAttach(R.value)){const Re=T.retrieve(R.value);if(null!==Re){const Be=Re.route;return Be.value._futureSnapshot=R.value,Be.children=R.children.map(At=>Co(T,At)),Be}}const N=function To(T){return new mr(new le.X(T.url),new le.X(T.params),new le.X(T.queryParams),new le.X(T.fragment),new le.X(T.data),T.outlet,T.component,T)}(R.value),re=R.children.map(Re=>Co(T,Re));return new Zr(N,re)}}const Fo="ngNavigationCancelingError";function oo(T,R){const{redirectTo:E,navigationBehaviorOptions:N}=Gt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,re=fo(!1,0,R);return re.url=E,re.navigationBehaviorOptions=N,re}function fo(T,R,E){const N=new Error("NavigationCancelingError: "+(T||""));return N[Fo]=!0,N.cancellationCode=R,E&&(N.url=E),N}function Yi(T){return po(T)&&Gt(T.url)}function po(T){return T&&T[Fo]}let se=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=c.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(E,N){1&E&&c._UZ(0,"router-outlet")},dependencies:[ro],encapsulation:2}),T})();function or(T){const R=T.children&&T.children.map(or),E=R?{...T,children:R}:{...T};return!E.component&&!E.loadComponent&&(R||E.loadChildren)&&E.outlet&&E.outlet!==Ue&&(E.component=se),E}function hr(T){return T.outlet||Ue}function Gn(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let R=T.parent;R;R=R.parent){const E=R.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class gi{constructor(R,E,N,re,Re){this.routeReuseStrategy=R,this.futureState=E,this.currState=N,this.forwardEvent=re,this.inputBindingEnabled=Re}activate(R){const E=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,N,R),no(this.futureState.root),this.activateChildRoutes(E,N,R)}deactivateChildRoutes(R,E,N){const re=ho(E);R.children.forEach(Re=>{const Be=Re.value.outlet;this.deactivateRoutes(Re,re[Be],N),delete re[Be]}),Object.values(re).forEach(Re=>{this.deactivateRouteAndItsChildren(Re,N)})}deactivateRoutes(R,E,N){const re=R.value,Re=E?E.value:null;if(re===Re)if(re.component){const Be=N.getContext(re.outlet);Be&&this.deactivateChildRoutes(R,E,Be.children)}else this.deactivateChildRoutes(R,E,N);else Re&&this.deactivateRouteAndItsChildren(E,N)}deactivateRouteAndItsChildren(R,E){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,E):this.deactivateRouteAndOutlet(R,E)}detachAndStoreRouteSubtree(R,E){const N=E.getContext(R.value.outlet),re=N&&R.value.component?N.children:E,Re=ho(R);for(const Be of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[Be],re);if(N&&N.outlet){const Be=N.outlet.detach(),At=N.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Be,route:R,contexts:At})}}deactivateRouteAndOutlet(R,E){const N=E.getContext(R.value.outlet),re=N&&R.value.component?N.children:E,Re=ho(R);for(const Be of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[Be],re);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(R,E,N){const re=ho(E);R.children.forEach(Re=>{this.activateRoutes(Re,re[Re.value.outlet],N),this.forwardEvent(new Xt(Re.value.snapshot))}),R.children.length&&this.forwardEvent(new Yt(R.value.snapshot))}activateRoutes(R,E,N){const re=R.value,Re=E?E.value:null;if(no(re),re===Re)if(re.component){const Be=N.getOrCreateContext(re.outlet);this.activateChildRoutes(R,E,Be.children)}else this.activateChildRoutes(R,E,N);else if(re.component){const Be=N.getOrCreateContext(re.outlet);if(this.routeReuseStrategy.shouldAttach(re.snapshot)){const At=this.routeReuseStrategy.retrieve(re.snapshot);this.routeReuseStrategy.store(re.snapshot,null),Be.children.onOutletReAttached(At.contexts),Be.attachRef=At.componentRef,Be.route=At.route.value,Be.outlet&&Be.outlet.attach(At.componentRef,At.route.value),no(At.route.value),this.activateChildRoutes(R,null,Be.children)}else{const At=Gn(re.snapshot);Be.attachRef=null,Be.route=re,Be.injector=At,Be.outlet&&Be.outlet.activateWith(re,Be.injector),this.activateChildRoutes(R,null,Be.children)}}else this.activateChildRoutes(R,null,N)}}class Zi{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class bi{constructor(R,E){this.component=R,this.route=E}}function Ci(T,R,E){const N=T._root;return Lo(N,R?R._root:null,E,[N.value])}function Ao(T,R){const E=Symbol(),N=R.get(T,E);return N===E?"function"!=typeof T||(0,c.Z0I)(T)?R.get(T):T:N}function Lo(T,R,E,N,re={canDeactivateChecks:[],canActivateChecks:[]}){const Re=ho(R);return T.children.forEach(Be=>{(function qs(T,R,E,N,re={canDeactivateChecks:[],canActivateChecks:[]}){const Re=T.value,Be=R?R.value:null,At=E?E.getContext(T.value.outlet):null;if(Be&&Re.routeConfig===Be.routeConfig){const mn=function ss(T,R,E){if("function"==typeof E)return E(T,R);switch(E){case"pathParamsChange":return!nr(T.url,R.url);case"pathParamsOrQueryParamsChange":return!nr(T.url,R.url)||!Tt(T.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(T,R)||!Tt(T.queryParams,R.queryParams);default:return!Qn(T,R)}}(Be,Re,Re.routeConfig.runGuardsAndResolvers);mn?re.canActivateChecks.push(new Zi(N)):(Re.data=Be.data,Re._resolvedData=Be._resolvedData),Lo(T,R,Re.component?At?At.children:null:E,N,re),mn&&At&&At.outlet&&At.outlet.isActivated&&re.canDeactivateChecks.push(new bi(At.outlet.component,Be))}else Be&&v(R,At,re),re.canActivateChecks.push(new Zi(N)),Lo(T,null,Re.component?At?At.children:null:E,N,re)})(Be,Re[Be.value.outlet],E,N.concat([Be.value]),re),delete Re[Be.value.outlet]}),Object.entries(Re).forEach(([Be,At])=>v(At,E.getContext(Be),re)),re}function v(T,R,E){const N=ho(T),re=T.value;Object.entries(N).forEach(([Re,Be])=>{v(Be,re.component?R?R.children.getContext(Re):null:R,E)}),E.canDeactivateChecks.push(new bi(re.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,re))}function X(T){return"function"==typeof T}function xi(T){return T instanceof Qe.K||"EmptyError"===T?.name}const jo=Symbol("INITIAL_VALUE");function jr(){return(0,Je.w)(T=>(0,qe.a)(T.map(R=>R.pipe((0,Ye.q)(1),(0,Me.O)(jo)))).pipe((0,Ge.U)(R=>{for(const E of R)if(!0!==E){if(E===jo)return jo;if(!1===E||E instanceof Zn)return E}return!0}),(0,oe.h)(R=>R!==jo),(0,Ye.q)(1)))}function qo(T){return(0,Ie.z)((0,xe.b)(R=>{if(Gt(R))throw oo(0,R)}),(0,Ge.U)(R=>!0===R))}class Xi{constructor(R){this.segmentGroup=R||null}}class Ri{constructor(R){this.urlTree=R}}function so(T){return ce(new Xi(T))}function Zo(T){return ce(new Ri(T))}class Os{constructor(R,E){this.urlSerializer=R,this.urlTree=E}noMatchError(R){return new c.vHH(4002,!1)}lineralizeSegments(R,E){let N=[],re=E.root;for(;;){if(N=N.concat(re.segments),0===re.numberOfChildren)return(0,Fe.of)(N);if(re.numberOfChildren>1||!re.children[Ue])return ce(new c.vHH(4e3,!1));re=re.children[Ue]}}applyRedirectCommands(R,E,N){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),R,N)}applyRedirectCreateUrlTree(R,E,N,re){const Re=this.createSegmentGroup(R,E.root,N,re);return new Zn(Re,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(R,E){const N={};return Object.entries(R).forEach(([re,Re])=>{if("string"==typeof Re&&Re.startsWith(":")){const At=Re.substring(1);N[re]=E[At]}else N[re]=Re}),N}createSegmentGroup(R,E,N,re){const Re=this.createSegments(R,E.segments,N,re);let Be={};return Object.entries(E.children).forEach(([At,mn])=>{Be[At]=this.createSegmentGroup(R,mn,N,re)}),new Nn(Re,Be)}createSegments(R,E,N,re){return E.map(Re=>Re.path.startsWith(":")?this.findPosParam(R,Re,re):this.findOrReturn(Re,N))}findPosParam(R,E,N){const re=N[E.path.substring(1)];if(!re)throw new c.vHH(4001,!1);return re}findOrReturn(R,E){let N=0;for(const re of E){if(re.path===R.path)return E.splice(N),re;N++}return R}}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xu(T,R,E,N,re){const Re=Qi(T,R,E);return Re.matched?(N=function ie(T,R){return T.providers&&!T._injector&&(T._injector=(0,c.MMx)(T.providers,R,`Route: ${T.path}`)),T._injector??R}(R,N),function Oi(T,R,E,N){const re=R.canMatch;if(!re||0===re.length)return(0,Fe.of)(!0);const Re=re.map(Be=>{const At=Ao(Be,T);return xt(function Yn(T){return T&&X(T.canMatch)}(At)?At.canMatch(R,E):T.runInContext(()=>At(R,E)))});return(0,Fe.of)(Re).pipe(jr(),qo())}(N,R,E).pipe((0,Ge.U)(Be=>!0===Be?Re:{...Xo}))):(0,Fe.of)(Re)}function Qi(T,R,E){if(""===R.path)return"full"===R.pathMatch&&(T.hasChildren()||E.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const re=(R.matcher||Ct)(E,T,R);if(!re)return{...Xo};const Re={};Object.entries(re.posParams??{}).forEach(([At,mn])=>{Re[At]=mn.path});const Be=re.consumed.length>0?{...Re,...re.consumed[re.consumed.length-1].parameters}:Re;return{matched:!0,consumedSegments:re.consumed,remainingSegments:E.slice(re.consumed.length),parameters:Be,positionalParamSegments:re.posParams??{}}}function Ns(T,R,E,N){return E.length>0&&function as(T,R,E){return E.some(N=>ks(T,R,N)&&hr(N)!==Ue)}(T,E,N)?{segmentGroup:new Nn(R,Ys(N,new Nn(E,T.children))),slicedSegments:[]}:0===E.length&&function ba(T,R,E){return E.some(N=>ks(T,R,N))}(T,E,N)?{segmentGroup:new Nn(T.segments,Cs(T,0,E,N,T.children)),slicedSegments:E}:{segmentGroup:new Nn(T.segments,T.children),slicedSegments:E}}function Cs(T,R,E,N,re){const Re={};for(const Be of N)if(ks(T,E,Be)&&!re[hr(Be)]){const At=new Nn([],{});Re[hr(Be)]=At}return{...re,...Re}}function Ys(T,R){const E={};E[Ue]=R;for(const N of T)if(""===N.path&&hr(N)!==Ue){const re=new Nn([],{});E[hr(N)]=re}return E}function ks(T,R,E){return(!(T.hasChildren()||R.length>0)||"full"!==E.pathMatch)&&""===E.path}class Fl{constructor(R,E,N,re,Re,Be,At){this.injector=R,this.configLoader=E,this.rootComponentType=N,this.config=re,this.urlTree=Re,this.paramsInheritanceStrategy=Be,this.urlSerializer=At,this.allowRedirects=!0,this.applyRedirects=new Os(this.urlSerializer,this.urlTree)}noMatchError(R){return new c.vHH(4002,!1)}recognize(){const R=Ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ue).pipe(lt(E=>{if(E instanceof Ri)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Xi?this.noMatchError(E):E}),(0,Ge.U)(E=>{const N=new zr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ue,this.rootComponentType,null,{}),re=new Zr(N,E),Re=new Io("",re),Be=function Hn(T,R,E=null,N=null){return ir(en(T),R,E,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Be.queryParams=this.urlTree.queryParams,Re.url=this.urlSerializer.serialize(Be),this.inheritParamsAndData(Re._root),{state:Re,tree:Be}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ue).pipe(lt(N=>{throw N instanceof Xi?this.noMatchError(N):N}))}inheritParamsAndData(R){const E=R.value,N=Bi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(N.params),E.data=Object.freeze(N.data),R.children.forEach(re=>this.inheritParamsAndData(re))}processSegmentGroup(R,E,N,re){return 0===N.segments.length&&N.hasChildren()?this.processChildren(R,E,N):this.processSegment(R,E,N,N.segments,re,!0)}processChildren(R,E,N){const re=[];for(const Re of Object.keys(N.children))"primary"===Re?re.unshift(Re):re.push(Re);return(0,Ae.D)(re).pipe((0,$e.b)(Re=>{const Be=N.children[Re],At=function Bn(T,R){const E=T.filter(N=>hr(N)===R);return E.push(...T.filter(N=>hr(N)!==R)),E}(E,Re);return this.processSegmentGroup(R,At,Be,Re)}),(0,be.R)((Re,Be)=>(Re.push(...Be),Re)),(0,he.d)(null),function j(T,R){const E=arguments.length>=2;return N=>N.pipe(T?(0,oe.h)((re,Re)=>T(re,Re,N)):A.y,Z(1),E?(0,he.d)(R):(0,M.T)(()=>new Qe.K))}(),(0,ze.z)(Re=>{if(null===Re)return so(N);const Be=sa(Re);return function Zs(T){T.sort((R,E)=>R.value.outlet===Ue?-1:E.value.outlet===Ue?1:R.value.outlet.localeCompare(E.value.outlet))}(Be),(0,Fe.of)(Be)}))}processSegment(R,E,N,re,Re,Be){return(0,Ae.D)(E).pipe((0,$e.b)(At=>this.processSegmentAgainstRoute(At._injector??R,E,At,N,re,Re,Be).pipe(lt(mn=>{if(mn instanceof Xi)return(0,Fe.of)(null);throw mn}))),(0,Xe.P)(At=>!!At),lt(At=>{if(xi(At))return function kl(T,R,E){return 0===R.length&&!T.children[E]}(N,re,Re)?(0,Fe.of)([]):so(N);throw At}))}processSegmentAgainstRoute(R,E,N,re,Re,Be,At){return function vu(T,R,E,N){return!!(hr(T)===N||N!==Ue&&ks(R,E,T))&&("**"===T.path||Qi(R,T,E).matched)}(N,re,Re,Be)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(R,re,N,Re,Be,At):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,re,E,N,Re,Be):so(re):so(re)}expandSegmentAgainstRouteUsingRedirect(R,E,N,re,Re,Be){return"**"===re.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,N,re,Be):this.expandRegularSegmentAgainstRouteUsingRedirect(R,E,N,re,Re,Be)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,E,N,re){const Re=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Zo(Re):this.applyRedirects.lineralizeSegments(N,Re).pipe((0,ze.z)(Be=>{const At=new Nn(Be,{});return this.processSegment(R,E,At,Be,re,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,E,N,re,Re,Be){const{matched:At,consumedSegments:mn,remainingSegments:zn,positionalParamSegments:Jn}=Qi(E,re,Re);if(!At)return so(E);const Hr=this.applyRedirects.applyRedirectCommands(mn,re.redirectTo,Jn);return re.redirectTo.startsWith("/")?Zo(Hr):this.applyRedirects.lineralizeSegments(re,Hr).pipe((0,ze.z)(_o=>this.processSegment(R,N,E,_o.concat(zn),Be,!1)))}matchSegmentAgainstRoute(R,E,N,re,Re,Be){let At;if("**"===N.path){const mn=re.length>0?yn(re).parameters:{},zn=new zr(re,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,As(N),hr(N),N.component??N._loadedComponent??null,N,Eu(N));At=(0,Fe.of)({snapshot:zn,consumedSegments:[],remainingSegments:[]}),E.children={}}else At=Xu(E,N,re,R).pipe((0,Ge.U)(({matched:mn,consumedSegments:zn,remainingSegments:Jn,parameters:Hr})=>mn?{snapshot:new zr(zn,Hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,As(N),hr(N),N.component??N._loadedComponent??null,N,Eu(N)),consumedSegments:zn,remainingSegments:Jn}:null));return At.pipe((0,Je.w)(mn=>null===mn?so(E):this.getChildConfig(R=N._injector??R,N,re).pipe((0,Je.w)(({routes:zn})=>{const Jn=N._loadedInjector??R,{snapshot:Hr,consumedSegments:_o,remainingSegments:Sa}=mn,{segmentGroup:ca,slicedSegments:Ka}=Ns(E,_o,Sa,zn);if(0===Ka.length&&ca.hasChildren())return this.processChildren(Jn,zn,ca).pipe((0,Ge.U)(ea=>null===ea?null:[new Zr(Hr,ea)]));if(0===zn.length&&0===Ka.length)return(0,Fe.of)([new Zr(Hr,[])]);const Po=hr(N)===Re;return this.processSegment(Jn,zn,ca,Ka,Po?Ue:Re,!0).pipe((0,Ge.U)(ea=>[new Zr(Hr,ea)]))}))))}getChildConfig(R,E,N){return E.children?(0,Fe.of)({routes:E.children,injector:R}):E.loadChildren?void 0!==E._loadedRoutes?(0,Fe.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Vo(T,R,E,N){const re=R.canLoad;if(void 0===re||0===re.length)return(0,Fe.of)(!0);const Re=re.map(Be=>{const At=Ao(Be,T);return xt(function Y(T){return T&&X(T.canLoad)}(At)?At.canLoad(R,E):T.runInContext(()=>At(R,E)))});return(0,Fe.of)(Re).pipe(jr(),qo())}(R,E,N).pipe((0,ze.z)(re=>re?this.configLoader.loadChildren(R,E).pipe((0,xe.b)(Re=>{E._loadedRoutes=Re.routes,E._loadedInjector=Re.injector})):function Ia(T){return ce(fo(!1,3))}())):(0,Fe.of)({routes:[],injector:R})}}function Ta(T){const R=T.value.routeConfig;return R&&""===R.path}function sa(T){const R=[],E=new Set;for(const N of T){if(!Ta(N)){R.push(N);continue}const re=R.find(Re=>N.value.routeConfig===Re.value.routeConfig);void 0!==re?(re.children.push(...N.children),E.add(re)):R.push(N)}for(const N of E){const re=sa(N.children);R.push(new Zr(N.value,re))}return R.filter(N=>!E.has(N))}function As(T){return T.data||{}}function Eu(T){return T.resolve||{}}function li(T){return"string"==typeof T.title||null===T.title}function Rs(T){return(0,Je.w)(R=>{const E=T(R);return E?(0,Ae.D)(E).pipe((0,Ge.U)(()=>R)):(0,Fe.of)(R)})}const Qo=new c.OlP("ROUTES");let wo=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Fe.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const N=xt(E.loadComponent()).pipe((0,Ge.U)(x),(0,xe.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Re}),(0,pe.x)(()=>{this.componentLoaders.delete(E)})),re=new yt(N,()=>new De.x).pipe(ot());return this.componentLoaders.set(E,re),re}loadChildren(E,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Fe.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const Re=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,Ge.U)(At=>{this.onLoadEndListener&&this.onLoadEndListener(N);let mn,zn;return Array.isArray(At)?zn=At:(mn=At.create(E).injector,zn=mn.get(Qo,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:zn.map(or),injector:mn}}),(0,pe.x)(()=>{this.childrenLoaders.delete(N)})),Be=new yt(Re,()=>new De.x).pipe(ot());return this.childrenLoaders.set(N,Be),Be}loadModuleFactoryOrRoutes(E){return xt(E()).pipe((0,Ge.U)(x),(0,ze.z)(N=>N instanceof c.YKP||Array.isArray(N)?(0,Fe.of)(N):(0,Ae.D)(this.compiler.compileModuleAsync(N))))}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function x(T){return function us(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let te=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.configLoader=(0,c.f3M)(wo),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(In),this.rootContexts=(0,c.f3M)(Fr),this.inputBindingEnabled=null!==(0,c.f3M)(Di,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new Vt(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new dt(re))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:N})}setupNavigations(E){return this.transitions=new le.X({id:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mr,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,oe.h)(N=>0!==N.id),(0,Ge.U)(N=>({...N,extractedUrl:E.urlHandlingStrategy.extract(N.rawUrl)})),(0,Je.w)(N=>{let re=!1,Re=!1;return(0,Fe.of)(N).pipe((0,xe.b)(Be=>{this.currentNavigation={id:Be.id,initialUrl:Be.rawUrl,extractedUrl:Be.extractedUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(Be=>{const At=E.browserUrlTree.toString(),mn=!E.navigated||Be.extractedUrl.toString()!==At||At!==E.currentUrlTree.toString();if(!mn&&"reload"!==(Be.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Jn="";return this.events.next(new co(Be.id,E.serializeUrl(N.rawUrl),Jn,0)),E.rawUrlTree=Be.rawUrl,Be.resolve(null),ye.E}if(E.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return L(Be.source)&&(E.browserUrlTree=Be.extractedUrl),(0,Fe.of)(Be).pipe((0,Je.w)(Jn=>{const Hr=this.transitions?.getValue();return this.events.next(new Vi(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),Jn.source,Jn.restoredState)),Hr!==this.transitions?.getValue()?ye.E:Promise.resolve(Jn)}),function Qu(T,R,E,N,re,Re){return(0,ze.z)(Be=>function Er(T,R,E,N,re,Re,Be="emptyOnly"){return new Fl(T,R,E,N,re,Be,Re).recognize()}(T,R,E,N,Be.extractedUrl,re,Re).pipe((0,Ge.U)(({state:At,tree:mn})=>({...Be,targetSnapshot:At,urlAfterRedirects:mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,xe.b)(Jn=>{if(N.targetSnapshot=Jn.targetSnapshot,N.urlAfterRedirects=Jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jn.urlAfterRedirects},"eager"===E.urlUpdateStrategy){if(!Jn.extras.skipLocationChange){const _o=E.urlHandlingStrategy.merge(Jn.urlAfterRedirects,Jn.rawUrl);E.setBrowserUrl(_o,Jn)}E.browserUrlTree=Jn.urlAfterRedirects}const Hr=new me(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),this.urlSerializer.serialize(Jn.urlAfterRedirects),Jn.targetSnapshot);this.events.next(Hr)}));if(mn&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:Jn,extractedUrl:Hr,source:_o,restoredState:Sa,extras:ca}=Be,Ka=new Vi(Jn,this.urlSerializer.serialize(Hr),_o,Sa);this.events.next(Ka);const Po=Sn(0,this.rootComponentType).snapshot;return N={...Be,targetSnapshot:Po,urlAfterRedirects:Hr,extras:{...ca,skipLocationChange:!1,replaceUrl:!1}},(0,Fe.of)(N)}{const Jn="";return this.events.next(new co(Be.id,E.serializeUrl(N.extractedUrl),Jn,1)),E.rawUrlTree=Be.rawUrl,Be.resolve(null),ye.E}}),(0,xe.b)(Be=>{const At=new je(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(At)}),(0,Ge.U)(Be=>N={...Be,guards:Ci(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)}),function _i(T,R){return(0,ze.z)(E=>{const{targetSnapshot:N,currentSnapshot:re,guards:{canActivateChecks:Re,canDeactivateChecks:Be}}=E;return 0===Be.length&&0===Re.length?(0,Fe.of)({...E,guardsResult:!0}):function W(T,R,E,N){return(0,Ae.D)(T).pipe((0,ze.z)(re=>function yi(T,R,E,N,re){const Re=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,Fe.of)(!0);const Be=Re.map(At=>{const mn=Gn(R)??re,zn=Ao(At,mn);return xt(function Cn(T){return T&&X(T.canDeactivate)}(zn)?zn.canDeactivate(T,R,E,N):mn.runInContext(()=>zn(T,R,E,N))).pipe((0,Xe.P)())});return(0,Fe.of)(Be).pipe(jr())}(re.component,re.route,E,R,N)),(0,Xe.P)(re=>!0!==re,!0))}(Be,N,re,T).pipe((0,ze.z)(At=>At&&function I(T){return"boolean"==typeof T}(At)?function H(T,R,E,N){return(0,Ae.D)(R).pipe((0,$e.b)(re=>(0,fe.z)(function we(T,R){return null!==T&&R&&R(new Ft(T)),(0,Fe.of)(!0)}(re.route.parent,N),function U(T,R){return null!==T&&R&&R(new tn(T)),(0,Fe.of)(!0)}(re.route,N),function Rn(T,R,E){const N=R[R.length-1],Re=R.slice(0,R.length-1).reverse().map(Be=>function mi(T){const R=T.routeConfig?T.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:T,guards:R}:null}(Be)).filter(Be=>null!==Be).map(Be=>Se(()=>{const At=Be.guards.map(mn=>{const zn=Gn(Be.node)??E,Jn=Ao(mn,zn);return xt(function nn(T){return T&&X(T.canActivateChild)}(Jn)?Jn.canActivateChild(N,T):zn.runInContext(()=>Jn(N,T))).pipe((0,Xe.P)())});return(0,Fe.of)(At).pipe(jr())}));return(0,Fe.of)(Re).pipe(jr())}(T,re.path,E),function Wt(T,R,E){const N=R.routeConfig?R.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Fe.of)(!0);const re=N.map(Re=>Se(()=>{const Be=Gn(R)??E,At=Ao(Re,Be);return xt(function ke(T){return T&&X(T.canActivate)}(At)?At.canActivate(R,T):Be.runInContext(()=>At(R,T))).pipe((0,Xe.P)())}));return(0,Fe.of)(re).pipe(jr())}(T,re.route,E))),(0,Xe.P)(re=>!0!==re,!0))}(N,Re,T,R):(0,Fe.of)(At)),(0,Ge.U)(At=>({...E,guardsResult:At})))})}(this.environmentInjector,Be=>this.events.next(Be)),(0,xe.b)(Be=>{if(N.guardsResult=Be.guardsResult,Gt(Be.guardsResult))throw oo(0,Be.guardsResult);const At=new _t(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.events.next(At)}),(0,oe.h)(Be=>!!Be.guardsResult||(E.restoreHistory(Be),this.cancelNavigationTransition(Be,"",3),!1)),Rs(Be=>{if(Be.guards.canActivateChecks.length)return(0,Fe.of)(Be).pipe((0,xe.b)(At=>{const mn=new Ne(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(mn)}),(0,Je.w)(At=>{let mn=!1;return(0,Fe.of)(At).pipe(function $a(T,R){return(0,ze.z)(E=>{const{targetSnapshot:N,guards:{canActivateChecks:re}}=E;if(!re.length)return(0,Fe.of)(E);let Re=0;return(0,Ae.D)(re).pipe((0,$e.b)(Be=>function wa(T,R,E,N){const re=T.routeConfig,Re=T._resolve;return void 0!==re?.title&&!li(re)&&(Re[it]=re.title),function So(T,R,E,N){const re=function Fs(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===re.length)return(0,Fe.of)({});const Re={};return(0,Ae.D)(re).pipe((0,ze.z)(Be=>function Ss(T,R,E,N){const re=Gn(R)??N,Re=Ao(T,re);return xt(Re.resolve?Re.resolve(R,E):re.runInContext(()=>Re(R,E)))}(T[Be],R,E,N).pipe((0,Xe.P)(),(0,xe.b)(At=>{Re[Be]=At}))),Z(1),function Oe(T){return(0,Ge.U)(()=>T)}(Re),lt(Be=>xi(Be)?ye.E:ce(Be)))}(Re,T,R,N).pipe((0,Ge.U)(Be=>(T._resolvedData=Be,T.data=Bi(T,E).resolve,re&&li(re)&&(T.data[it]=re.title),null)))}(Be.route,N,T,R)),(0,xe.b)(()=>Re++),Z(1),(0,ze.z)(Be=>Re===re.length?(0,Fe.of)(E):ye.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,xe.b)({next:()=>mn=!0,complete:()=>{mn||(E.restoreHistory(At),this.cancelNavigationTransition(At,"",2))}}))}),(0,xe.b)(At=>{const mn=new ut(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(mn)}))}),Rs(Be=>{const At=mn=>{const zn=[];mn.routeConfig?.loadComponent&&!mn.routeConfig._loadedComponent&&zn.push(this.configLoader.loadComponent(mn.routeConfig).pipe((0,xe.b)(Jn=>{mn.component=Jn}),(0,Ge.U)(()=>{})));for(const Jn of mn.children)zn.push(...At(Jn));return zn};return(0,qe.a)(At(Be.targetSnapshot.root)).pipe((0,he.d)(),(0,Ye.q)(1))}),Rs(()=>this.afterPreactivation()),(0,Ge.U)(Be=>{const At=function bo(T,R,E){const N=Co(T,R._root,E?E._root:void 0);return new Lr(N,R)}(E.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return N={...Be,targetRouterState:At}}),(0,xe.b)(Be=>{E.currentUrlTree=Be.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(Be.urlAfterRedirects,Be.rawUrl),E.routerState=Be.targetRouterState,"deferred"===E.urlUpdateStrategy&&(Be.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,Be),E.browserUrlTree=Be.urlAfterRedirects)}),((T,R,E,N)=>(0,Ge.U)(re=>(new gi(R,re.targetRouterState,re.currentRouterState,E,N).activate(T),re)))(this.rootContexts,E.routeReuseStrategy,Be=>this.events.next(Be),this.inputBindingEnabled),(0,Ye.q)(1),(0,xe.b)({next:Be=>{re=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new di(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(Be.targetRouterState.snapshot),Be.resolve(!0)},complete:()=>{re=!0}}),(0,pe.x)(()=>{re||Re||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),lt(Be=>{if(Re=!0,po(Be)){Yi(Be)||(E.navigated=!0,E.restoreHistory(N,!0));const At=new Hi(N.id,this.urlSerializer.serialize(N.extractedUrl),Be.message,Be.cancellationCode);if(this.events.next(At),Yi(Be)){const mn=E.urlHandlingStrategy.merge(Be.url,E.rawUrlTree),zn={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||L(N.source)};E.scheduleNavigation(mn,Mr,null,zn,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{E.restoreHistory(N,!0);const At=new ri(N.id,this.urlSerializer.serialize(N.extractedUrl),Be,N.targetSnapshot??void 0);this.events.next(At);try{N.resolve(E.errorHandler(Be))}catch(mn){N.reject(mn)}}return ye.E}))}))}cancelNavigationTransition(E,N,re){const Re=new Hi(E.id,this.urlSerializer.serialize(E.extractedUrl),N,re);this.events.next(Re),E.resolve(!1)}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function L(T){return T!==Mr}let ve=(()=>{class T{buildTitle(E){let N,re=E.root;for(;void 0!==re;)N=this.getResolvedTitleForRoute(re)??N,re=re.children.find(Re=>Re.outlet===Ue);return N}getResolvedTitleForRoute(E){return E.data[it]}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(rt)},providedIn:"root"}),T})(),rt=(()=>{class T extends ve{constructor(E){super(),this.title=E}updateTitle(E){const N=this.buildTitle(E);void 0!==N&&this.title.setTitle(N)}}return T.\u0275fac=function(E){return new(E||T)(c.LFG(We.Dx))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),jt=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Vn)},providedIn:"root"}),T})();class Qt{shouldDetach(R){return!1}store(R,E){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,E){return R.routeConfig===E.routeConfig}}let Vn=(()=>{class T extends Qt{}return T.\u0275fac=function(){let R;return function(N){return(R||(R=c.n5z(T)))(N||T)}}(),T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const oi=new c.OlP("",{providedIn:"root",factory:()=>({})});let si=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Vr)},providedIn:"root"}),T})(),Vr=(()=>{class T{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,N){return E}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var Wn=(()=>((Wn=Wn||{})[Wn.COMPLETE=0]="COMPLETE",Wn[Wn.FAILED=1]="FAILED",Wn[Wn.REDIRECTING=2]="REDIRECTING",Wn))();function Pi(T,R){T.events.pipe((0,oe.h)(E=>E instanceof di||E instanceof Hi||E instanceof ri||E instanceof co),(0,Ge.U)(E=>E instanceof di||E instanceof co?Wn.COMPLETE:E instanceof Hi&&(0===E.code||1===E.code)?Wn.REDIRECTING:Wn.FAILED),(0,oe.h)(E=>E!==Wn.REDIRECTING),(0,Ye.q)(1)).subscribe(()=>{R()})}function An(T){throw T}function Gi(T,R,E){return R.parse("/")}const Jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},is={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(oi,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||An,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(si),this.routeReuseStrategy=(0,c.f3M)(jt),this.titleStrategy=(0,c.f3M)(ve),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Qo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(te),this.urlSerializer=(0,c.f3M)(In),this.location=(0,c.f3M)(Ke.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Di,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Sn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mr,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const N="popstate"===E.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,N,E.state)},0)}))}navigateToSyncWithBrowser(E,N,re){const Re={replaceUrl:!0},Be=re?.navigationId?re:null;if(re){const mn={...re};delete mn.navigationId,delete mn.\u0275routerPageId,0!==Object.keys(mn).length&&(Re.state=mn)}const At=this.parseUrl(E);this.scheduleNavigation(At,N,Be,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,N={}){const{relativeTo:re,queryParams:Re,fragment:Be,queryParamsHandling:At,preserveFragment:mn}=N,zn=mn?this.currentUrlTree.fragment:Be;let Hr,Jn=null;switch(At){case"merge":Jn={...this.currentUrlTree.queryParams,...Re};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=Re||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{Hr=en(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),Hr=this.currentUrlTree.root}return ir(Hr,E,Jn,zn??null)}navigateByUrl(E,N={skipLocationChange:!1}){const re=Gt(E)?E:this.parseUrl(E),Re=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(Re,Mr,null,N)}navigate(E,N={skipLocationChange:!1}){return function Ho(T){for(let R=0;R<T.length;R++)if(null==T[R])throw new c.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,N),N)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let N;try{N=this.urlSerializer.parse(E)}catch(re){N=this.malformedUriErrorHandler(re,this.urlSerializer,E)}return N}isActive(E,N){let re;if(re=!0===N?{...Jo}:!1===N?{...is}:N,Gt(E))return cn(this.currentUrlTree,E,re);const Re=this.parseUrl(E);return cn(this.currentUrlTree,Re,re)}removeEmptyProps(E){return Object.keys(E).reduce((N,re)=>{const Re=E[re];return null!=Re&&(N[re]=Re),N},{})}scheduleNavigation(E,N,re,Re,Be){if(this.disposed)return Promise.resolve(!1);let At,mn,zn;Be?(At=Be.resolve,mn=Be.reject,zn=Be.promise):zn=new Promise((Hr,_o)=>{At=Hr,mn=_o});const Jn=this.pendingTasks.add();return Pi(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:Re,resolve:At,reject:mn,promise:zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zn.catch(Hr=>Promise.reject(Hr))}setBrowserUrl(E,N){const re=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(re)||N.extras.replaceUrl){const Be={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(re,"",Be)}else{const Re={...N.extras.state,...this.generateNgRouterState(N.id,(this.browserPageId??0)+1)};this.location.go(re,"",Re)}}restoreHistory(E,N=!1){if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Re?this.location.historyGo(Re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Re&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,N){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:N}:{navigationId:E}}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ko=(()=>{class T{constructor(E,N,re,Re,Be,At){this.router=E,this.route=N,this.tabIndexAttribute=re,this.renderer=Re,this.el=Be,this.locationStrategy=At,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new De.x;const mn=Be.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===mn||"area"===mn,this.isAnchorElement?this.subscription=E.events.subscribe(zn=>{zn instanceof di&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,c.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,c.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,c.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,N,re,Re,Be){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||N||re||Re||Be||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,N){const re=this.renderer,Re=this.el.nativeElement;null!==N?re.setAttribute(Re,E,N):re.removeAttribute(Re,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(E){return new(E||T)(c.Y36(Ui),c.Y36(mr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ke.S$))},T.\u0275dir=c.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,N){1&E&&c.NdJ("click",function(Re){return N.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&E&&c.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),T})();class go{}let Kr=(()=>{class T{preload(E,N){return N().pipe(lt(()=>(0,Fe.of)(null)))}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),aa=(()=>{class T{constructor(E,N,re,Re,Be){this.router=E,this.injector=re,this.preloadingStrategy=Re,this.loader=Be}setUpPreloading(){this.subscription=this.router.events.pipe((0,oe.h)(E=>E instanceof di),(0,$e.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,N){const re=[];for(const Re of N){Re.providers&&!Re._injector&&(Re._injector=(0,c.MMx)(Re.providers,E,`Route: ${Re.path}`));const Be=Re._injector??E,At=Re._loadedInjector??Be;(Re.loadChildren&&!Re._loadedRoutes&&void 0===Re.canLoad||Re.loadComponent&&!Re._loadedComponent)&&re.push(this.preloadConfig(Be,Re)),(Re.children||Re._loadedRoutes)&&re.push(this.processRoutes(At,Re.children??Re._loadedRoutes))}return(0,Ae.D)(re).pipe((0,He.J)())}preloadConfig(E,N){return this.preloadingStrategy.preload(N,()=>{let re;re=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(E,N):(0,Fe.of)(null);const Re=re.pipe((0,ze.z)(Be=>null===Be?(0,Fe.of)(void 0):(N._loadedRoutes=Be.routes,N._loadedInjector=Be.injector,this.processRoutes(Be.injector??E,Be.routes))));if(N.loadComponent&&!N._loadedComponent){const Be=this.loader.loadComponent(N);return(0,Ae.D)([Re,Be]).pipe((0,He.J)())}return Re})}}return T.\u0275fac=function(E){return new(E||T)(c.LFG(Ui),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(go),c.LFG(wo))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const an=new c.OlP("");let Qr=(()=>{class T{constructor(E,N,re,Re,Be={}){this.urlSerializer=E,this.transitions=N,this.viewportScroller=re,this.zone=Re,this.options=Be,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Be.scrollPositionRestoration=Be.scrollPositionRestoration||"disabled",Be.anchorScrolling=Be.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof di?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof co&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Mn&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mn(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return T.\u0275fac=function(E){c.$Z()},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();function $i(T,R){return{\u0275kind:T,\u0275providers:R}}function ua(){const T=(0,c.f3M)(c.zs3);return R=>{const E=T.get(c.z2F);if(R!==E.components[0])return;const N=T.get(Ui),re=T.get(Bs);1===T.get(Ua)&&N.initialNavigation(),T.get(Qs,null,c.XFs.Optional)?.setUpPreloading(),T.get(an,null,c.XFs.Optional)?.init(),N.resetRootComponentType(E.componentTypes[0]),re.closed||(re.next(),re.complete(),re.unsubscribe())}}const Bs=new c.OlP("",{factory:()=>new De.x}),Ua=new c.OlP("",{providedIn:"root",factory:()=>1}),Qs=new c.OlP("");function Ps(T){return $i(0,[{provide:Qs,useExisting:aa},{provide:go,useExisting:T}])}const wu=new c.OlP("ROUTER_FORROOT_GUARD"),Du=[Ke.Ye,{provide:In,useClass:sr},Ui,Fr,{provide:mr,useFactory:function Iu(T){return T.routerState.root},deps:[Ui]},wo,[]];function Wi(){return new c.PXZ("Router",Ui)}let la=(()=>{class T{constructor(E){}static forRoot(E,N){return{ngModule:T,providers:[Du,[],{provide:Qo,multi:!0,useValue:E},{provide:wu,useFactory:ys,deps:[[Ui,new c.FiY,new c.tp0]]},{provide:oi,useValue:N||{}},N?.useHash?{provide:Ke.S$,useClass:Ke.Do}:{provide:Ke.S$,useClass:Ke.b0},{provide:an,useFactory:()=>{const T=(0,c.f3M)(Ke.EM),R=(0,c.f3M)(c.R0b),E=(0,c.f3M)(oi),N=(0,c.f3M)(te),re=(0,c.f3M)(In);return E.scrollOffset&&T.setOffset(E.scrollOffset),new Qr(re,N,T,R,E)}},N?.preloadingStrategy?Ps(N.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Wi},N?.initialNavigation?Ji(N):[],N?.bindToComponentInputs?$i(8,[ii,{provide:Di,useExisting:ii}]).\u0275providers:[],[{provide:Ca,useFactory:ua},{provide:c.tb,multi:!0,useExisting:Ca}]]}}static forChild(E){return{ngModule:T,providers:[{provide:Qo,multi:!0,useValue:E}]}}}return T.\u0275fac=function(E){return new(E||T)(c.LFG(wu,8))},T.\u0275mod=c.oAB({type:T}),T.\u0275inj=c.cJS({}),T})();function ys(T){return"guarded"}function Ji(T){return["disabled"===T.initialNavigation?$i(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const R=(0,c.f3M)(Ui);return()=>{R.setUpLocationChangeListener()}}},{provide:Ua,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?$i(2,[{provide:Ua,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:R=>{const E=R.get(Ke.V_,Promise.resolve());return()=>E.then(()=>new Promise(N=>{const re=R.get(Ui),Re=R.get(Bs);Pi(re,()=>{N(!0)}),R.get(te).afterPreactivation=()=>(N(!0),Re.closed?(0,Fe.of)(void 0):Re),re.initialNavigation()}))}}]).\u0275providers:[]]}const Ca=new c.OlP("")},3942:(ln,gt,P)=>{"use strict";P.d(gt,{Z:()=>ye});var c=P(2090),d=P(4859),G=P(9681),ue=P(1877);class Ae{constructor(Ce,Pe){this._delegate=Ce,this.firebase=Pe,(0,G._addComponent)(Ce,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Ce,Pe=G._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Ce);return!yt.isInitialized()&&"EXPLICIT"===(null===(ot=yt.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:Pe})}_removeServiceInstance(Ce,Pe=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(Pe)}_addComponent(Ce){(0,G._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,G._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Qe(){const Ve=function qe(Ve){const Ce={},Pe={__esModule:!0,initializeApp:function De(Ye,Me={}){const oe=G.initializeApp(Ye,Me);if((0,c.r3)(Ce,oe.name))return Ce[oe.name];const ze=new Ve(oe,Pe);return Ce[oe.name]=ze,ze},app:yt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ge(Ye){const Me=Ye.name,oe=Me.replace("-compat","");if(G._registerComponent(Ye)&&"PUBLIC"===Ye.type){const ze=(Xe=yt())=>{if("function"!=typeof Xe[oe])throw le.create("invalid-app-argument",{appName:Me});return Xe[oe]()};void 0!==Ye.serviceProps&&(0,c.ZB)(ze,Ye.serviceProps),Pe[oe]=ze,Ve.prototype[oe]=function(...Xe){return this._getService.bind(this,Me).apply(this,Ye.multipleInstances?Xe:[])}}return"PUBLIC"===Ye.type?Pe[oe]:null},removeApp:function ot(Ye){delete Ce[Ye]},useAsService:function Je(Ye,Me){return"serverAuth"===Me?null:Me},modularAPIs:G}};function yt(Ye){if(!(0,c.r3)(Ce,Ye=Ye||G._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ye});return Ce[Ye]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ke(){return Object.keys(Ce).map(Ye=>Ce[Ye])}}),yt.App=Ve,Pe}(Ae);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function Ce(Pe){(0,c.ZB)(Ve,Pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ve}(),ae=new ue.Yd("@firebase/app-compat");try{const Ve=(0,c.Rd)();if(void 0!==Ve.firebase){ae.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ce=Ve.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&ae.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ye=fe;!function ce(Ve){(0,G.registerVersion)("@firebase/app-compat","0.2.43",Ve)}()},9681:(ln,gt,P)=>{"use strict";P.r(gt),P.d(gt,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>j,_addComponent:()=>Ue,_addOrOverwriteComponent:()=>it,_apps:()=>pe,_clearComponents:()=>gn,_components:()=>We,_getProvider:()=>at,_isFirebaseApp:()=>Kt,_isFirebaseServerApp:()=>Tt,_registerComponent:()=>st,_removeServiceInstance:()=>Ct,_serverApps:()=>He,deleteApp:()=>wn,getApp:()=>Jt,getApps:()=>un,initializeApp:()=>xn,initializeServerApp:()=>On,onLog:()=>Nn,registerVersion:()=>Zn,setLogLevel:()=>wr});var c=P(5861),d=P(4859),G=P(1877),ue=P(2090),Ae=P(8766);class Fe{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(F=>{if(function le(dn){const et=dn.getComponent();return"VERSION"===et?.type}(F)){const S=F.getImmediate();return`${S.library}/${S.version}`}return null}).filter(F=>F).join(" ")}}const qe="@firebase/app",Qe="0.10.13",fe=new G.Yd("@firebase/app"),j="[DEFAULT]",Oe={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,He=new Map,We=new Map;function Ue(dn,et){try{dn.container.addComponent(et)}catch(F){fe.debug(`Component ${et.name} failed to register with FirebaseApp ${dn.name}`,F)}}function it(dn,et){dn.container.addOrOverwriteComponent(et)}function st(dn){const et=dn.name;if(We.has(et))return fe.debug(`There were multiple attempts to register component ${et}.`),!1;We.set(et,dn);for(const F of pe.values())Ue(F,dn);for(const F of He.values())Ue(F,dn);return!0}function at(dn,et){const F=dn.container.getProvider("heartbeat").getImmediate({optional:!0});return F&&F.triggerHeartbeat(),dn.container.getProvider(et)}function Ct(dn,et,F=j){at(dn,et).clearInstance(F)}function Kt(dn){return void 0!==dn.options}function Tt(dn){return void 0!==dn.settings}function gn(){We.clear()}const xt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ht{constructor(et,F,S){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},F),this._name=F.name,this._automaticDataCollectionEnabled=F.automaticDataCollectionEnabled,this._container=S,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw xt.create("app-deleted",{appName:this._name})}}class kt extends Ht{constructor(et,F,S,$){const K=void 0!==F.automaticDataCollectionEnabled&&F.automaticDataCollectionEnabled,z={name:S,automaticDataCollectionEnabled:K};super(void 0!==et.apiKey?et:et.options,z,$),this._serverConfig=Object.assign({automaticDataCollectionEnabled:K},F),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,F.releaseOnDeref=void 0,Zn(qe,Qe,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(et){this.isDeleted||(this._refCount++,void 0!==et&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(et,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xt.create("server-app-deleted")}}const cn="10.14.1";function xn(dn,et={}){let F=dn;"object"!=typeof et&&(et={name:et});const S=Object.assign({name:j,automaticDataCollectionEnabled:!1},et),$=S.name;if("string"!=typeof $||!$)throw xt.create("bad-app-name",{appName:String($)});if(F||(F=(0,ue.aH)()),!F)throw xt.create("no-options");const K=pe.get($);if(K){if((0,ue.vZ)(F,K.options)&&(0,ue.vZ)(S,K.config))return K;throw xt.create("duplicate-app",{appName:$})}const z=new d.H0($);for(const ft of We.values())z.addComponent(ft);const de=new Ht(F,S,z);return pe.set($,de),de}function On(dn,et){if((0,ue.jU)()&&!(0,ue.n2)())throw xt.create("invalid-server-app-environment");let F;void 0===et.automaticDataCollectionEnabled&&(et.automaticDataCollectionEnabled=!1),F=Kt(dn)?dn.options:dn;const S=Object.assign(Object.assign({},et),F);if(void 0!==S.releaseOnDeref&&delete S.releaseOnDeref,void 0!==et.releaseOnDeref&&typeof FinalizationRegistry>"u")throw xt.create("finalization-registry-not-supported",{});const K=""+(St=JSON.stringify(S),[...St].reduce((Ot,Gt)=>Math.imul(31,Ot)+Gt.charCodeAt(0)|0,0)),z=He.get(K);var St;if(z)return z.incRefCount(et.releaseOnDeref),z;const de=new d.H0(K);for(const St of We.values())de.addComponent(St);const ft=new kt(F,et,K,de);return He.set(K,ft),ft}function Jt(dn=j){const et=pe.get(dn);if(!et&&dn===j&&(0,ue.aH)())return xn();if(!et)throw xt.create("no-app",{appName:dn});return et}function un(){return Array.from(pe.values())}function wn(dn){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(dn){let et=!1;const F=dn.name;pe.has(F)?(et=!0,pe.delete(F)):He.has(F)&&dn.decRefCount()<=0&&(He.delete(F),et=!0),et&&(yield Promise.all(dn.container.getProviders().map(S=>S.delete())),dn.isDeleted=!0)})).apply(this,arguments)}function Zn(dn,et,F){var S;let $=null!==(S=Oe[dn])&&void 0!==S?S:dn;F&&($+=`-${F}`);const K=$.match(/\s|\//),z=et.match(/\s|\//);if(K||z){const de=[`Unable to register library "${$}" with version "${et}":`];return K&&de.push(`library name "${$}" contains illegal characters (whitespace or "/")`),K&&z&&de.push("and"),z&&de.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void fe.warn(de.join(" "))}st(new d.wA(`${$}-version`,()=>({library:$,version:et}),"VERSION"))}function Nn(dn,et){if(null!==dn&&"function"!=typeof dn)throw xt.create("invalid-log-argument");(0,G.Am)(dn,et)}function wr(dn){(0,G.Ub)(dn)}const Dn="firebase-heartbeat-database",nr=1,yr="firebase-heartbeat-store";let In=null;function sr(){return In||(In=(0,Ae.X3)(Dn,nr,{upgrade:(dn,et)=>{if(0===et)try{dn.createObjectStore(yr)}catch(F){console.warn(F)}}}).catch(dn=>{throw xt.create("idb-open",{originalErrorMessage:dn.message})})),In}function rr(){return(rr=(0,c.Z)(function*(dn){try{const F=(yield sr()).transaction(yr),S=yield F.objectStore(yr).get(wt(dn));return yield F.done,S}catch(et){if(et instanceof ue.ZR)fe.warn(et.message);else{const F=xt.create("idb-get",{originalErrorMessage:et?.message});fe.warn(F.message)}}})).apply(this,arguments)}function Dr(dn,et){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(dn,et){try{const S=(yield sr()).transaction(yr,"readwrite");yield S.objectStore(yr).put(et,wt(dn)),yield S.done}catch(F){if(F instanceof ue.ZR)fe.warn(F.message);else{const S=xt.create("idb-set",{originalErrorMessage:F?.message});fe.warn(S.message)}}})).apply(this,arguments)}function wt(dn){return`${dn.name}!${dn.options.appId}`}class vi{constructor(et){this.container=et,this._heartbeatsCache=null;const F=this.container.getProvider("app").getImmediate();this._storage=new vr(F),this._heartbeatsCachePromise=this._storage.read().then(S=>(this._heartbeatsCache=S,S))}triggerHeartbeat(){var et=this;return(0,c.Z)(function*(){var F,S;try{const K=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),z=qr();return null==(null===(F=et._heartbeatsCache)||void 0===F?void 0:F.heartbeats)&&(et._heartbeatsCache=yield et._heartbeatsCachePromise,null==(null===(S=et._heartbeatsCache)||void 0===S?void 0:S.heartbeats))||et._heartbeatsCache.lastSentHeartbeatDate===z||et._heartbeatsCache.heartbeats.some(de=>de.date===z)?void 0:(et._heartbeatsCache.heartbeats.push({date:z,agent:K}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(de=>{const ft=new Date(de.date).valueOf();return Date.now()-ft<=2592e6}),et._storage.overwrite(et._heartbeatsCache))}catch($){fe.warn($)}})()}getHeartbeatsHeader(){var et=this;return(0,c.Z)(function*(){var F;try{if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null==(null===(F=et._heartbeatsCache)||void 0===F?void 0:F.heartbeats)||0===et._heartbeatsCache.heartbeats.length)return"";const S=qr(),{heartbeatsToSend:$,unsentEntries:K}=function ti(dn,et=1024){const F=[];let S=dn.slice();for(const $ of dn){const K=F.find(z=>z.agent===$.agent);if(K){if(K.dates.push($.date),Cr(F)>et){K.dates.pop();break}}else if(F.push({agent:$.agent,dates:[$.date]}),Cr(F)>et){F.pop();break}S=S.slice(1)}return{heartbeatsToSend:F,unsentEntries:S}}(et._heartbeatsCache.heartbeats),z=(0,ue.L)(JSON.stringify({version:2,heartbeats:$}));return et._heartbeatsCache.lastSentHeartbeatDate=S,K.length>0?(et._heartbeatsCache.heartbeats=K,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),z}catch(S){return fe.warn(S),""}})()}}function qr(){return(new Date).toISOString().substring(0,10)}class vr{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,c.Z)(function*(){if(yield et._canUseIndexedDBPromise){const S=yield function jn(dn){return rr.apply(this,arguments)}(et.app);return S?.heartbeats?S:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(et){var F=this;return(0,c.Z)(function*(){var S;if(yield F._canUseIndexedDBPromise){const K=yield F.read();return Dr(F.app,{lastSentHeartbeatDate:null!==(S=et.lastSentHeartbeatDate)&&void 0!==S?S:K.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var F=this;return(0,c.Z)(function*(){var S;if(yield F._canUseIndexedDBPromise){const K=yield F.read();return Dr(F.app,{lastSentHeartbeatDate:null!==(S=et.lastSentHeartbeatDate)&&void 0!==S?S:K.lastSentHeartbeatDate,heartbeats:[...K.heartbeats,...et.heartbeats]})}})()}}function Cr(dn){return(0,ue.L)(JSON.stringify({version:2,heartbeats:dn})).length}!function Kn(dn){st(new d.wA("platform-logger",et=>new Fe(et),"PRIVATE")),st(new d.wA("heartbeat",et=>new vi(et),"PRIVATE")),Zn(qe,Qe,dn),Zn(qe,Qe,"esm2017"),Zn("fire-js","")}("")},4859:(ln,gt,P)=>{"use strict";P.d(gt,{H0:()=>qe,wA:()=>G});var c=P(5861),d=P(2090);class G{constructor(fe,ae,Se){this.name=fe,this.instanceFactory=ae,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const ue="[DEFAULT]";class Ae{constructor(fe,ae){this.name=fe,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ae=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ae)){const Se=new d.BH;if(this.instancesDeferred.set(ae,Se),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:ae});Ie&&Se.resolve(Ie)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(fe){var ae;const Se=this.normalizeInstanceIdentifier(fe?.identifier),Ie=null!==(ae=fe?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(ce){if(Ie)return null;throw ce}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function le(Qe){return"EAGER"===Qe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[ae,Se]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(ae);try{const ce=this.getOrInitializeService({instanceIdentifier:Ie});Se.resolve(ce)}catch{}}}}clearInstance(fe=ue){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,c.Z)(function*(){const ae=Array.from(fe.instances.values());yield Promise.all([...ae.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ae.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=ue){return this.instances.has(fe)}getOptions(fe=ue){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ae={}}=fe,Se=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:Se,options:ae});for(const[ce,ye]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(ce)&&ye.resolve(Ie);return Ie}onInit(fe,ae){var Se;const Ie=this.normalizeInstanceIdentifier(ae),ce=null!==(Se=this.onInitCallbacks.get(Ie))&&void 0!==Se?Se:new Set;ce.add(fe),this.onInitCallbacks.set(Ie,ce);const ye=this.instances.get(Ie);return ye&&fe(ye,Ie),()=>{ce.delete(fe)}}invokeOnInitCallbacks(fe,ae){const Se=this.onInitCallbacks.get(ae);if(Se)for(const Ie of Se)try{Ie(fe,ae)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ae={}}){let Se=this.instances.get(fe);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=fe,Qe===ue?void 0:Qe),options:ae}),this.instances.set(fe,Se),this.instancesOptions.set(fe,ae),this.invokeOnInitCallbacks(Se,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Se)}catch{}var Qe;return Se||null}normalizeInstanceIdentifier(fe=ue){return this.component?this.component.multipleInstances?fe:ue:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ae=this.getProvider(fe.name);if(ae.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ae.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ae=new Ae(fe,this);return this.providers.set(fe,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,gt,P)=>{"use strict";P.d(gt,{Am:()=>Qe,Ub:()=>qe,Yd:()=>le,in:()=>d});const c=[];var d=(()=>((d=d||{})[d.DEBUG=0]="DEBUG",d[d.VERBOSE=1]="VERBOSE",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.SILENT=5]="SILENT",d))();const G={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},ue=d.INFO,Ae={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},Fe=(fe,ae,...Se)=>{if(ae<fe.logLevel)return;const Ie=(new Date).toISOString(),ce=Ae[ae];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[ce](`[${Ie}]  ${fe.name}:`,...Se)};class le{constructor(ae){this.name=ae,this._logLevel=ue,this._logHandler=Fe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in d))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?G[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...ae),this._logHandler(this,d.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...ae),this._logHandler(this,d.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,d.INFO,...ae),this._logHandler(this,d.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,d.WARN,...ae),this._logHandler(this,d.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...ae),this._logHandler(this,d.ERROR,...ae)}}function qe(fe){c.forEach(ae=>{ae.setLogLevel(fe)})}function Qe(fe,ae){for(const Se of c){let Ie=null;ae&&ae.level&&(Ie=G[ae.level]),Se.userLogHandler=null===fe?null:(ce,ye,...Ve)=>{const Ce=Ve.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");ye>=(Ie??ce.logLevel)&&fe({level:d[ye].toLowerCase(),message:Ce,args:Ve,type:ce.name})}}}},6794:(ln,gt,P)=>{"use strict";P.d(gt,{Br:()=>_r,w:()=>st,dr:()=>un,BJ:()=>wn,oU:()=>En,cs:()=>ie,YG:()=>nr,Sm:()=>yr,wI:()=>cr,W2:()=>pr,x4:()=>vi,fr:()=>Kn,jY:()=>dn,Gu:()=>et,gu:()=>F,Xz:()=>S,pK:()=>z,Ie:()=>de,rH:()=>ft,Ub:()=>St,Q$:()=>en,q_:()=>ir,yh:()=>fr,uN:()=>Yr,jP:()=>Yi,Nd:()=>Ii,VI:()=>Vi,t9:()=>co,n0:()=>ri,CK:()=>me,PQ:()=>je,yq:()=>Ne,ZU:()=>ut,UN:()=>se,yW:()=>dt,g2:()=>Vt,Bs:()=>Ft,wd:()=>Yt,ho:()=>Xt,sr:()=>Mn,Pc:()=>ss,r4:()=>mi,HT:()=>or,IN:()=>Gn,SH:()=>Zr,as:()=>at,t4:()=>ai,YI:()=>ct,QI:()=>Kt,j9:()=>Tt,yF:()=>kr});var c=P(5861),d=P(2223),G=P(5030),ue=P(7582),Ae=P(8421),Fe=P(9751),le=P(5577),qe=P(1144),Qe=P(576),fe=P(3268);const ae=["addListener","removeListener"],Se=["addEventListener","removeEventListener"],Ie=["on","off"];function ce(v,X,I,Y){if((0,Qe.m)(I)&&(Y=I,I=void 0),Y)return ce(v,X,I).pipe((0,fe.Z)(Y));const[ke,nn]=function Pe(v){return(0,Qe.m)(v.addEventListener)&&(0,Qe.m)(v.removeEventListener)}(v)?Se.map(Cn=>Yn=>v[Cn](X,Yn,I)):function Ve(v){return(0,Qe.m)(v.addListener)&&(0,Qe.m)(v.removeListener)}(v)?ae.map(ye(v,X)):function Ce(v){return(0,Qe.m)(v.on)&&(0,Qe.m)(v.off)}(v)?Ie.map(ye(v,X)):[];if(!ke&&(0,qe.z)(v))return(0,le.z)(Cn=>ce(Cn,X,I))((0,Ae.Xf)(v));if(!ke)throw new TypeError("Invalid event target");return new Fe.y(Cn=>{const Yn=(...Nr)=>Cn.next(1<Nr.length?Nr:Nr[0]);return ke(Yn),()=>nn(Yn)})}function ye(v,X){return I=>Y=>v[I](X,Y)}var ot=P(7579),yt=P(1135),De=P(4517),Ke=P(4464),Ge=P(9300),Je=P(3900),Ye=P(1884),Me=P(4755),ze=P(661);const $e=P(953).i,be=["*"],he=["outlet"],Z=[[["","slot","top"]],"*"],M=["[slot=top]","*"],Oe=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let pe=(()=>{class v{constructor(I,Y){this.injector=I,this.el=Y,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(I){this.el.nativeElement.value=this.lastValue=I,He(this.el)}handleValueChange(I,Y){I===this.el.nativeElement&&(Y!==this.lastValue&&(this.lastValue=Y,this.onChange(Y)),He(this.el))}_handleBlurEvent(I){I===this.el.nativeElement&&(this.onTouched(),He(this.el))}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.el.nativeElement.disabled=I}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let I;try{I=this.injector.get(G.a5)}catch{}if(!I)return;I.statusChanges&&(this.statusChanges=I.statusChanges.subscribe(()=>He(this.el)));const Y=I.control;Y&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(nn=>{if(typeof Y[nn]<"u"){const Cn=Y[nn].bind(Y);Y[nn]=(...Yn)=>{Cn(...Yn),He(this.el)}}})}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.zs3),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,hostBindings:function(I,Y){1&I&&d.NdJ("ionBlur",function(nn){return Y._handleBlurEvent(nn.target)})}}),v})();const He=v=>{Oe(()=>{const X=v.nativeElement,I=null!=X.value&&X.value.toString().length>0,Y=We(X);Ue(X,Y);const ke=X.closest("ion-item");ke&&Ue(ke,I?[...Y,"item-has-value"]:Y)})},We=v=>{const X=v.classList,I=[];for(let Y=0;Y<X.length;Y++){const ke=X.item(Y);null!==ke&&it(ke,"ng-")&&I.push(`ion-${ke.substring(3)}`)}return I},Ue=(v,X)=>{const I=v.classList;I.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),I.add(...X)},it=(v,X)=>v.substring(0,X.length)===X;let st=(()=>{class v extends pe{constructor(I,Y){super(I,Y)}writeValue(I){this.el.nativeElement.checked=this.lastValue=I,He(this.el)}_handleIonChange(I){this.handleValueChange(I,I.checked)}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.zs3),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(I,Y){1&I&&d.NdJ("ionChange",function(nn){return Y._handleIonChange(nn.target)})},features:[d._Bn([{provide:G.JU,useExisting:v,multi:!0}]),d.qOj]}),v})(),at=(()=>{class v extends pe{constructor(I,Y){super(I,Y)}handleInputEvent(I){this.handleValueChange(I,I.value)}registerOnChange(I){super.registerOnChange(Y=>{I(""===Y?null:parseFloat(Y))})}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.zs3),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-input","type","number"]],hostBindings:function(I,Y){1&I&&d.NdJ("ionInput",function(nn){return Y.handleInputEvent(nn.target)})},features:[d._Bn([{provide:G.JU,useExisting:v,multi:!0}]),d.qOj]}),v})(),Kt=(()=>{class v extends pe{constructor(I,Y){super(I,Y)}_handleChangeEvent(I){this.handleValueChange(I,I.value)}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.zs3),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(I,Y){1&I&&d.NdJ("ionChange",function(nn){return Y._handleChangeEvent(nn.target)})},features:[d._Bn([{provide:G.JU,useExisting:v,multi:!0}]),d.qOj]}),v})(),Tt=(()=>{class v extends pe{constructor(I,Y){super(I,Y)}_handleInputEvent(I){this.handleValueChange(I,I.value)}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.zs3),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(I,Y){1&I&&d.NdJ("ionInput",function(nn){return Y._handleInputEvent(nn.target)})},features:[d._Bn([{provide:G.JU,useExisting:v,multi:!0}]),d.qOj]}),v})();const gn=(v,X)=>{const I=v.prototype;X.forEach(Y=>{Object.defineProperty(I,Y,{get(){return this.el[Y]},set(ke){this.z.runOutsideAngular(()=>this.el[Y]=ke)}})})},yn=(v,X)=>{const I=v.prototype;X.forEach(Y=>{I[Y]=function(){const ke=arguments;return this.z.runOutsideAngular(()=>this.el[Y].apply(this.el,ke))}})},xt=(v,X,I)=>{I.forEach(Y=>v[Y]=ce(X,Y))};function kt(v){return function(I){const{defineCustomElementFn:Y,inputs:ke,methods:nn}=v;return void 0!==Y&&Y(),ke&&gn(I,ke),nn&&yn(I,nn),I}}let un=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({})],v),v})(),wn=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-avatar"]],ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({})],v),v})(),En=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),nr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),yr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["collapse"]})],v),v})(),cr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],v),v})(),pr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),vi=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],v),v})(),Kn=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["collapse","mode","translucent"]})],v),v})(),dn=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["fixed"]})],v),v})(),et=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["collapse","mode","translucent"]})],v),v})(),F=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),S=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["alt","src"]})],v),v})(),z=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),de=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),ft=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode","sticky"]})],v),v})(),St=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-item-group"]],ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({})],v),v})(),en=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode","position"]})],v),v})(),ir=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),fr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","lines","mode"]})],v),v})(),Yr=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode"]})],v),v})(),Ii=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-row"]],ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({})],v),v})(),Vi=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),co=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],v),v})(),ri=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["disabled","value"]})],v),v})(),me=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["animated"]})],v),v})(),je=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","duration","name","paused"]})],v),v})(),Ne=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode","selectedTab","translucent"]})],v),v})(),ut=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],v),v})(),dt=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode"]})],v),v})(),Vt=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],v),v})(),Ft=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-thumbnail"]],ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({})],v),v})(),Yt=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","size"]})],v),v})(),Xt=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement,xt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],v),v})(),Mn=(()=>{let v=class{constructor(I,Y,ke){this.z=ke,I.detach(),this.el=Y.nativeElement}};return v.\u0275fac=function(I){return new(I||v)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:be,decls:1,vars:0,template:function(I,Y){1&I&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ue.gn)([kt({inputs:["color","mode"]})],v),v})(),qn=(()=>{class v{get(I,Y){const ke=Fr();return ke?ke.get(I,Y):null}getBoolean(I,Y){const ke=Fr();return!!ke&&ke.getBoolean(I,Y)}getNumber(I,Y){const ke=Fr();return ke?ke.getNumber(I,Y):0}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const er=new d.OlP("USERCONFIG"),Fr=()=>{if(typeof window<"u"){const v=window.Ionic;if(v?.config)return v.config}return null};let ai=(()=>{class v{constructor(I,Y){this.doc=I,this.backButton=new ot.x,this.keyboardDidShow=new ot.x,this.keyboardDidHide=new ot.x,this.pause=new ot.x,this.resume=new ot.x,this.resize=new ot.x,Y.run(()=>{let ke;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(nn,Cn){return this.subscribe(Yn=>Yn.register(nn,Nr=>Y.run(()=>Cn(Nr))))},Ur(this.pause,I,"pause"),Ur(this.resume,I,"resume"),Ur(this.backButton,I,"ionBackButton"),Ur(this.resize,this.win,"resize"),Ur(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ur(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(nn=>{ke=nn}),this.win?.cordova?I.addEventListener("deviceready",()=>{ke("cordova")},{once:!0}):ke("dom")})}is(I){return(0,Ke.n$)(this.win,I)}platforms(){return(0,Ke.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return Ar(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(I){const Y=this.win.navigator;return!!(Y?.userAgent&&Y.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(I){return new(I||v)(d.LFG(Me.K0),d.LFG(d.R0b))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ar=(v,X)=>{X=X.replace(/[[\]\\]/g,"\\$&");const Y=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(v);return Y?decodeURIComponent(Y[1].replace(/\+/g," ")):null},Ur=(v,X,I)=>{X&&X.addEventListener(I,Y=>{const ke=Y?.detail;v.next(ke)})};let Zr=(()=>{class v{constructor(I,Y,ke,nn){this.location=Y,this.serializer=ke,this.router=nn,this.direction=Lr,this.animated=Sn,this.guessDirection="forward",this.lastNavId=-1,nn&&nn.events.subscribe(Cn=>{if(Cn instanceof De.OD){const Yn=Cn.restoredState?Cn.restoredState.navigationId:Cn.id;this.guessDirection=Yn<this.lastNavId?"back":"forward",this.guessAnimation=Cn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Cn.id:Yn}}),I.backButton.subscribeWithPriority(0,Cn=>{this.pop(),Cn()})}navigateForward(I,Y={}){return this.setDirection("forward",Y.animated,Y.animationDirection,Y.animation),this.navigate(I,Y)}navigateBack(I,Y={}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.navigate(I,Y)}navigateRoot(I,Y={}){return this.setDirection("root",Y.animated,Y.animationDirection,Y.animation),this.navigate(I,Y)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,c.Z)(function*(){let Y=I.topOutlet;for(;Y&&!(yield Y.pop());)Y=Y.parentOutlet})()}setDirection(I,Y,ke,nn){this.direction=I,this.animated=ho(I,Y,ke),this.animationBuilder=nn}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let Y,I="root";const ke=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,Y=this.guessAnimation):(Y=this.animated,I=this.direction),this.direction=Lr,this.animated=Sn,this.animationBuilder=void 0,{direction:I,animation:Y,animationBuilder:ke}}navigate(I,Y){if(Array.isArray(I))return this.router.navigate(I,Y);{const ke=this.serializer.parse(I.toString());return void 0!==Y.queryParams&&(ke.queryParams={...Y.queryParams}),void 0!==Y.fragment&&(ke.fragment=Y.fragment),this.router.navigateByUrl(ke,Y)}}}return v.\u0275fac=function(I){return new(I||v)(d.LFG(ai),d.LFG(Me.Ye),d.LFG(De.Hx),d.LFG(De.F0,8))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ho=(v,X,I)=>{if(!1!==X){if(void 0!==I)return I;if("forward"===v||"back"===v)return v;if("root"===v&&!0===X)return"forward"}},Lr="auto",Sn=void 0;class Xn{constructor(X={}){this.data=X}get(X){return this.data[X]}}let mr=(()=>{class v{constructor(){this.zone=(0,d.f3M)(d.R0b),this.applicationRef=(0,d.f3M)(d.z2F)}create(I,Y,ke){return new Bi(I,Y,this.applicationRef,this.zone,ke)}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();class Bi{constructor(X,I,Y,ke,nn){this.environmentInjector=X,this.injector=I,this.applicationRef=Y,this.zone=ke,this.elementReferenceKey=nn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(X,I,Y,ke){return this.zone.run(()=>new Promise(nn=>{const Cn={...Y};void 0!==this.elementReferenceKey&&(Cn[this.elementReferenceKey]=X),nn(zi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,X,I,Cn,ke,this.elementReferenceKey))}))}removeViewFromDom(X,I){return this.zone.run(()=>new Promise(Y=>{const ke=this.elRefMap.get(I);if(ke){ke.destroy(),this.elRefMap.delete(I);const nn=this.elEventsMap.get(I);nn&&(nn(),this.elEventsMap.delete(I))}Y()}))}}const zi=(v,X,I,Y,ke,nn,Cn,Yn,Nr,Xr,xi)=>{const jo=d.zs3.create({providers:ko(Nr),parent:I}),jr=(0,d.LMc)(Yn,{environmentInjector:X,elementInjector:jo}),_i=jr.instance,W=jr.location.nativeElement;if(Nr&&(xi&&void 0!==_i[xi]&&console.error(`[Ionic Error]: ${xi} is a reserved property when using ${Cn.tagName.toLowerCase()}. Rename or remove the "${xi}" property from ${Yn.name}.`),Object.assign(_i,Nr)),Xr)for(const U of Xr)W.classList.add(U);const H=Io(v,_i,W);return Cn.appendChild(W),Y.attachView(jr.hostView),ke.set(W,jr),nn.set(W,H),W},zr=[Ke.kx,Ke.re,Ke.EQ,Ke.Jd,Ke.F8],Io=(v,X,I)=>v.run(()=>{const Y=zr.filter(ke=>"function"==typeof X[ke]).map(ke=>{const nn=Cn=>X[ke](Cn.detail);return I.addEventListener(ke,nn),()=>I.removeEventListener(ke,nn)});return()=>Y.forEach(ke=>ke())}),Or=new d.OlP("NavParamsToken"),ko=v=>[{provide:Or,useValue:v},{provide:Xn,useFactory:no,deps:[Or]}],no=v=>new Xn(v),ro=(v,X)=>((v=v.filter(I=>I.stackId!==X.stackId)).push(X),v),ii=(v,X)=>{const I=v.createUrlTree(["."],{relativeTo:X});return v.serializeUrl(I)},Co=(v,X)=>{if(!v)return;const I=io(X);for(let Y=0;Y<I.length;Y++){if(Y>=v.length)return I[Y];if(I[Y]!==v[Y])return}},io=v=>v.split("/").map(X=>X.trim()).filter(X=>""!==X),To=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class Fo{constructor(X,I,Y,ke,nn,Cn){this.containerEl=I,this.router=Y,this.navCtrl=ke,this.zone=nn,this.location=Cn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==X?io(X):void 0}createView(X,I){const Y=ii(this.router,I),ke=X?.location?.nativeElement,nn=Io(this.zone,X.instance,ke);return{id:this.nextId++,stackId:Co(this.tabsPrefix,Y),unlistenEvents:nn,element:ke,ref:X,url:Y}}getExistingView(X){const I=ii(this.router,X),Y=this.views.find(ke=>ke.url===I);return Y&&Y.ref.changeDetectorRef.reattach(),Y}setActive(X){const I=this.navCtrl.consumeTransition();let{direction:Y,animation:ke,animationBuilder:nn}=I;const Cn=this.activeView,Yn=((v,X)=>!X||v.stackId!==X.stackId)(X,Cn);Yn&&(Y="back",ke=void 0);const Nr=this.views.slice();let Xr;const xi=this.router;xi.getCurrentNavigation?Xr=xi.getCurrentNavigation():xi.navigations?.value&&(Xr=xi.navigations.value),Xr?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const jo=this.views.includes(X),jr=this.insertView(X,Y);jo||X.ref.changeDetectorRef.detectChanges();const _i=X.animationBuilder;return void 0===nn&&"back"===Y&&!Yn&&void 0!==_i&&(nn=_i),Cn&&(Cn.animationBuilder=nn),this.zone.runOutsideAngular(()=>this.wait(()=>(Cn&&Cn.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,Cn,ke,this.canGoBack(1),!1,nn).then(()=>oo(X,jr,Nr,this.location,this.zone)).then(()=>({enteringView:X,direction:Y,animation:ke,tabSwitch:Yn})))))}canGoBack(X,I=this.getActiveStackId()){return this.getStack(I).length>X}pop(X,I=this.getActiveStackId()){return this.zone.run(()=>{const Y=this.getStack(I);if(Y.length<=X)return Promise.resolve(!1);const ke=Y[Y.length-X-1];let nn=ke.url;const Cn=ke.savedData;if(Cn){const Nr=Cn.get("primary");Nr?.route?._routerState?.snapshot.url&&(nn=Nr.route._routerState.snapshot.url)}const{animationBuilder:Yn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(nn,{...ke.savedExtras,animation:Yn}).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const I=this.getStack(X.stackId),Y=I[I.length-2],ke=Y.animationBuilder;return this.wait(()=>this.transition(Y,X,"back",this.canGoBack(2),!0,ke))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&fo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(X){const I=this.getStack(X);return I.length>0?I[I.length-1]:void 0}getRootUrl(X){const I=this.getStack(X);return I.length>0?I[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(To),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(I=>I.stackId===X)}insertView(X,I){return this.activeView=X,this.views=((v,X,I)=>"root"===I?ro(v,X):"forward"===I?((v,X)=>(v.indexOf(X)>=0?v=v.filter(Y=>Y.stackId!==X.stackId||Y.id<=X.id):v.push(X),v))(v,X):((v,X)=>v.indexOf(X)>=0?v.filter(Y=>Y.stackId!==X.stackId||Y.id<=X.id):ro(v,X))(v,X))(this.views,X,I),this.views.slice()}transition(X,I,Y,ke,nn,Cn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(I===X)return Promise.resolve(!1);const Yn=X?X.element:void 0,Nr=I?I.element:void 0,Xr=this.containerEl;return Yn&&Yn!==Nr&&(Yn.classList.add("ion-page"),Yn.classList.add("ion-page-invisible"),Yn.parentElement!==Xr&&Xr.appendChild(Yn),Xr.commit)?Xr.commit(Yn,Nr,{duration:void 0===Y?0:void 0,direction:Y,showGoBack:ke,progressAnimation:nn,animationBuilder:Cn}):Promise.resolve(!1)}wait(X){var I=this;return(0,c.Z)(function*(){void 0!==I.runningTask&&(yield I.runningTask,I.runningTask=void 0);const Y=I.runningTask=X();return Y.finally(()=>I.runningTask=void 0),Y})()}}const oo=(v,X,I,Y,ke)=>"function"==typeof requestAnimationFrame?new Promise(nn=>{requestAnimationFrame(()=>{fo(v,X,I,Y,ke),nn()})}):Promise.resolve(),fo=(v,X,I,Y,ke)=>{ke.run(()=>I.filter(nn=>!X.includes(nn)).forEach(To)),X.forEach(nn=>{const Yn=Y.path().split("?")[0].split("#")[0];if(nn!==v&&nn.url!==Yn){const Nr=nn.element;Nr.setAttribute("aria-hidden","true"),Nr.classList.add("ion-page-hidden"),nn.ref.changeDetectorRef.detach()}})};let Yi=(()=>{class v{constructor(I,Y,ke,nn,Cn,Yn,Nr,Xr){this.parentOutlet=Xr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new yt.X(null),this.stackEvents=new d.vpe,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.parentContexts=(0,d.f3M)(De.y6),this.location=(0,d.f3M)(d.s_b),this.environmentInjector=(0,d.f3M)(d.lqb),this.config=(0,d.f3M)(qn),this.navCtrl=(0,d.f3M)(Zr),this.nativeEl=nn.nativeElement,this.name=I||De.eC,this.tabsPrefix="true"===Y?ii(Cn,Nr):void 0,this.stackCtrl=new Fo(this.tabsPrefix,this.nativeEl,Cn,this.navCtrl,Yn,ke),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Y=>this.stackCtrl.endBackTransition(Y)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();I?.route&&this.activateWith(I.route,I.injector)}new Promise(I=>(0,Ke.hh)(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,Y){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Y=this.getContext();this.activatedView.savedData=new Map(Y.children.contexts);const ke=this.activatedView.savedData.get("primary");if(ke&&Y.route&&(ke.route={...Y.route}),this.activatedView.savedExtras={},Y.route){const nn=Y.route.snapshot;this.activatedView.savedExtras.queryParams=nn.queryParams,this.activatedView.savedExtras.fragment=nn.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,Y){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let ke,nn=this.stackCtrl.getExistingView(I);if(nn){ke=this.activated=nn.ref;const Cn=nn.savedData;Cn&&(this.getContext().children.contexts=Cn),this.updateActivatedRouteProxy(ke.instance,I)}else{const Cn=I._futureSnapshot,Yn=this.parentContexts.getOrCreateContext(this.name).children,Nr=new yt.X(null),Xr=this.createActivatedRouteProxy(Nr,I),xi=new po(Xr,Yn,this.location.injector);ke=this.activated=this.location.createComponent(Cn.routeConfig.component??Cn.component,{index:this.location.length,injector:xi,environmentInjector:Y??this.environmentInjector}),Nr.next(ke.instance),nn=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(ke.instance,Xr),this.currentActivatedRoute$.next({component:ke.instance,activatedRoute:I})}this.activatedView=nn,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(nn).then(Cn=>{this.activateEvents.emit(ke.instance),this.stackEvents.emit(Cn)})}canGoBack(I=1,Y){return this.stackCtrl.canGoBack(I,Y)}pop(I=1,Y){return this.stackCtrl.pop(I,Y)}getLastUrl(I){const Y=this.stackCtrl.getLastUrl(I);return Y?Y.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,Y){const ke=new De.gz;return ke._futureSnapshot=Y._futureSnapshot,ke._routerState=Y._routerState,ke.snapshot=Y.snapshot,ke.outlet=Y.outlet,ke.component=Y.component,ke._paramMap=this.proxyObservable(I,"paramMap"),ke._queryParamMap=this.proxyObservable(I,"queryParamMap"),ke.url=this.proxyObservable(I,"url"),ke.params=this.proxyObservable(I,"params"),ke.queryParams=this.proxyObservable(I,"queryParams"),ke.fragment=this.proxyObservable(I,"fragment"),ke.data=this.proxyObservable(I,"data"),ke}proxyObservable(I,Y){return I.pipe((0,Ge.h)(ke=>!!ke),(0,Je.w)(ke=>this.currentActivatedRoute$.pipe((0,Ge.h)(nn=>null!==nn&&nn.component===ke),(0,Je.w)(nn=>nn&&nn.activatedRoute[Y]),(0,Ye.x)())))}updateActivatedRouteProxy(I,Y){const ke=this.proxyMap.get(I);if(!ke)throw new Error("Could not find activated route proxy for view");ke._futureSnapshot=Y._futureSnapshot,ke._routerState=Y._routerState,ke.snapshot=Y.snapshot,ke.outlet=Y.outlet,ke.component=Y.component,this.currentActivatedRoute$.next({component:I,activatedRoute:Y})}}return v.\u0275fac=function(I){return new(I||v)(d.$8M("name"),d.$8M("tabs"),d.Y36(Me.Ye),d.Y36(d.SBq),d.Y36(De.F0),d.Y36(d.R0b),d.Y36(De.gz),d.Y36(v,12))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class po{constructor(X,I,Y){this.route=X,this.childContexts=I,this.parent=Y}get(X,I){return X===De.gz?this.route:X===De.y6?this.childContexts:this.parent.get(X,I)}}let se=(()=>{class v{constructor(I){this.navCtrl=I,this.ionTabsWillChange=new d.vpe,this.ionTabsDidChange=new d.vpe}onPageSelected(I){const Y=I.enteringView.stackId;I.tabSwitch&&void 0!==Y&&(this.ionTabsWillChange.emit({tab:Y}),this.tabBar&&(this.tabBar.selectedTab=Y),this.ionTabsDidChange.emit({tab:Y}))}select(I){const Y="string"==typeof I,ke=Y?I:I.detail.tab,nn=this.outlet.getActiveStackId()===ke,Cn=`${this.outlet.tabsPrefix}/${ke}`;if(Y||I.stopPropagation(),nn){const Yn=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Yn)?.url===Cn)return;const Xr=this.outlet.getRootView(ke);return this.navCtrl.navigateRoot(Cn,{...Xr&&Cn===Xr.url&&Xr.savedExtras,animated:!0,animationDirection:"back"})}{const Yn=this.outlet.getLastRouteView(ke),Nr=Yn?.url||Cn,Xr=Yn?.savedExtras;return this.navCtrl.navigateRoot(Nr,{...Xr,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(Zr))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ion-tabs"]],contentQueries:function(I,Y,ke){if(1&I&&d.Suo(ke,Ne,5),2&I){let nn;d.iGM(nn=d.CRH())&&(Y.tabBar=nn.first)}},viewQuery:function(I,Y){if(1&I&&d.Gf(he,5,Yi),2&I){let ke;d.iGM(ke=d.CRH())&&(Y.outlet=ke.first)}},hostBindings:function(I,Y){1&I&&d.NdJ("ionTabButtonClick",function(nn){return Y.select(nn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:M,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(I,Y){1&I&&(d.F$t(Z),d.Hsn(0),d.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),d.NdJ("stackEvents",function(nn){return Y.onPageSelected(nn)}),d.qZA()(),d.Hsn(4,1))},dependencies:[Yi],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),v})(),ie=(()=>{class v{constructor(I,Y,ke){this.routerOutlet=I,this.navCtrl=Y,this.config=ke}onClick(I){const Y=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),I.preventDefault()):null!=Y&&(this.navCtrl.navigateBack(Y,{animation:this.routerAnimation}),I.preventDefault())}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(Yi,8),d.Y36(Zr),d.Y36(qn))},v.\u0275dir=d.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(I,Y){1&I&&d.NdJ("click",function(nn){return Y.onClick(nn)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),v})(),ct=(()=>{class v{constructor(I,Y,ke,nn,Cn){this.locationStrategy=I,this.navCtrl=Y,this.elementRef=ke,this.router=nn,this.routerLink=Cn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const I=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=I}}onClick(I){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),I.preventDefault()}}return v.\u0275fac=function(I){return new(I||v)(d.Y36(Me.S$),d.Y36(Zr),d.Y36(d.SBq),d.Y36(De.F0),d.Y36(De.rH,8))},v.\u0275dir=d.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,Y){1&I&&d.NdJ("click",function(nn){return Y.onClick(nn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[d.TTD]}),v})();class Ln{constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,I,Y){return this.ctrl.dismiss(X,I,Y)}getTop(){return this.ctrl.getTop()}}let _r=(()=>{class v extends Ln{constructor(){super(Ke.Cl)}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),or=(()=>{class v extends Ln{constructor(){super(Ke.G0)}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Gn=(()=>{class v extends Ln{constructor(){super(Ke.Fy),this.angularDelegate=(0,d.f3M)(mr),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})(),ui=(()=>{class v extends Ln{constructor(){super(Ke.oq),this.angularDelegate=(0,d.f3M)(mr),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})(),kr=(()=>{class v extends Ln{constructor(){super(Ke.Mn)}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class mi{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,I){}retrieve(X){return null}shouldReuseRoute(X,I){if(X.routeConfig!==I.routeConfig)return!1;const Y=X.params,ke=I.params,nn=Object.keys(Y),Cn=Object.keys(ke);if(nn.length!==Cn.length)return!1;for(const Yn of nn)if(ke[Yn]!==Y[Yn])return!1;return!0}}const Ao=(v,X,I)=>()=>{if(X.defaultView&&typeof window<"u"){(0,Ke.qc)({...v,_zoneGate:nn=>I.run(nn)});const ke="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function oe(){var v=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&v.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var Y=new URL("b","http://a");return Y.pathname="c%20d","http://a/c%20d"===Y.href&&Y.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&v.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(v)}().then(()=>((v,X)=>typeof window>"u"?Promise.resolve():(0,ze.p)().then(()=>($e(),(0,ze.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),X))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Oe,jmp:nn=>I.runOutsideAngular(nn),ael(nn,Cn,Yn,Nr){nn[ke](Cn,Yn,Nr)},rel(nn,Cn,Yn,Nr){nn.removeEventListener(Cn,Yn,Nr)}}))}};let ss=(()=>{class v{static forRoot(I){return{ngModule:v,providers:[{provide:er,useValue:I},{provide:d.ip1,useFactory:Ao,multi:!0,deps:[er,Me.K0,d.R0b]}]}}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:[mr,Gn,ui],imports:[Me.ez]}),v})()},259:(ln,gt,P)=>{"use strict";P.d(gt,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=P(9681);(0,c.registerVersion)("firebase","10.14.1","app")},9260:(ln,gt,P)=>{"use strict";P.d(gt,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","10.14.1","app-compat")},9568:(ln,gt,P)=>{"use strict";P.r(gt);var c=P(5861),d=P(3942),G=P(8966),ue=P(2090),le=(P(9681),P(1877),P(4859));function qe(){return window}function ae(){return ae=(0,c.Z)(function*(F,S,$){var K;const{BuildInfo:z}=qe();(0,G.au)(S.sessionId,"AuthEvent did not contain a session ID");const de=yield function Pe(F){return ot.apply(this,arguments)}(S.sessionId),ft={};return(0,G.av)()?ft.ibi=z.packageName:(0,G.aw)()?ft.apn=z.packageName:(0,G.ax)(F,"operation-not-supported-in-this-environment"),z.displayName&&(ft.appDisplayName=z.displayName),ft.sessionId=de,(0,G.ay)(F,$,S.type,void 0,null!==(K=S.eventId)&&void 0!==K?K:void 0,ft)}),ae.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(F){const{BuildInfo:S}=qe(),$={};(0,G.av)()?$.iosBundleId=S.packageName:(0,G.aw)()?$.androidPackageName=S.packageName:(0,G.ax)(F,"operation-not-supported-in-this-environment"),yield(0,G.az)(F,$)})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(F,S,$){const{cordova:K}=qe();let z=()=>{};try{yield new Promise((de,ft)=>{let St=null;function Ot(){var en;de();const ir=null===(en=K.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof ir&&ir(),"function"==typeof $?.close&&$.close()}function Gt(){St||(St=window.setTimeout(()=>{ft((0,G.aB)(F,"redirect-cancelled-by-user"))},2e3))}function Hn(){"visible"===document?.visibilityState&&Gt()}S.addPassiveListener(Ot),document.addEventListener("resume",Gt,!1),(0,G.aw)()&&document.addEventListener("visibilitychange",Hn,!1),z=()=>{S.removePassiveListener(Ot),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",Hn,!1),St&&window.clearTimeout(St)}})}finally{z()}})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(F){const S=function yt(F){if((0,G.au)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const S=new ArrayBuffer(F.length),$=new Uint8Array(S);for(let K=0;K<F.length;K++)$[K]=F.charCodeAt(K);return $}(F),$=yield crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array($)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ke extends G.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(S=>{this.resolveInitialized=S})}addPassiveListener(S){this.passiveListeners.add(S)}removePassiveListener(S){this.passiveListeners.delete(S)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(S){return this.resolveInitialized(),this.passiveListeners.forEach($=>$(S)),super.onEvent(S)}initialized(){var S=this;return(0,c.Z)(function*(){yield S.initPromise})()}}function Ye(F){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(F){const S=yield Xe()._get($e(F));return S&&(yield Xe()._remove($e(F))),S})).apply(this,arguments)}function ze(){const F=[];for(let $=0;$<20;$++){const K=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(K))}return F.join("")}function Xe(){return(0,G.aE)(G.b)}function $e(F){return(0,G.aF)("authEvent",F.config.apiKey,F.name)}function be(F){if(!F?.includes("?"))return{};const[S,...$]=F.split("?");return(0,ue.zd)($.join("?"))}const M=class Z{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize(S){var $=this;return(0,c.Z)(function*(){const K=S._key();let z=$.eventManagers.get(K);return z||(z=new Ke(S),$.eventManagers.set(K,z),$.attachCallbackListeners(S,z)),z})()}_openPopup(S){(0,G.ax)(S,"operation-not-supported-in-this-environment")}_openRedirect(S,$,K,z){var de=this;return(0,c.Z)(function*(){!function Ce(F){var S,$,K,z,de,ft,St,Ot,Gt,Hn;const en=qe();(0,G.aC)("function"==typeof(null===(S=en?.universalLinks)||void 0===S?void 0:S.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aC)(typeof(null===($=en?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aC)("function"==typeof(null===(de=null===(z=null===(K=en?.cordova)||void 0===K?void 0:K.plugins)||void 0===z?void 0:z.browsertab)||void 0===de?void 0:de.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(Ot=null===(St=null===(ft=en?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===St?void 0:St.browsertab)||void 0===Ot?void 0:Ot.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(Hn=null===(Gt=en?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===Hn?void 0:Hn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(S);const ft=yield de._initialize(S);yield ft.initialized(),ft.resetRedirect(),(0,G.aI)(),yield de._originValidation(S);const St=function Ge(F,S,$=null){return{type:S,eventId:$,urlResponse:null,sessionId:ze(),postBody:null,tenantId:F.tenantId,error:(0,G.aB)(F,"no-auth-event")}}(S,K,z);yield function Je(F,S){return Xe()._set($e(F),S)}(S,St);const Ot=yield function fe(F,S,$){return ae.apply(this,arguments)}(S,St,$),Gt=yield function ce(F){const{cordova:S}=qe();return new Promise($=>{S.plugins.browsertab.isAvailable(K=>{let z=null;K?S.plugins.browsertab.openUrl(F):z=S.InAppBrowser.open(F,(0,G.aA)()?"_blank":"_system","location=yes"),$(z)})})}(Ot);return function ye(F,S,$){return Ve.apply(this,arguments)}(S,ft,Gt)})()}_isIframeWebStorageSupported(S,$){throw new Error("Method not implemented.")}_originValidation(S){const $=S._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Se(F){return Ie.apply(this,arguments)}(S)),this.originValidationPromises[$]}attachCallbackListeners(S,$){const{universalLinks:K,handleOpenURL:z,BuildInfo:de}=qe(),ft=setTimeout((0,c.Z)(function*(){yield Ye(S),$.onEvent(A())}),500),St=function(){var Hn=(0,c.Z)(function*(en){clearTimeout(ft);const ir=yield Ye(S);let fr=null;ir&&en?.url&&(fr=function oe(F,S){var $,K;const z=function lt(F){const S=be(F),$=S.link?decodeURIComponent(S.link):void 0,K=be($).link,z=S.deep_link_id?decodeURIComponent(S.deep_link_id):void 0;return be(z).link||z||K||$||F}(S);if(z.includes("/__/auth/callback")){const de=be(z),ft=de.firebaseError?function xe(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(de.firebaseError)):null,St=null===(K=null===($=ft?.code)||void 0===$?void 0:$.split("auth/"))||void 0===K?void 0:K[1],Ot=St?(0,G.aB)(St):null;return Ot?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:z,postBody:null}}return null}(ir,en.url)),$.onEvent(fr||A())});return function(ir){return Hn.apply(this,arguments)}}();typeof K<"u"&&"function"==typeof K.subscribe&&K.subscribe(null,St);const Ot=z,Gt=`${de.packageName.toLowerCase()}://`;qe().handleOpenURL=function(){var Hn=(0,c.Z)(function*(en){if(en.toLowerCase().startsWith(Gt)&&St({url:en}),"function"==typeof Ot)try{Ot(en)}catch(ir){console.error(ir)}});return function(en){return Hn.apply(this,arguments)}}()}};function A(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aB)("no-auth-event")}}function We(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function it(F=(0,ue.z$)()){return!("file:"!==We()&&"ionic:"!==We()&&"capacitor:"!==We()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tt(){try{const F=self.localStorage,S=G.aN();if(F)return F.setItem(S,"1"),F.removeItem(S),!function Kt(F=(0,ue.z$)()){return function at(){return(0,ue.w1)()&&11===document?.documentMode}()||function Ct(F=(0,ue.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ue.hl)()}catch{return gn()&&(0,ue.hl)()}return!1}function gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function Ue(){return"http:"===We()||"https:"===We()}()||(0,ue.ru)()||it())&&!function st(){return(0,ue.b$)()||(0,ue.UG)()}()&&Tt()&&!gn()}function xt(){return it()&&typeof document<"u"}function kt(){return(kt=(0,c.Z)(function*(){return!!xt()&&new Promise(F=>{const S=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(S),F(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},On=G.aC,Jt="persistence";function wn(F){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(F){yield F._initializationPromise;const S=Nn(),$=G.aF(Jt,F.config.apiKey,F.name);S&&S.setItem($,F._getPersistence())})).apply(this,arguments)}function Nn(){var F;try{return(null===(F=function cn(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const wr=G.aC;class Dn{constructor(){this.browserResolver=G.aE(G.k),this.cordovaResolver=G.aE(M),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize(S){var $=this;return(0,c.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(S)})()}_openPopup(S,$,K,z){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openPopup(S,$,K,z)})()}_openRedirect(S,$,K,z){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openRedirect(S,$,K,z)})()}_isIframeWebStorageSupported(S,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(S,$)}_originValidation(S){return this.assertedUnderlyingResolver._originValidation(S)}get _shouldInitProactively(){return xt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var S=this;return(0,c.Z)(function*(){if(S.underlyingResolver)return;const $=yield function Ht(){return kt.apply(this,arguments)}();S.underlyingResolver=$?S.cordovaResolver:S.browserResolver})()}}function nr(F){return F.unwrap()}function In(F){return jn(F)}function jn(F){const{_tokenResponse:S}=F instanceof ue.ZR?F.customData:F;if(!S)return null;if(!(F instanceof ue.ZR)&&"temporaryProof"in S&&"phoneNumber"in S)return G.P.credentialFromResult(F);const $=S.providerId;if(!$||$===G.p.PASSWORD)return null;let K;switch($){case G.p.GOOGLE:K=G.X;break;case G.p.FACEBOOK:K=G.W;break;case G.p.GITHUB:K=G.Y;break;case G.p.TWITTER:K=G.$;break;default:const{oauthIdToken:z,oauthAccessToken:de,oauthTokenSecret:ft,pendingToken:St,nonce:Ot}=S;return de||ft||z||St?St?$.startsWith("saml.")?G.aQ._create($,St):G.N._fromParams({providerId:$,signInMethod:$,pendingToken:St,idToken:z,accessToken:de}):new G.Z($).credential({idToken:z,accessToken:de,rawNonce:Ot}):null}return F instanceof ue.ZR?K.credentialFromError(F):K.credentialFromResult(F)}function rr(F,S){return S.catch($=>{throw $ instanceof ue.ZR&&function sr(F,S){var $;const K=null===($=S.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===S?.code)S.resolver=new wt(F,G.as(F,S));else if(K){const z=jn(S),de=S;z&&(de.credential=z,de.tenantId=K.tenantId||void 0,de.email=K.email||void 0,de.phoneNumber=K.phoneNumber||void 0)}}(F,$),$}).then($=>{const z=$.user;return{operationType:$.operationType,credential:In($),additionalUserInfo:G.aq($),user:cr.getOrCreate(z)}})}function Dr(F,S){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(F,S){const $=yield S;return{verificationId:$.verificationId,confirm:K=>rr(F,$.confirm(K))}})).apply(this,arguments)}class wt{constructor(S,$){this.resolver=$,this.auth=function yr(F){return F.wrapped()}(S)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(S){return rr(nr(this.auth),this.resolver.resolveSignIn(S))}}class cr{constructor(S){this._delegate=S,this.multiFactor=G.at(S)}static getOrCreate(S){return cr.USER_MAP.has(S)||cr.USER_MAP.set(S,new cr(S)),cr.USER_MAP.get(S)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(S){return this._delegate.getIdTokenResult(S)}getIdToken(S){return this._delegate.getIdToken(S)}linkAndRetrieveDataWithCredential(S){return this.linkWithCredential(S)}linkWithCredential(S){var $=this;return(0,c.Z)(function*(){return rr($.auth,G.a2($._delegate,S))})()}linkWithPhoneNumber(S,$){var K=this;return(0,c.Z)(function*(){return Dr(K.auth,G.l(K._delegate,S,$))})()}linkWithPopup(S){var $=this;return(0,c.Z)(function*(){return rr($.auth,G.d($._delegate,S,Dn))})()}linkWithRedirect(S){var $=this;return(0,c.Z)(function*(){return yield wn(G.aJ($.auth)),G.g($._delegate,S,Dn)})()}reauthenticateAndRetrieveDataWithCredential(S){return this.reauthenticateWithCredential(S)}reauthenticateWithCredential(S){var $=this;return(0,c.Z)(function*(){return rr($.auth,G.a3($._delegate,S))})()}reauthenticateWithPhoneNumber(S,$){return Dr(this.auth,G.r(this._delegate,S,$))}reauthenticateWithPopup(S){return rr(this.auth,G.e(this._delegate,S,Dn))}reauthenticateWithRedirect(S){var $=this;return(0,c.Z)(function*(){return yield wn(G.aJ($.auth)),G.h($._delegate,S,Dn)})()}sendEmailVerification(S){return G.ag(this._delegate,S)}unlink(S){var $=this;return(0,c.Z)(function*(){return yield G.ap($._delegate,S),$})()}updateEmail(S){return G.al(this._delegate,S)}updatePassword(S){return G.am(this._delegate,S)}updatePhoneNumber(S){return G.u(this._delegate,S)}updateProfile(S){return G.ak(this._delegate,S)}verifyBeforeUpdateEmail(S,$){return G.ah(this._delegate,S,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cr.USER_MAP=new WeakMap;const pr=G.aC;let vi=(()=>{class F{constructor($,K){if(this.app=$,K.isInitialized())return this._delegate=K.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=$.options;pr(z,"invalid-api-key",{appName:$.name}),pr(z,"invalid-api-key",{appName:$.name});const de=typeof window<"u"?Dn:void 0;this._delegate=K.initialize({options:{persistence:ti(z,$.name),popupRedirectResolver:de}}),this._delegate._updateErrorMap(G.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,K){G.K(this._delegate,$,K)}applyActionCode($){return G.a7(this._delegate,$)}checkActionCode($){return G.a8(this._delegate,$)}confirmPasswordReset($,K){return G.a6(this._delegate,$,K)}createUserWithEmailAndPassword($,K){var z=this;return(0,c.Z)(function*(){return rr(z._delegate,G.aa(z._delegate,$,K))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return G.af(this._delegate,$)}isSignInWithEmailLink($){return G.ad(this._delegate,$)}getRedirectResult(){var $=this;return(0,c.Z)(function*(){pr(yn(),$._delegate,"operation-not-supported-in-this-environment");const K=yield G.j($._delegate,Dn);return K?rr($._delegate,Promise.resolve(K)):{credential:null,user:null}})()}addFrameworkForLogging($){!function j(F,S){(0,G.aJ)(F)._logFramework(S)}(this._delegate,$)}onAuthStateChanged($,K,z){const{next:de,error:ft,complete:St}=qr($,K,z);return this._delegate.onAuthStateChanged(de,ft,St)}onIdTokenChanged($,K,z){const{next:de,error:ft,complete:St}=qr($,K,z);return this._delegate.onIdTokenChanged(de,ft,St)}sendSignInLinkToEmail($,K){return G.ac(this._delegate,$,K)}sendPasswordResetEmail($,K){return G.a5(this._delegate,$,K||void 0)}setPersistence($){var K=this;return(0,c.Z)(function*(){let z;switch(function un(F,S){On(Object.values(xn).includes(S),F,"invalid-persistence-type"),(0,ue.b$)()?On(S!==xn.SESSION,F,"unsupported-persistence-type"):(0,ue.UG)()?On(S===xn.NONE,F,"unsupported-persistence-type"):gn()?On(S===xn.NONE||S===xn.LOCAL&&(0,ue.hl)(),F,"unsupported-persistence-type"):On(S===xn.NONE||Tt(),F,"unsupported-persistence-type")}(K._delegate,$),$){case xn.SESSION:z=G.a;break;case xn.LOCAL:z=(yield G.aE(G.i)._isAvailable())?G.i:G.b;break;case xn.NONE:z=G.U;break;default:return G.ax("argument-error",{appName:K._delegate.name})}return K._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return rr(this._delegate,G.a0(this._delegate))}signInWithCredential($){return rr(this._delegate,G.a1(this._delegate,$))}signInWithCustomToken($){return rr(this._delegate,G.a4(this._delegate,$))}signInWithEmailAndPassword($,K){return rr(this._delegate,G.ab(this._delegate,$,K))}signInWithEmailLink($,K){return rr(this._delegate,G.ae(this._delegate,$,K))}signInWithPhoneNumber($,K){return Dr(this._delegate,G.s(this._delegate,$,K))}signInWithPopup($){var K=this;return(0,c.Z)(function*(){return pr(yn(),K._delegate,"operation-not-supported-in-this-environment"),rr(K._delegate,G.c(K._delegate,$,Dn))})()}signInWithRedirect($){var K=this;return(0,c.Z)(function*(){return pr(yn(),K._delegate,"operation-not-supported-in-this-environment"),yield wn(K._delegate),G.f(K._delegate,$,Dn)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return G.a9(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=xn,F})();function qr(F,S,$){let K=F;"function"!=typeof F&&({next:K,error:S,complete:$}=F);const z=K;return{next:ft=>z(ft&&cr.getOrCreate(ft)),error:S,complete:$}}function ti(F,S){const $=function Zn(F,S){const $=Nn();if(!$)return[];const K=G.aF(Jt,F,S);switch($.getItem(K)){case xn.NONE:return[G.U];case xn.LOCAL:return[G.i,G.a];case xn.SESSION:return[G.a];default:return[]}}(F,S);if(typeof self<"u"&&!$.includes(G.i)&&$.push(G.i),typeof window<"u")for(const K of[G.b,G.a])$.includes(K)||$.push(K);return $.includes(G.U)||$.push(G.U),$}class vr{constructor(){this.providerId="phone",this._delegate=new G.P(nr(d.Z.auth()))}static credential(S,$){return G.P.credential(S,$)}verifyPhoneNumber(S,$){return this._delegate.verifyPhoneNumber(S,$)}unwrap(){return this._delegate}}vr.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,vr.PROVIDER_ID=G.P.PROVIDER_ID;const Cr=G.aC;class Kn{constructor(S,$,K=d.Z.app()){var z;Cr(null===(z=K.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:K.name}),this._delegate=new G.R(K.auth(),S,$),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function et(F){F.INTERNAL.registerComponent(new le.wA("auth-compat",S=>{const $=S.getProvider("app-compat").getImmediate(),K=S.getProvider("auth");return new vi($,K)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.V,FacebookAuthProvider:G.W,GithubAuthProvider:G.Y,GoogleAuthProvider:G.X,OAuthProvider:G.Z,SAMLAuthProvider:G._,PhoneAuthProvider:vr,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:Kn,TwitterAuthProvider:G.$,Auth:vi,AuthCredential:G.L,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.5.14")}(d.Z)},5878:(ln,gt,P)=>{"use strict";var c=P(3942),d=P(2404),G=P(2090),ue=P(4859);function le(M,A){if(void 0===A)return{merge:!1};if(void 0!==A.mergeFields&&void 0!==A.merge)throw new d.WA("invalid-argument",`Invalid options passed to function ${M}(): You cannot specify both "merge" and "mergeFields".`);return A}function qe(){if(typeof Uint8Array>"u")throw new d.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Qe(){if(!(0,d.Me)())throw new d.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fe{constructor(A){this._delegate=A}static fromBase64String(A){return Qe(),new fe(d.Jj.fromBase64String(A))}static fromUint8Array(A){return qe(),new fe(d.Jj.fromUint8Array(A))}toBase64(){return Qe(),this._delegate.toBase64()}toUint8Array(){return qe(),this._delegate.toUint8Array()}isEqual(A){return this._delegate.isEqual(A._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ae(M){return function Se(M,A){if("object"!=typeof M||null===M)return!1;const j=M;for(const Oe of A)if(Oe in j&&"function"==typeof j[Oe])return!0;return!1}(M,["next","error","complete"])}class Ie{enableIndexedDbPersistence(A,j){return(0,d.ST)(A._delegate,{forceOwnership:j})}enableMultiTabIndexedDbPersistence(A){return(0,d.fH)(A._delegate)}clearIndexedDbPersistence(A){return(0,d.Fc)(A._delegate)}}class ce{constructor(A,j,Oe){this._delegate=j,this._persistenceProvider=Oe,this.INTERNAL={delete:()=>this.terminate()},A instanceof d.l7||(this._appCompat=A)}get _databaseId(){return this._delegate._databaseId}settings(A){const j=this._delegate._getSettings();!A.merge&&j.host!==A.host&&(0,d.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),A.merge&&delete(A=Object.assign(Object.assign({},j),A)).merge,this._delegate._setSettings(A)}useEmulator(A,j,Oe={}){(0,d.at)(this._delegate,A,j,Oe)}enableNetwork(){return(0,d.Ix)(this._delegate)}disableNetwork(){return(0,d.TF)(this._delegate)}enablePersistence(A){let j=!1,Oe=!1;return A&&(j=!!A.synchronizeTabs,Oe=!!A.experimentalForceOwningTab,(0,d.Wi)("synchronizeTabs",j,"experimentalForceOwningTab",Oe)),j?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Oe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,d.Mx)(this._delegate)}onSnapshotsInSync(A){return(0,d.sc)(this._delegate,A)}get app(){if(!this._appCompat)throw new d.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(A){try{return new Xe(this,(0,d.hJ)(this._delegate,A))}catch(j){throw De(j,"collection()","Firestore.collection()")}}doc(A){try{return new yt(this,(0,d.JU)(this._delegate,A))}catch(j){throw De(j,"doc()","Firestore.doc()")}}collectionGroup(A){try{return new Me(this,(0,d.B$)(this._delegate,A))}catch(j){throw De(j,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(A){return(0,d.i3)(this._delegate,j=>A(new Ce(this,j)))}batch(){return(0,d.qY)(this._delegate),new Pe(new d.PU(this._delegate,A=>(0,d.GL)(this._delegate,A)))}loadBundle(A){return(0,d.Pb)(this._delegate,A)}namedQuery(A){return(0,d.L$)(this._delegate,A).then(j=>j?new Me(this,j):null)}}class ye extends d.u7{constructor(A){super(),this.firestore=A}convertBytes(A){return new fe(new d.Jj(A))}convertReference(A){const j=this.convertDocumentKey(A,this.firestore._databaseId);return yt.forKey(j,this.firestore,null)}}class Ce{constructor(A,j){this._firestore=A,this._delegate=j,this._userDataWriter=new ye(A)}get(A){const j=$e(A);return this._delegate.get(j).then(Oe=>new Je(this._firestore,new d.xU(this._firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,j.converter)))}set(A,j,Oe){const pe=$e(A);return Oe?(le("Transaction.set",Oe),this._delegate.set(pe,j,Oe)):this._delegate.set(pe,j),this}update(A,j,Oe,...pe){const He=$e(A);return 2===arguments.length?this._delegate.update(He,j):this._delegate.update(He,j,Oe,...pe),this}delete(A){const j=$e(A);return this._delegate.delete(j),this}}class Pe{constructor(A){this._delegate=A}set(A,j,Oe){const pe=$e(A);return Oe?(le("WriteBatch.set",Oe),this._delegate.set(pe,j,Oe)):this._delegate.set(pe,j),this}update(A,j,Oe,...pe){const He=$e(A);return 2===arguments.length?this._delegate.update(He,j):this._delegate.update(He,j,Oe,...pe),this}delete(A){const j=$e(A);return this._delegate.delete(j),this}commit(){return this._delegate.commit()}}class ot{constructor(A,j,Oe){this._firestore=A,this._userDataWriter=j,this._delegate=Oe}fromFirestore(A,j){const Oe=new d.$q(this._firestore._delegate,this._userDataWriter,A._key,A._document,A.metadata,null);return this._delegate.fromFirestore(new Ye(this._firestore,Oe),j??{})}toFirestore(A,j){return j?this._delegate.toFirestore(A,j):this._delegate.toFirestore(A)}static getInstance(A,j){const Oe=ot.INSTANCES;let pe=Oe.get(A);pe||(pe=new WeakMap,Oe.set(A,pe));let He=pe.get(j);return He||(He=new ot(A,new ye(A),j),pe.set(j,He)),He}}ot.INSTANCES=new WeakMap;class yt{constructor(A,j){this.firestore=A,this._delegate=j,this._userDataWriter=new ye(A)}static forPath(A,j,Oe){if(A.length%2!=0)throw new d.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${A.canonicalString()} has ${A.length}`);return new yt(j,new d.my(j._delegate,Oe,new d.Ky(A)))}static forKey(A,j,Oe){return new yt(j,new d.my(j._delegate,Oe,A))}get id(){return this._delegate.id}get parent(){return new Xe(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(A){try{return new Xe(this.firestore,(0,d.hJ)(this._delegate,A))}catch(j){throw De(j,"collection()","DocumentReference.collection()")}}isEqual(A){return(A=(0,G.m9)(A))instanceof d.my&&(0,d.Eo)(this._delegate,A)}set(A,j){j=le("DocumentReference.set",j);try{return j?(0,d.pl)(this._delegate,A,j):(0,d.pl)(this._delegate,A)}catch(Oe){throw De(Oe,"setDoc()","DocumentReference.set()")}}update(A,j,...Oe){try{return 1===arguments.length?(0,d.r7)(this._delegate,A):(0,d.r7)(this._delegate,A,j,...Oe)}catch(pe){throw De(pe,"updateDoc()","DocumentReference.update()")}}delete(){return(0,d.oe)(this._delegate)}onSnapshot(...A){const j=Ke(A),Oe=Ge(A,pe=>new Je(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,pe._key,pe._document,pe.metadata,this._delegate.converter)));return(0,d.cf)(this._delegate,j,Oe)}get(A){let j;return j="cache"===A?.source?(0,d.kl)(this._delegate):"server"===A?.source?(0,d.Xk)(this._delegate):(0,d.QT)(this._delegate),j.then(Oe=>new Je(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,this._delegate.converter)))}withConverter(A){return new yt(this.firestore,this._delegate.withConverter(A?ot.getInstance(this.firestore,A):null))}}function De(M,A,j){return M.message=M.message.replace(A,j),M}function Ke(M){for(const A of M)if("object"==typeof A&&!ae(A))return A;return{}}function Ge(M,A){var j,Oe;let pe;return pe=ae(M[0])?M[0]:ae(M[1])?M[1]:"function"==typeof M[0]?{next:M[0],error:M[1],complete:M[2]}:{next:M[1],error:M[2],complete:M[3]},{next:He=>{pe.next&&pe.next(A(He))},error:null===(j=pe.error)||void 0===j?void 0:j.bind(pe),complete:null===(Oe=pe.complete)||void 0===Oe?void 0:Oe.bind(pe)}}class Je{constructor(A,j){this._firestore=A,this._delegate=j}get ref(){return new yt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(A){return this._delegate.data(A)}get(A,j){return this._delegate.get(A,j)}isEqual(A){return(0,d.qK)(this._delegate,A._delegate)}}class Ye extends Je{data(A){const j=this._delegate.data(A);return this._delegate._converter||(0,d.K9)(void 0!==j,"Document in a QueryDocumentSnapshot should exist"),j}}class Me{constructor(A,j){this.firestore=A,this._delegate=j,this._userDataWriter=new ye(A)}where(A,j,Oe){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.ar)(A,j,Oe)))}catch(pe){throw De(pe,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(A,j){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.Xo)(A,j)))}catch(Oe){throw De(Oe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.b9)(A)))}catch(j){throw De(j,"limit()","Query.limit()")}}limitToLast(A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.vh)(A)))}catch(j){throw De(j,"limitToLast()","Query.limitToLast()")}}startAt(...A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.e0)(...A)))}catch(j){throw De(j,"startAt()","Query.startAt()")}}startAfter(...A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.TQ)(...A)))}catch(j){throw De(j,"startAfter()","Query.startAfter()")}}endBefore(...A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.Lx)(...A)))}catch(j){throw De(j,"endBefore()","Query.endBefore()")}}endAt(...A){try{return new Me(this.firestore,(0,d.IO)(this._delegate,(0,d.Wu)(...A)))}catch(j){throw De(j,"endAt()","Query.endAt()")}}isEqual(A){return(0,d.iE)(this._delegate,A._delegate)}get(A){let j;return j="cache"===A?.source?(0,d.UQ)(this._delegate):"server"===A?.source?(0,d.zN)(this._delegate):(0,d.PL)(this._delegate),j.then(Oe=>new ze(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,Oe._snapshot)))}onSnapshot(...A){const j=Ke(A),Oe=Ge(A,pe=>new ze(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,pe._snapshot)));return(0,d.cf)(this._delegate,j,Oe)}withConverter(A){return new Me(this.firestore,this._delegate.withConverter(A?ot.getInstance(this.firestore,A):null))}}class oe{constructor(A,j){this._firestore=A,this._delegate=j}get type(){return this._delegate.type}get doc(){return new Ye(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ze{constructor(A,j){this._firestore=A,this._delegate=j}get query(){return new Me(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(A=>new Ye(this._firestore,A))}docChanges(A){return this._delegate.docChanges(A).map(j=>new oe(this._firestore,j))}forEach(A,j){this._delegate.forEach(Oe=>{A.call(j,new Ye(this._firestore,Oe))})}isEqual(A){return(0,d.qK)(this._delegate,A._delegate)}}class Xe extends Me{constructor(A,j){super(A,j),this.firestore=A,this._delegate=j}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const A=this._delegate.parent;return A?new yt(this.firestore,A):null}doc(A){try{return new yt(this.firestore,void 0===A?(0,d.JU)(this._delegate):(0,d.JU)(this._delegate,A))}catch(j){throw De(j,"doc()","CollectionReference.doc()")}}add(A){return(0,d.ET)(this._delegate,A).then(j=>new yt(this.firestore,j))}isEqual(A){return(0,d.Eo)(this._delegate,A._delegate)}withConverter(A){return new Xe(this.firestore,this._delegate.withConverter(A?ot.getInstance(this.firestore,A):null))}}function $e(M){return(0,d.Cf)(M,d.my)}class xe{constructor(...A){this._delegate=new d.Lz(...A)}static documentId(){return new xe(d.Xb.keyField().canonicalString())}isEqual(A){return(A=(0,G.m9)(A))instanceof d.Lz&&this._delegate._internalPath.isEqual(A._internalPath)}}class lt{constructor(A){this._delegate=A}static serverTimestamp(){const A=(0,d.Bt)();return A._methodName="FieldValue.serverTimestamp",new lt(A)}static delete(){const A=(0,d.AK)();return A._methodName="FieldValue.delete",new lt(A)}static arrayUnion(...A){const j=(0,d.vr)(...A);return j._methodName="FieldValue.arrayUnion",new lt(j)}static arrayRemove(...A){const j=(0,d.Ab)(...A);return j._methodName="FieldValue.arrayRemove",new lt(j)}static increment(A){const j=(0,d.nP)(A);return j._methodName="FieldValue.increment",new lt(j)}isEqual(A){return this._delegate.isEqual(A._delegate)}}const be={Firestore:ce,GeoPoint:d.F8,Timestamp:d.EK,Blob:fe,Transaction:Ce,WriteBatch:Pe,DocumentReference:yt,DocumentSnapshot:Je,Query:Me,QueryDocumentSnapshot:Ye,QuerySnapshot:ze,CollectionReference:Xe,FieldPath:xe,FieldValue:lt,setLogLevel:function Ve(M){(0,d.Ub)(M)},CACHE_SIZE_UNLIMITED:d.IX};!function Z(M){(function he(M,A){M.INTERNAL.registerComponent(new ue.wA("firestore-compat",j=>{const Oe=j.getProvider("app-compat").getImmediate(),pe=j.getProvider("firestore").getImmediate();return A(Oe,pe)},"PUBLIC").setServiceProps(Object.assign({},be)))})(M,(A,j)=>new ce(A,j,new Ie)),M.registerVersion("@firebase/firestore-compat","0.3.38")}(c.Z)},8766:(ln,gt,P)=>{"use strict";P.d(gt,{Lj:()=>De,X3:()=>yt});var c=P(5861);const d=(Me,oe)=>oe.some(ze=>Me instanceof ze);let G,ue;const le=new WeakMap,qe=new WeakMap,Qe=new WeakMap,fe=new WeakMap,ae=new WeakMap;let ce={get(Me,oe,ze){if(Me instanceof IDBTransaction){if("done"===oe)return qe.get(Me);if("objectStoreNames"===oe)return Me.objectStoreNames||Qe.get(Me);if("store"===oe)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return Pe(Me[oe])},set:(Me,oe,ze)=>(Me[oe]=ze,!0),has:(Me,oe)=>Me instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in Me};function Ce(Me){return"function"==typeof Me?function Ve(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...oe){return Me.apply(ot(this),oe),Pe(le.get(this))}:function(...oe){return Pe(Me.apply(ot(this),oe))}:function(oe,...ze){const Xe=Me.call(ot(this),oe,...ze);return Qe.set(Xe,oe.sort?oe.sort():[oe]),Pe(Xe)}}(Me):(Me instanceof IDBTransaction&&function Ie(Me){if(qe.has(Me))return;const oe=new Promise((ze,Xe)=>{const $e=()=>{Me.removeEventListener("complete",xe),Me.removeEventListener("error",lt),Me.removeEventListener("abort",lt)},xe=()=>{ze(),$e()},lt=()=>{Xe(Me.error||new DOMException("AbortError","AbortError")),$e()};Me.addEventListener("complete",xe),Me.addEventListener("error",lt),Me.addEventListener("abort",lt)});qe.set(Me,oe)}(Me),d(Me,function Ae(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,ce):Me)}function Pe(Me){if(Me instanceof IDBRequest)return function Se(Me){const oe=new Promise((ze,Xe)=>{const $e=()=>{Me.removeEventListener("success",xe),Me.removeEventListener("error",lt)},xe=()=>{ze(Pe(Me.result)),$e()},lt=()=>{Xe(Me.error),$e()};Me.addEventListener("success",xe),Me.addEventListener("error",lt)});return oe.then(ze=>{ze instanceof IDBCursor&&le.set(ze,Me)}).catch(()=>{}),ae.set(oe,Me),oe}(Me);if(fe.has(Me))return fe.get(Me);const oe=Ce(Me);return oe!==Me&&(fe.set(Me,oe),ae.set(oe,Me)),oe}const ot=Me=>ae.get(Me);function yt(Me,oe,{blocked:ze,upgrade:Xe,blocking:$e,terminated:xe}={}){const lt=indexedDB.open(Me,oe),be=Pe(lt);return Xe&&lt.addEventListener("upgradeneeded",he=>{Xe(Pe(lt.result),he.oldVersion,he.newVersion,Pe(lt.transaction),he)}),ze&&lt.addEventListener("blocked",he=>ze(he.oldVersion,he.newVersion,he)),be.then(he=>{xe&&he.addEventListener("close",()=>xe()),$e&&he.addEventListener("versionchange",Z=>$e(Z.oldVersion,Z.newVersion,Z))}).catch(()=>{}),be}function De(Me,{blocked:oe}={}){const ze=indexedDB.deleteDatabase(Me);return oe&&ze.addEventListener("blocked",Xe=>oe(Xe.oldVersion,Xe)),Pe(ze).then(()=>{})}const Ke=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],Je=new Map;function Ye(Me,oe){if(!(Me instanceof IDBDatabase)||oe in Me||"string"!=typeof oe)return;if(Je.get(oe))return Je.get(oe);const ze=oe.replace(/FromIndex$/,""),Xe=oe!==ze,$e=Ge.includes(ze);if(!(ze in(Xe?IDBIndex:IDBObjectStore).prototype)||!$e&&!Ke.includes(ze))return;const xe=function(){var lt=(0,c.Z)(function*(be,...he){const Z=this.transaction(be,$e?"readwrite":"readonly");let M=Z.store;return Xe&&(M=M.index(he.shift())),(yield Promise.all([M[ze](...he),$e&&Z.done]))[0]});return function(he){return lt.apply(this,arguments)}}();return Je.set(oe,xe),xe}!function ye(Me){ce=Me(ce)}(Me=>({...Me,get:(oe,ze,Xe)=>Ye(oe,ze)||Me.get(oe,ze,Xe),has:(oe,ze)=>!!Ye(oe,ze)||Me.has(oe,ze)}))},5861:(ln,gt,P)=>{"use strict";function c(G,ue,Ae,Fe,le,qe,Qe){try{var fe=G[qe](Qe),ae=fe.value}catch(Se){return void Ae(Se)}fe.done?ue(ae):Promise.resolve(ae).then(Fe,le)}function d(G){return function(){var ue=this,Ae=arguments;return new Promise(function(Fe,le){var qe=G.apply(ue,Ae);function Qe(ae){c(qe,Fe,le,Qe,fe,"next",ae)}function fe(ae){c(qe,Fe,le,Qe,fe,"throw",ae)}Qe(void 0)})}}P.d(gt,{Z:()=>d})},1180:(ln,gt,P)=>{"use strict";function c(Ae){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Fe){return typeof Fe}:function(Fe){return Fe&&"function"==typeof Symbol&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe})(Ae)}function ue(Ae,Fe,le){return(Fe=function G(Ae){var Fe=function d(Ae,Fe){if("object"!==c(Ae)||null===Ae)return Ae;var le=Ae[Symbol.toPrimitive];if(void 0!==le){var qe=le.call(Ae,Fe||"default");if("object"!==c(qe))return qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Fe?String:Number)(Ae)}(Ae,"string");return"symbol"===c(Fe)?Fe:String(Fe)}(Fe))in Ae?Object.defineProperty(Ae,Fe,{value:le,enumerable:!0,configurable:!0,writable:!0}):Ae[Fe]=le,Ae}P.d(gt,{Z:()=>ue})},7582:(ln,gt,P)=>{"use strict";function ue(be,he){var Z={};for(var M in be)Object.prototype.hasOwnProperty.call(be,M)&&he.indexOf(M)<0&&(Z[M]=be[M]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(M=Object.getOwnPropertySymbols(be);A<M.length;A++)he.indexOf(M[A])<0&&Object.prototype.propertyIsEnumerable.call(be,M[A])&&(Z[M[A]]=be[M[A]])}return Z}function Ae(be,he,Z,M){var Oe,A=arguments.length,j=A<3?he:null===M?M=Object.getOwnPropertyDescriptor(he,Z):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(be,he,Z,M);else for(var pe=be.length-1;pe>=0;pe--)(Oe=be[pe])&&(j=(A<3?Oe(j):A>3?Oe(he,Z,j):Oe(he,Z))||j);return A>3&&j&&Object.defineProperty(he,Z,j),j}function Se(be,he,Z,M){return new(Z||(Z=Promise))(function(j,Oe){function pe(Ue){try{We(M.next(Ue))}catch(it){Oe(it)}}function He(Ue){try{We(M.throw(Ue))}catch(it){Oe(it)}}function We(Ue){Ue.done?j(Ue.value):function A(j){return j instanceof Z?j:new Z(function(Oe){Oe(j)})}(Ue.value).then(pe,He)}We((M=M.apply(be,he||[])).next())})}function De(be){return this instanceof De?(this.v=be,this):new De(be)}function Ke(be,he,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,M=Z.apply(be,he||[]),j=[];return A={},Oe("next"),Oe("throw"),Oe("return"),A[Symbol.asyncIterator]=function(){return this},A;function Oe(st){M[st]&&(A[st]=function(at){return new Promise(function(Ct,Kt){j.push([st,at,Ct,Kt])>1||pe(st,at)})})}function pe(st,at){try{!function He(st){st.value instanceof De?Promise.resolve(st.value.v).then(We,Ue):it(j[0][2],st)}(M[st](at))}catch(Ct){it(j[0][3],Ct)}}function We(st){pe("next",st)}function Ue(st){pe("throw",st)}function it(st,at){st(at),j.shift(),j.length&&pe(j[0][0],j[0][1])}}function Je(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,he=be[Symbol.asyncIterator];return he?he.call(be):(be=function Ve(be){var he="function"==typeof Symbol&&Symbol.iterator,Z=he&&be[he],M=0;if(Z)return Z.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&M>=be.length&&(be=void 0),{value:be&&be[M++],done:!be}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Z={},M("next"),M("throw"),M("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function M(j){Z[j]=be[j]&&function(Oe){return new Promise(function(pe,He){!function A(j,Oe,pe,He){Promise.resolve(He).then(function(We){j({value:We,done:pe})},Oe)}(pe,He,(Oe=be[j](Oe)).done,Oe.value)})}}}P.d(gt,{FC:()=>Ke,KL:()=>Je,_T:()=>ue,gn:()=>Ae,mG:()=>Se,qq:()=>De})}},ln=>{ln(ln.s=7497)}]);